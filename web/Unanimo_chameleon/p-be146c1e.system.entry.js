var __awaiter=this&&this.__awaiter||function(e,t,i,a){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function l(e){try{c(a.next(e))}catch(e){s(e)}}function n(e){try{c(a["throw"](e))}catch(e){s(e)}}function c(e){e.done?i(e.value):r(e.value).then(l,n)}c((a=a.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,r,s,l;return l={next:n(0),throw:n(1),return:n(2)},typeof Symbol==="function"&&(l[Symbol.iterator]=function(){return this}),l;function n(e){return function(t){return c([e,t])}}function c(n){if(a)throw new TypeError("Generator is already executing.");while(l&&(l=0,n[0]&&(i=0)),i)try{if(a=1,r&&(s=n[0]&2?r["return"]:n[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;if(r=0,s)n=[n[0]&2,s.value];switch(n[0]){case 0:case 1:s=n;break;case 4:i.label++;return{value:n[1],done:false};case 5:i.label++;r=n[1];n=[0];continue;case 7:n=i.ops.pop();i.trys.pop();continue;default:if(!(s=i.trys,s=s.length>0&&s[s.length-1])&&(n[0]===6||n[0]===2)){i=0;continue}if(n[0]===3&&(!s||n[1]>s[0]&&n[1]<s[3])){i.label=n[1];break}if(n[0]===6&&i.label<s[1]){i.label=s[1];s=n;break}if(s&&i.label<s[2]){i.label=s[2];i.ops.push(n);break}if(s[2])i.ops.pop();i.trys.pop();continue}n=t.call(e,i)}catch(e){n=[6,e];r=0}finally{a=s=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:true}}};var __classPrivateFieldSet=this&&this.__classPrivateFieldSet||function(e,t,i,a,r){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?r.call(e,i):r?r.value=i:t.set(e,i),i};var __classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(e,t,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(e):a?a.value:t.get(e)};var __spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var a=0,r=t.length,s;a<r;a++){if(s||!(a in t)){if(!s)s=Array.prototype.slice.call(t,0,a);s[a]=t[a]}}return e.concat(s||Array.prototype.slice.call(t))};System.register(["./p-62fc4e49.system.js","./p-81126801.system.js","./p-d00196af.system.js"],(function(e){"use strict";var t,i,a,r,s,l,n;return{setters:[function(e){t=e.r;i=e.c;a=e.g;r=e.h;s=e.H},function(e){l=e.e},function(e){n=e.S}],execute:function(){var c,v,f,o,_,d,u,h,F,P,G,p,w,y,b,S,k,M,m,g,x,W,z;var C=function(e){return e.hasAttribute("data-did-load")&&e.style.display!=="none"};var I=function(e,t){var i=e.getBoundingClientRect();var a=t.x;var r=t.x+t.width;var s=t.y;var n=t.y+t.height;var c=i.x;var v=i.x+i.width;var f=i.y;var o=i.y+i.height;return(l(a,c,r)||l(a,v,r))&&(l(s,f,n)||l(s,o,n))};var j=function(e,t,i){var a=t;var r=t+i.height;var s=e.offsetTop;var n=e.offsetTop+e.height;return l(a,s,r)||l(a,n,r)};var A=function(e){return e===undefined||e.length===0};var T=function(e){return __spreadArray([],e.querySelectorAll(":scope>ch-smart-grid-cell"),true)};var E=function(e,t,i){var a=[];var r=new Set;for(var s=e.startIndex;s<=e.endIndex;s++){var l=i[s];r.add(l.id)}e.renderedCells.forEach((function(e){if(!r.has(e.cellId)&&C(e)&&e.style.display!=="none"){var i=e.offsetTop,s=e.offsetLeft;var l=e.getBoundingClientRect();a.push(e);t.set(e.cellId,{width:l.width,height:l.height,offsetTop:i,offsetLeft:s})}}));return a};var L=function(e,t,i){var a=T(e);var r=t.getBoundingClientRect();var s=a.length-1;var n=i?s:0;var c=i?-1:1;while(l(0,n,s)){var v=a[n];if(C(v)){if(!I(v,r)){return true}}else{return false}n+=c}return true};var O={type:"waiting-for-cells-to-render"};var q=function(e,t,i,a,r,s,n){var c="";var v=0;i.forEach((function(e,t){var i=e.offsetTop+e.height;var a=i<=r;if(a&&v<=i){v=i;c=t}}));var f=t.findIndex((function(e){return e.id===c}));var o=Math.max(0,f+1-a);var _=t.length-1;var d=f+1;var u=0;var h=0;if(n){return{startIndex:o,endIndex:_,renderedCells:e,type:"index"}}while(l(0,d,_)&&h<a){var F=t[d].id;var P=i.get(F);if(P){var G=j(P,r,s);if(!G){h++}}else{var p=e[u];var w=I(p,s);if(!w){h++}u++}d++}d=Math.min(_,d+a-1);return{startIndex:o,endIndex:d,renderedCells:e,type:"index"}};var D=function(e,t){return t<=e};var R=function(e,t){return e<=t};var B=function(e,t,i,a){var r=i.length-1;var s=e===1?r-t:t;var l=e===1?R:D;var n=e===1?0:r;var c=t;while(l(n,s)){var v=i[n];if(I(v,a)){break}c--;n+=e}return c};var H=function(e,t,i,a,r,s,l,n){var c=T(e);var v=c.every(C);if(!v){return O}var f=t.getBoundingClientRect();var o=t.scrollTop;var _=c[1];var d=r>0&&_.style.display!=="none"&&o<_.offsetTop;if(d){return q(c,i,a,l,o,f,n)}var u=c.at(-2);var h=s>0&&u.style.display!=="none"&&u.offsetTop+u.getBoundingClientRect().height<o;if(h){return q(c,i,a,l,o,f,n)}var F=B(1,l,c,f);var P=n?i.length-1:B(-1,l,c,f);return{startShift:F,endShift:P,renderedCells:c,type:"shift"}};var J=':host{--ch-virtual-scroll__scroll-start-size:0px;--ch-virtual-scroll__scroll-end-size:0px;--ch-virtual-scroll__scroll-start-display:none;--ch-virtual-scroll__scroll-end-display:none;display:grid;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content}:host(.ch-virtual-scroller--content-not-loaded){opacity:0;pointer-events:none}:host(.ch-virtual-scroller--content-loaded) ::slotted(ch-smart-grid-cell:not([data-did-load])){position:absolute;pointer-events:none;visibility:hidden}:host(.ch-virtual-scroller--virtual-scroll)::before{content:"";display:var(--ch-virtual-scroll__scroll-start-display);block-size:calc(var(--ch-virtual-scroll__scroll-start-size));inline-size:0px;pointer-events:none}:host(.ch-virtual-scroller--virtual-scroll)::after{content:"";display:var(--ch-virtual-scroll__scroll-end-display);block-size:calc(var(--ch-virtual-scroll__scroll-end-size));inline-size:0px;pointer-events:none}';var K=J;var N="--ch-virtual-scroll__scroll-";var Q="".concat(N,"start-size");var U="".concat(N,"start-display");var V="".concat(N,"end-size");var X="".concat(N,"end-display");var Y=e("ch_virtual_scroller",(z=function(){function e(e){var a=this;c.set(this,0);v.set(this,0);f.set(this,0);o.set(this,0);_.set(this,true);d.set(this,false);u.set(this,void 0);h.set(this,new n);F.set(this,void 0);P.set(this,void 0);G.set(this,void 0);p.set(this,(function(e){__classPrivateFieldSet(a,f,0,"f");__classPrivateFieldSet(a,o,0,"f");var t=a.items;var i=__classPrivateFieldGet(a,F,"f");var r=t.length-1;var s=Math.max(0,__classPrivateFieldGet(a,c,"f")-1);var l=Math.min(r,__classPrivateFieldGet(a,v,"f")+1);var n=i.get(t[s].id);var _=i.get(t[l].id);if(n){__classPrivateFieldSet(a,f,n.offsetTop+n.height,"f")}var d=Math.max(1,__classPrivateFieldGet(a,c,"f"));for(var u=d;u<__classPrivateFieldGet(a,v,"f");u++){var h=t[u].id;var P=i.get(h);if(P){__classPrivateFieldSet(a,f,__classPrivateFieldGet(a,f,"f")+P.height,"f")}}if(__classPrivateFieldGet(a,v,"f")===r){var h=t[__classPrivateFieldGet(a,v,"f")].id;var P=i.get(h);if(P){__classPrivateFieldSet(a,f,__classPrivateFieldGet(a,f,"f")+P.height,"f")}}else if(_){var G=0;i.forEach((function(e){G=Math.max(G,e.offsetTop+e.height)}));__classPrivateFieldSet(a,o,G-_.offsetTop,"f")}e===null||e===void 0?void 0:e.forEach((function(e){e.style.display="none"}));a.el.style.setProperty(Q,"".concat(__classPrivateFieldGet(a,f,"f"),"px"));a.el.style.setProperty(U,__classPrivateFieldGet(a,f,"f")===0?"none":"block");a.el.style.setProperty(V,"".concat(__classPrivateFieldGet(a,o,"f"),"px"));a.el.style.setProperty(X,__classPrivateFieldGet(a,o,"f")===0?"none":"block")}));w.set(this,(function(){if(__classPrivateFieldGet(a,_,"f")){__classPrivateFieldGet(a,h,"f").perform(__classPrivateFieldGet(a,y,"f"))}}));y.set(this,(function(){var e=H(a.el,__classPrivateFieldGet(a,G,"f"),a.items,__classPrivateFieldGet(a,F,"f"),__classPrivateFieldGet(a,f,"f"),__classPrivateFieldGet(a,o,"f"),a.bufferAmount,a.inverseLoading);if(e.type==="waiting-for-cells-to-render"){__classPrivateFieldSet(a,d,true,"f");return}__classPrivateFieldSet(a,d,false,"f");if(e.type==="shift"){if(e.startShift===0&&e.endShift===0){return}__classPrivateFieldGet(a,M,"f").call(a,e.startShift,e.endShift,e.renderedCells)}else{var t=e.startIndex,i=e.endIndex;if(__classPrivateFieldGet(a,c,"f")===t&&__classPrivateFieldGet(a,v,"f")===i){return}var r=E(e,__classPrivateFieldGet(a,F,"f"),a.items);__classPrivateFieldSet(a,c,t,"f");__classPrivateFieldSet(a,v,i,"f");__classPrivateFieldGet(a,b,"f").call(a,r)}}));b.set(this,(function(e){__classPrivateFieldGet(a,p,"f").call(a,e);var t=a.items.slice(__classPrivateFieldGet(a,c,"f"),__classPrivateFieldGet(a,v,"f")+1);a.virtualItemsChanged.emit({startIndex:__classPrivateFieldGet(a,c,"f"),endIndex:__classPrivateFieldGet(a,v,"f"),totalItems:a.items.length,virtualItems:t})}));S.set(this,(function(){__classPrivateFieldSet(a,f,0,"f");__classPrivateFieldSet(a,o,0,"f");if(a.inverseLoading){var e=a.items.length-1;__classPrivateFieldSet(a,c,e,"f");__classPrivateFieldSet(a,v,e,"f")}else{__classPrivateFieldSet(a,c,0,"f");__classPrivateFieldSet(a,v,0,"f")}if(a.mode==="virtual-scroll"){__classPrivateFieldSet(a,F,new Map,"f")}}));k.set(this,(function(e){if(A(e)){__classPrivateFieldGet(a,b,"f").call(a);return}var t=a.initialRenderViewportItems+a.bufferAmount;if(a.inverseLoading){__classPrivateFieldGet(a,M,"f").call(a,t,0)}else{__classPrivateFieldGet(a,M,"f").call(a,0,t)}}));M.set(this,(function(e,t,i){var r=a.mode==="lazy-render"?Math.max(0,e):e;var s=a.mode==="lazy-render"?Math.max(0,t):t;if(r===0&&s===0){return}var l=Math.min(__classPrivateFieldGet(a,v,"f")+s,a.items.length-1);var n=Math.max(0,__classPrivateFieldGet(a,c,"f")-r);if(__classPrivateFieldGet(a,c,"f")===n&&__classPrivateFieldGet(a,v,"f")===l&&a.items.length>1){return}__classPrivateFieldSet(a,c,n,"f");__classPrivateFieldSet(a,v,l,"f");var f=a.mode==="virtual-scroll"&&i!==undefined&&i.length>0?E({endIndex:__classPrivateFieldGet(a,v,"f"),startIndex:__classPrivateFieldGet(a,c,"f"),renderedCells:i,type:"index"},__classPrivateFieldGet(a,F,"f"),a.items):[];__classPrivateFieldGet(a,b,"f").call(a,f)}));m.set(this,(function(){__classPrivateFieldSet(a,u,new AbortController,"f");requestAnimationFrame((function(){__classPrivateFieldGet(a,G,"f").addEventListener("scroll",__classPrivateFieldGet(a,w,"f"),{passive:true,signal:__classPrivateFieldGet(a,u,"f").signal});__classPrivateFieldSet(a,P,new ResizeObserver(__classPrivateFieldGet(a,w,"f")),"f");__classPrivateFieldGet(a,P,"f").observe(__classPrivateFieldGet(a,G,"f"))}))}));g.set(this,(function(e){if(a.waitingForContent){__classPrivateFieldGet(a,x,"f").call(a)}else{__classPrivateFieldGet(a,W,"f").call(a,e.detail)}}));x.set(this,(function(){return __classPrivateFieldGet(a,h,"f").perform((function(){var e=!L(a.el,__classPrivateFieldGet(a,G,"f"),a.inverseLoading);if(!e){requestAnimationFrame((function(){a.virtualScrollerDidLoad.emit();a.waitingForContent=e}))}}))}));W.set(this,(function(e){__classPrivateFieldGet(a,F,"f").delete(e);__classPrivateFieldGet(a,p,"f").call(a);if(__classPrivateFieldGet(a,d,"f")){__classPrivateFieldGet(a,w,"f").call(a)}}));t(this,e);this.virtualItemsChanged=i(this,"virtualItemsChanged",7);this.virtualScrollerDidLoad=i(this,"virtualScrollerDidLoad",7);this.waitingForContent=true;this.bufferAmount=5;this.initialRenderViewportItems=10;this.inverseLoading=false;this.items=undefined;this.itemsCount=undefined;this.mode="virtual-scroll"}Object.defineProperty(e.prototype,"el",{get:function(){return a(this)},enumerable:false,configurable:true});e.prototype.waitingForContentChanged=function(){__classPrivateFieldGet(this,m,"f").call(this)};e.prototype.itemsChanged=function(e){__classPrivateFieldGet(this,S,"f").call(this);__classPrivateFieldGet(this,k,"f").call(this,e)};e.prototype.addItems=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}return __awaiter(this,void 0,void 0,(function(){var i;var a,r;return __generator(this,(function(s){if(e==="start"){(a=this.items).unshift.apply(a,t);i=t.length;__classPrivateFieldSet(this,c,__classPrivateFieldGet(this,c,"f")+i,"f");__classPrivateFieldSet(this,v,__classPrivateFieldGet(this,v,"f")+i,"f")}else{(r=this.items).push.apply(r,t)}__classPrivateFieldGet(this,w,"f").call(this);return[2]}))}))};e.prototype.connectedCallback=function(){this.el.addEventListener("smartCellDidLoad",__classPrivateFieldGet(this,g,"f"));__classPrivateFieldGet(this,S,"f").call(this)};e.prototype.componentDidLoad=function(){__classPrivateFieldSet(this,G,this.el.closest("ch-smart-grid"),"f");__classPrivateFieldGet(this,k,"f").call(this,this.items)};e.prototype.disconnectedCallback=function(){var e;(e=__classPrivateFieldGet(this,P,"f"))===null||e===void 0?void 0:e.disconnect();__classPrivateFieldSet(this,P,undefined,"f");__classPrivateFieldGet(this,h,"f").cancel();__classPrivateFieldSet(this,h,undefined,"f");__classPrivateFieldGet(this,u,"f").abort()};e.prototype.render=function(){return r(s,{key:"2be1c9ea6851f174f8d31dd250b882a74bd37294",class:{"ch-virtual-scroller--content-not-loaded":this.waitingForContent,"ch-virtual-scroller--content-loaded":!this.waitingForContent,"ch-virtual-scroller--virtual-scroll":!this.waitingForContent&&this.mode==="virtual-scroll"}},r("slot",{key:"ce7acec855305ae5cf06b4ba3a53f066d2b3799e",onSlotchange:this.waitingForContent?__classPrivateFieldGet(this,x,"f"):undefined}))};Object.defineProperty(e,"watchers",{get:function(){return{waitingForContent:["waitingForContentChanged"],items:["itemsChanged"]}},enumerable:false,configurable:true});return e}(),c=new WeakMap,v=new WeakMap,f=new WeakMap,o=new WeakMap,_=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,F=new WeakMap,P=new WeakMap,G=new WeakMap,p=new WeakMap,w=new WeakMap,y=new WeakMap,b=new WeakMap,S=new WeakMap,k=new WeakMap,M=new WeakMap,m=new WeakMap,g=new WeakMap,x=new WeakMap,W=new WeakMap,z));Y.style=K}}}));
//# sourceMappingURL=p-be146c1e.system.entry.js.map