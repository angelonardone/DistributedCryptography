import{r as t,c as e,g as i,h as s,H as n,f as a}from"./p-7af91c05.js";import{t as o,u as r}from"./p-6d91f415.js";import{k as c,l,m as h,K as d,n as f,o as u,p as m,s as g,S as p}from"./p-625020d1.js";import{g as b,D as v}from"./p-ebac9feb.js";import{f as x,m as k}from"./p-5f934da7.js";import{r as y}from"./p-23a9d308.js";import{a as _}from"./p-a859514b.js";import"./p-e7a788ef.js";const w=':where(button,a){all:unset;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}:host,.group{display:grid;grid-template-rows:-webkit-min-content;grid-template-rows:min-content}.action::before{content:"";inline-size:var(--ch-action-list-group__expandable-button-size);block-size:var(--ch-action-list-group__expandable-button-size);background-color:currentColor;-webkit-mask:no-repeat center/var(--ch-action-list-group__expandable-button-image-size) url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" fill="none"><path d="M16.5 5L8.7 12.7L1 5" stroke="%23000" stroke-width="1.2" stroke-linecap="round"/></svg>\')}.action--collapsed::before{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.expandable{display:grid;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content;position:relative;padding:0;margin:0}.expandable--lazy-loaded{content-visibility:auto;contain-intrinsic-size:auto 100px}.expandable--collapsed{display:none;overflow:hidden}';const C=w;const z="expandable";const L=class{constructor(i){t(this,i);this.loadLazyContent=e(this,"loadLazyContent",7);this.caption=undefined;this.disabled=false;this.downloading=false;this.expandable=undefined;this.expanded=undefined;this.lazyLoad=false;this.metadata=undefined;this.parts=undefined;this.selected=false;this.showDownloadingSpinner=true}#t;get el(){return i(this)}loadLazyContent;async setFocus(){if(this.expandable&&this.#t){this.#t.focus()}}#e=()=>this.expandable?this.expanded??false:true;connectedCallback(){this.el.setAttribute("role","listitem");this.el.setAttribute("part",c.GROUP);this.el.setAttribute("exportparts",l)}render(){const t=!this.lazyLoad;const e=t&&this.#e();return s(n,{key:"010de71306c1a143dfb7ad4b1030987a49c32af1"},this.expandable?s("button",{"aria-controls":t?z:null,"aria-expanded":t?e.toString():null,class:{action:true,"action--collapsed":!e},disabled:this.disabled,part:o({[h.ACTION]:true,[h.SELECTED]:this.selected,[h.NOT_SELECTED]:!this.selected,[h.DISABLED]:this.disabled}),type:"button",ref:t=>this.#t=t},this.caption):s("span",{class:"action",part:o({[h.CAPTION]:true,[h.DISABLED]:this.disabled})},this.caption),t&&s("ul",{key:"d3cbb9f5e8722496b12fe4678cc572ab16dab40a","aria-busy":(!!this.downloading).toString(),"aria-live":this.downloading?"polite":null,class:{expandable:true,"expandable--collapsed":!e,"expandable--lazy-loaded":!this.downloading},part:o({[h.EXPANDABLE]:true,[h.EXPANDED]:e,[h.COLLAPSED]:!e,[h.LAZY_LOADED]:!this.downloading}),id:z},s("slot",{key:"9c07f26c2c5190b6357221d4285eb73dd39b1880"})))}static get delegatesFocus(){return true}};L.style=C;const I=(t,e,i,n)=>n==="img"&&i&&s("img",{"aria-hidden":"true",class:t,part:e,alt:"",src:i,loading:"lazy"});const V=/\s+/g;const H=(t,e)=>{if(t==null){return}for(let i=0;i<t.length;i++){const s=t[i];if(s.part){e.add(s.part.trim().replaceAll(V,","))}}};const M=(t,e)=>{if(t!=null){H(t.start,e);H(t.center,e);H(t.end,e)}};const $=t=>{const e=new Set;M(t["block-start"],e);M(t["block-end"],e);M(t["inline-caption"],e);M(t["stretch-start"],e);M(t["stretch-end"],e);return e};const A=["block-start","block-end","inline-caption","stretch-start","stretch-end"];const S=(t,e)=>{if(e==null){return false}return e.some((e=>e.action&&e.action.type===t))};const j=(t,e,i)=>{if(i==null){return undefined}let s;if(S(t,i.start)){s={section:e,align:["start"]}}if(S(t,i.center)){if(s){s.align.push("center")}else{s={section:e,align:["center"]}}}if(S(t,i.end)){if(s){s.align.push("end")}else{s={section:e,align:["end"]}}}return s};const Z=(t,e)=>{if(e==null){return undefined}let i=undefined;A.forEach((s=>{const n=j(t,s,e[s]);if(n){i??=[];i.push(n)}}));return i};const D=':where(button,a){all:unset;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}:host{display:grid;grid-template-rows:-webkit-min-content;grid-template-rows:min-content}.action{display:grid;grid-template:"stretch-start block-start stretch-end" -webkit-max-content "stretch-start inline-caption stretch-end" -webkit-max-content "stretch-start block-end stretch-end" max-content/max-content 1fr -webkit-max-content;grid-template:"stretch-start block-start stretch-end" max-content "stretch-start inline-caption stretch-end" max-content "stretch-start block-end stretch-end" max-content/max-content 1fr max-content}.align-container{display:grid;grid-auto-flow:column;white-space:break-spaces}.stretch-start{grid-area:stretch-start}.block-start{grid-area:block-start}.inline-caption{grid-area:inline-caption;-ms-flex-align:center;align-items:center;min-block-size:var(--ch-action-list-item__image-size)}.block-end{grid-area:block-end}.stretch-end{grid-area:stretch-end}.stretch-start,.stretch-end{-ms-flex-item-align:stretch;align-self:stretch}.align-start{display:-ms-flexbox;display:flex;justify-self:flex-start}.align-center{display:-ms-flexbox;display:flex;justify-self:center}.align-end{display:-ms-flexbox;display:flex;justify-self:flex-end}.valign-start{display:-ms-flexbox;display:flex;-ms-flex-item-align:self-start;align-self:self-start}.valign-center{display:-ms-flexbox;display:flex;-ms-flex-item-align:center;align-self:center}.valign-end{display:-ms-flexbox;display:flex;-ms-flex-item-align:self-end;align-self:self-end}:host(:not(:hover):not(:focus-within)) .show-on-mouse-hover{display:none}.additional-item{display:inline-grid;grid-auto-columns:-webkit-max-content;grid-auto-columns:max-content;grid-auto-flow:column;-ms-flex-align:center;align-items:center}.fix::before,.modify::before,.remove::before,.confirm-action::before,.cancel-action::before{content:"";display:inline-block;inline-size:var(--ch-action-list-item__image-size);block-size:var(--ch-action-list-item__image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-action-list-item__image-size);-webkit-mask:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-start-start);background-color:var(--ch-action-list-item__action-color)}.fixed{--ch-start-start:var(--ch-action-list-item__additional-item-fixed-image)}.not-fixed{--ch-start-start:var(--ch-action-list-item__additional-item-not-fixed-image)}.modify{--ch-start-start:var(--ch-action-list-item__additional-item-modify-image)}.remove{--ch-start-start:var(--ch-action-list-item__additional-item-remove-image)}.confirm-action{--ch-start-start:var(--ch-action-list-item__additional-item-confirm-image)}.cancel-action{--ch-start-start:var(--ch-action-list-item__additional-item-cancel-image)}.img{display:inline-block;inline-size:var(--ch-action-list-item__image-size);block-size:var(--ch-action-list-item__image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-action-list-item__image-size)}.img-type--background{background:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-start-start)}.img-type--mask{-webkit-mask:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-start-start);background-color:currentColor}.pseudo-img--start::before,.pseudo-img--end::after,.img{display:inline-block;inline-size:var(--ch-action-list-item__image-size);block-size:var(--ch-action-list-item__image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-action-list-item__image-size)}.pseudo-img--start::before,.img--start{--ch-img:var(--ch-start-start)}.pseudo-img--end::after,.img--end{--ch-img:var(--ch-end-img)}.start-img-type--background::before,.end-img-type--background::after{content:"";background:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-img)}.start-img-type--mask::before,.end-img-type--mask::after{content:"";-webkit-mask:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-img);background-color:currentColor}.additional-item.not-actionable{--ch-start-start:var(--ch-start-img--base)}.action:active .additional-item.not-actionable.start-img--active{--ch-start-start:var(--ch-start-img--active)}.action:focus .additional-item.not-actionable.start-img--focus{--ch-start-start:var(--ch-start-img--focus)}.action:hover .additional-item.not-actionable.start-img--hover{--ch-start-start:var(--ch-start-img--hover)}.action:disabled .additional-item.not-actionable.start-img--disabled{--ch-start-start:var(--ch-start-img--disabled)}';const B=D;const E={fix:m.ACTION_FIX,modify:m.ACTION_MODIFY,remove:m.ACTION_REMOVE,custom:m.ACTION_CUSTOM};const F=class{constructor(i){t(this,i);this.captionChange=e(this,"captionChange",7);this.fixedChange=e(this,"fixedChange",7);this.remove=e(this,"remove",7);this.itemDragEnd=e(this,"itemDragEnd",7);this.additionalInfo=undefined;this.caption=undefined;this.checkbox=false;this.checked=false;this.customRender=false;this.deleting=false;this.disabled=false;this.downloading=false;this.editable=undefined;this.editing=false;this.fixed=false;this.getImagePathCallback=undefined;this.indeterminate=false;this.metadata=undefined;this.nested=false;this.nestedExpandable=false;this.parts=undefined;this.selectable=false;this.selected=false;this.showDownloadingSpinner=true;this.translations=undefined}#i={fix:()=>this.fixedChange.emit({itemId:this.el.id,value:!this.fixed}),remove:()=>{if(!this.editing){this.deleting=true}},custom:t=>t(),modify:()=>{if(!this.deleting){this.editing=true}}};#s={modify:()=>this.translations.confirmModify,remove:()=>this.translations.confirmDelete};#n={modify:()=>this.translations.cancelModify,remove:()=>this.translations.cancelDelete};#a;#o;#r;#c;get el(){return i(this)}additionalInfoChanged(){this.#l();this.#h()}captionChange;fixedChange;remove;itemDragEnd;#d=(t,e=false)=>()=>{if(!this.editing){return}this.editing=false;const i=this.#c.value;if(e&&i.trim()!==""&&this.caption!==i){this.captionChange.emit({itemId:this.el.id,newCaption:i})}if(t){this.#r.focus()}};#f=t=>{t.stopPropagation();if(t.code!==d.ENTER&&t.code!==d.ESCAPE){return}t.preventDefault();const e=t.code===d.ENTER;this.#d(true,e)()};#u=t=>t.map((t=>t.jsx?t.jsx():this.#m(t)));#m=t=>{const e=t;const i=!!t.imgSrc;const n=i&&t.imgType!=="img";const a=n?g[t.imgType??"background"]:null;const r=n?this.#g(e):null;const c=i&&I("img",t.part?`${m.ADDITIONAL_ITEM} ${m.ADDITIONAL_IMAGE} ${t.part}`:`${m.ADDITIONAL_ITEM} ${m.ADDITIONAL_IMAGE}`,t.imgSrc,t.imgType);const l=e.action;if(l){const i=l.type==="fix";const h=l.type==="custom";return s("button",{key:e.id,"aria-label":e.accessibleName,class:{"additional-item":true,[a]:n&&h,[r?.classes]:n&&h&&!!r,"show-on-mouse-hover":i&&!this.fixed||!i&&l.showOnHover,[l.type]:true,fixed:i&&this.fixed,"not-fixed":i&&!this.fixed},part:o({[m.ADDITIONAL_ITEM]:true,[m.ADDITIONAL_ACTION]:true,[m.DISABLED]:this.disabled,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected,[E[l.type]]:true,[m.FIXED]:i&&this.fixed,[m.NOT_FIXED]:i&&!this.fixed,[t.part]:!!t.part}),style:n&&h?r?.styles:null,disabled:this.disabled,type:"button",onClick:!this.disabled?this.#p(l.type,h?l.callback:undefined):undefined},h&&c,t.caption&&t.caption)}if(t.caption){return s("span",{key:e.id??null,class:{"additional-item not-actionable":true,[a]:!!a,[r?.classes]:!!r},part:o({[m.ADDITIONAL_ITEM]:true,[m.ADDITIONAL_TEXT]:true,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected,[t.part]:!!t.part}),style:n&&r?.styles},c,t.caption)}if(n){return s("div",{"aria-hidden":"true",class:{"additional-item not-actionable":true,[f[t.imgType??"background"]]:true,[r?.classes]:!!r},part:o({[m.ADDITIONAL_ITEM]:true,[m.ADDITIONAL_IMAGE]:true,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected,[t.part]:!!t.part}),style:n&&r?.styles})}if(i){return c}return undefined};#p=(t,e)=>i=>{i.stopPropagation();if(e){e(this.el.id)}else{this.#i[t]()}};#l=()=>{let t=undefined;if(this.additionalInfo){const e=$(this.additionalInfo);if(e.size>0){t=`${u},${Array.from(e).join(",")}`}}this.el.setAttribute("exportparts",t??u)};#h=()=>{this.#o=Z("remove",this.additionalInfo);this.#a=Z("modify",this.additionalInfo)};#b=(t,e,i=false)=>{if(!t){return}const n=`item__${e}`;let a;let o=undefined;if(this.editing&&this.#a!==undefined&&this.#a.some((t=>t.section===e))){a="modify";o=this.#a.find((t=>t.section===e)).align}else if(this.deleting&&this.#o!==undefined&&this.#o.some((t=>t.section===e))){a="remove";o=this.#o.find((t=>t.section===e)).align}return s("div",{key:n,class:`align-container ${e}`,part:n},t.start&&s("div",{key:`${n}-start`,class:i?"align-start valign-start":"align-start",part:`${n} start`},a&&o.includes("start")?this.#v(a):this.#u(t.start)),t.center&&s("div",{key:`${n}-center`,class:i?"align-center valign-center":"align-center",part:`${n} center`},a&&o.includes("center")?this.#v(a):this.#u(t.center)),t.end&&s("div",{key:`${n}-end`,class:i?"align-end valign-end":"align-end",part:`${n} end`},a&&o.includes("end")?this.#v(a):this.#u(t.end)))};#v=t=>[s("button",{"aria-label":this.#s[t](),title:this.#s[t](),class:"confirm-action",part:o({[m.ADDITIONAL_ITEM_CONFIRM]:true,[m.ACTION_ACCEPT]:true,[m.DISABLED]:this.disabled,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected}),disabled:this.disabled,type:"button",onClick:!this.disabled?this.#x(t):undefined}),s("button",{"aria-label":this.#n[t](),title:this.#n[t](),class:"cancel-action",part:o({[m.ADDITIONAL_ITEM_CONFIRM]:true,[m.ACTION_CANCEL]:true,[m.DISABLED]:this.disabled,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected}),disabled:this.disabled,type:"button",onClick:!this.disabled?this.#k:undefined})];#x=t=>e=>{e.stopPropagation();if(t==="modify"){this.#d(true,true)()}else if(t==="remove"){this.remove.emit(this.el.id)}};#k=t=>{t.stopPropagation();this.editing=false;this.deleting=false};#g=t=>{if(!t.imgSrc){return null}const e=this.getImagePathCallback??b("getImagePathCallback","ch-action-list-render")??v;const i=e(t);return i?r(i,"start"):null};connectedCallback(){this.el.setAttribute("role","listitem");this.el.setAttribute("part",c.ITEM);this.#l();this.#h()}render(){const t=this.additionalInfo;const e=!!this.additionalInfo;const i=e&&t["stretch-start"];const a=e&&t["block-start"];const r=e&&t["inline-caption"];const c=e&&t["block-end"];const l=e&&t["stretch-end"];const h=!!this.parts;return s(n,{key:"b848c04e17d46360e1e2b91be0c7eab401a11e39","aria-selected":this.selectable&&this.selected?"true":null},s("button",{key:"5d4b4fec39c8919056fb4121ef28a7d7cf63ccbe",class:"action",disabled:this.disabled,part:o({[m.ACTION]:true,[m.NESTED]:this.nested,[m.NESTED_EXPANDABLE]:this.nestedExpandable,[m.SELECTABLE]:this.selectable,[m.NOT_SELECTABLE]:!this.selectable,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected,[m.DISABLED]:this.disabled}),type:"button",ref:t=>this.#r=t},this.#b(i,"stretch-start",true),this.#b(a,"block-start"),s("div",{key:"item__inline-caption",class:"align-container inline-caption",part:o({"item__inline-caption":true,[m.EDITING]:this.editing,[m.NOT_EDITING]:!this.editing})},this.editing?s("ch-edit",{autoFocus:true,part:h?`${m.EDIT_CAPTION} ${this.parts}`:m.EDIT_CAPTION,disabled:this.disabled,value:this.caption,onKeyDown:!this.disabled?this.#f:undefined,ref:t=>this.#c=t}):this.caption&&s("span",{part:m.CAPTION},this.caption),r&&[r.start&&s("div",{key:"item__inline-caption-start",class:"align-start",part:"item__inline-caption start"},this.#u(r.start)),r.end&&s("div",{key:"item__inline-caption-end",class:"align-end",part:"item__inline-caption end"},this.#u(r.end))]),this.#b(c,"block-end"),this.#b(l,"stretch-end")))}static get delegatesFocus(){return true}static get watchers(){return{additionalInfo:["additionalInfoChanged"]}}};F.style=B;const R="ch-action-list-item";const P="ch-action-list-group";const K=t=>`${R}[id="${t}"]`;const G=t=>`${P}[id="${t}"]`;const O=t=>{t.stopPropagation();return t.composedPath().find((t=>{const e=t.tagName?.toLowerCase();return e===R||e===P}))};const U=(t,e)=>e.findIndex((e=>e.id&&e.id===t.id));const T=t=>t.root??t.parentItem.items;const W=(t,e)=>e.get(t).item;const q=d.F2;const J="ch-action-list-item";const N=t=>t.tagName.toLowerCase()===J;const Q=()=>x().find(N);const X=(t,e,i)=>{const s=e.shadowRoot.querySelector(t.type==="actionable"?K(t.id):G(t.id));const n=k(i);if(t.type==="group"){s.setFocus()}else{s.focus();if(!n){s.click()}}};const Y=(t,e)=>{t.preventDefault();const i=O(t);return i?e.get(i.id):undefined};const tt=t=>t.expandable&&t.expanded!==true;const et=(t,e,i,s,n,a)=>{for(let o=t;0<=o&&o<=e.length;o+=a){const t=e[o];if(t.type==="actionable"&&!t.disabled||t.type==="group"&&!t.disabled&&(t.expandable&&t.id!==i&&a===1||tt(t))){X(t,s,n);return}if(t.type==="group"&&!t.disabled&&!tt(t)){const e=it(a===1?0:t.items.length-1,t.items,s,n,a);if(e){return}if(t.expandable&&a===-1){X(t,s,n);return}}}};function it(t,e,i,s,n){for(let a=t;0<=a&&a<=e.length-1;a+=n){const t=e[a];if(!t.disabled){X(t,i,s);return true}}return false}const st={[d.ARROW_UP]:(t,e,i)=>{const s=Y(i,e);if(!s){return}const n=s.item;if(s.root){const e=s.root;const a=U(n,e);et(a-1,e,n.id,t,i,-1)}else{const a=s.parentItem;const o=e.get(a.id).root;const r=U(n,a.items);const c=it(r-1,a.items,t,i,-1);if(c){return}if(a.expandable){X(a,t,i);return}const l=U(a,o);et(l-1,o,n.id,t,i,-1)}},[d.ARROW_DOWN]:(t,e,i)=>{const s=Y(i,e);if(!s){return}const n=s.item;if(s.root){const e=s.root;const a=U(n,e);et(n.type==="group"&&!tt(n)?a:a+1,e,n.id,t,i,1)}else{const a=s.parentItem;const o=e.get(a.id).root;const r=U(n,a.items);const c=it(r+1,a.items,t,i,1);if(c){return}const l=U(a,o);et(l+1,o,n.id,t,i,1)}},[q]:(t,e,i)=>{const s=Q();if(!s||!s.editable&&!t.editableItems||s.editing||s.deleting||s.disabled){return}i.preventDefault();s.editing=true}};const nt=(t,e)=>i=>{const s=st[i.code];if(s){s(t,e,i)}};const at=(t,e,i,s)=>{const n=i.get(t);if(!n){return undefined}const a=n.item;if(e.type!==a.type){return undefined}for(const t in e){const i=e[t];if(i!==undefined){a[t]=i}}if(e.type==="separator"){return undefined}if(e.selected){s.add(t)}else if(e.selected===false){s.delete(t)}return T(n)};const ot=Object.freeze({confirmDelete:"Confirm delete",cancelDelete:"Cancel delete",confirmModify:"Confirm modification",cancelModify:"Cancel modification"});const rt=(t,e)=>{for(let i=0;i<t.length;i++){const s=t[i];if(s.type==="actionable"&&s.selected){e.add(s.id)}else if(s.type==="group"&&s.items!=null){rt(s.items,e)}}};const ct=(t,e)=>{if(t.size!==e.size){return true}for(const i of t){if(!e.has(i)){return true}}return false};const lt=(t,e)=>{const i=[...t.values()];const s=t.size-1;for(let t=0;t<s;t++){const s=i[t];W(s,e).selected=false}t.clear();t.add(i[s])};const ht=(t,e,i,s)=>{if(s==="single"){if(e.size>1){lt(e,i);return true}if(ct(t,e)){return true}return false}if(ct(t,e)){return true}return false};const dt=(t,e,i,s)=>{if(!t){return}for(let s=0;s<t.length;s++){const n=t[s];i.set(n.id,{item:n,parentItem:e})}s(t)};const ft=(t,e,i)=>{e.clear();if(!t){return}for(let s=0;s<t.length;s++){const n=t[s];if(n.type==="group"){e.set(n.id,{item:n,root:t});dt(n.items,n,e,i)}else if(n.type==="actionable"){e.set(n.id,{item:n,root:t})}}i(t)};const ut='*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}:host{--ch-action-list-item__image-size:0.875em;--ch-action-list-item__background-image-size:100%;--ch-action-list-group__expandable-button-size:0.875em;--ch-action-list-group__expandable-button-image-size:100%;--ch-action-list-item__additional-item-fixed-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9.8 7.36V5.6H9V4H17V5.6H16.2V12L17.8 13.6V15.2H17.64L14.6 12.16V5.6H11.4V8.96L9.8 7.36ZM19.4 18.96L18.36 20L13.64 15.28V20H12.36V15.2H8.2V13.6L9.8 12V11.44L5 6.64L6.04 5.6L19.4 18.96ZM10.44 13.6H11.88L11.16 12.88L10.44 13.6Z"/></svg>\');--ch-action-list-item__additional-item-not-fixed-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 12V5.6H15.8V4H7.8V5.6H8.6V12L7 13.6V15.2H11.16V20H12.44V15.2H16.6V13.6L15 12ZM9.24 13.6L10.2 12.64V5.6H13.4V12.64L14.36 13.6H9.24Z"/></svg>\');--ch-action-list-item__additional-item-remove-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.18998 8.81H16.79V18C16.7927 18.3969 16.6369 18.7785 16.3571 19.0601C16.0774 19.3417 15.6969 19.5 15.3 19.5H8.68001C8.2831 19.5 7.90259 19.3417 7.62287 19.0601C7.34315 18.7785 7.18735 18.3969 7.18998 18V8.81ZM15.31 5.89V5.73C15.3045 5.08221 14.7778 4.56 14.13 4.56H9.85001C9.2022 4.56 8.6755 5.08221 8.67001 5.73V5.89H5.51001V7.39H18.51V5.89H15.31Z"/></svg>\');--ch-action-list-item__additional-item-modify-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5.58 14.38L9.58 18.38L4.77 19.23L5.58 14.38ZM13.31 6.66L17.3 10.65L10.64 17.32L6.64 13.32L13.31 6.66ZM15.95 4.64302C16.3442 4.64302 16.7222 4.80031 17 5.08L18.84 6.94C19.3861 7.51811 19.3861 8.42189 18.84 9L18.39 9.6L14.39 5.6L14.9 5.08C15.1778 4.80031 15.5558 4.64302 15.95 4.64302Z"/></svg>\');--ch-action-list-item__additional-item-confirm-image:url(\'data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 17.42L5 12.42L6.41 11L10 14.59L17.59 7L19 8.42L10 17.42Z"/></svg>\');--ch-action-list-item__additional-item-cancel-image:url(\'data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"/></svg>\');--ch-action-list-item__action-color:currentColor;display:grid;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content;block-size:100%;overflow:auto;contain:size}.separator{display:grid;block-size:1px;background-color:currentColor}';const mt=ut;const gt=true;const pt={actionable:(t,e,i,n=false,a=false)=>s("ch-action-list-item",{key:t.id,id:t.id,additionalInfo:t.additionalInformation,caption:t.caption,checkbox:t.checkbox??e.checkbox,checked:t.checked??e.checked,disabled:i===true?true:t.disabled??e.disabled,editable:t.editable??e.editableItems,fixed:t.fixed,getImagePathCallback:e.getImagePathCallback,metadata:t.metadata,nested:n,nestedExpandable:a,selectable:e.selection!=="none",selected:t.selected,translations:e.translations}),group:(t,e)=>s("ch-action-list-group",{key:t.id,id:t.id,caption:t.caption,disabled:t.disabled??e.disabled,expandable:t.expandable,expanded:t.expanded,selected:t.selected},t.items?.map((i=>e.renderItem(i,e,t.disabled,true,t.expandable)))),separator:()=>s("div",{role:"separator","aria-hidden":"true",class:"separator",part:"separator"})};const bt=(t,e,i,s,n)=>t.type==="actionable"?pt.actionable(t,e,i,s,n):pt[t.type](t,e);const vt=-1;const xt=0;const kt=t=>{t.sort(((t,e)=>{if(t.type==="actionable"&&e.type==="actionable"){if(t.fixed&&!e.fixed){return vt}if(!t.fixed&&e.fixed){return xt}}else if(t.type==="actionable"&&t.fixed){return vt}else if(e.type==="actionable"&&e.fixed){return xt}if(t.order<e.order){return vt}if(t.order>e.order){return xt}return t.type==="actionable"&&e.type==="actionable"&&t.caption<=e.caption?vt:xt}))};const yt=class{constructor(i){t(this,i);this.selectedItemsChange=e(this,"selectedItemsChange",7);this.itemClick=e(this,"itemClick",7);this.expanded=true;this.waitDropProcessing=false;this.checkbox=false;this.checked=false;this.disabled=false;this.editableItems=gt;this.fixItemCallback=undefined;this.getImagePathCallback=undefined;this.model=[];this.modifyItemCaptionCallback=undefined;this.renderItem=bt;this.removeItemCallback=undefined;this.selection="none";this.sortItemsCallback=kt;this.translations=ot}#y=new Map;#_=undefined;#w=false;get el(){return i(this)}modelChanged(){this.#w=true}selectionChanged(){this.#w=true}selectedItemsChange;itemClick;async addItem(t,e){if(this.#y.get(t.id)){return}if(e){const i=this.#y.get(e);if(!i||i.item.type!=="group"||t.type!=="actionable"){return}i.item.items.push(t);this.#y.set(t.id,{item:t,parentItem:i.item});this.#C(i.item.items)}else{this.model.push(t);this.#y.set(t.id,{item:t,root:this.model});this.#C(this.model)}a(this)}async getItemsInfo(t){return this.#z(t)}async removeItem(t){const e=this.#y.get(t);if(!e){return}if(e.item.type==="group"){const t=e.item.items;t.forEach((t=>{this.#y.delete(t.id)}))}this.#L(e)}#z=t=>{const e=[];t.forEach((t=>{const i=this.#y.get(t);if(i){e.push(i)}}));return e};async updateItemProperties(t,e){const i=new Set(this.#_);const s=at(t,e,this.#y,i);if(s!==undefined){this.#C(s)}if(ht(this.#_,i,this.#y,this.selection)){this.#_=i;this.#I()}a(this)}onCaptionChange(t){if(!this.modifyItemCaptionCallback){return}t.stopPropagation();const e=t.composedPath().find((t=>t.tagName&&t.tagName?.toLowerCase()===R));if(!e){return}const i=t.detail.itemId;const s=this.#y.get(i);const n=s.item;const o=t.detail.newCaption;const r=n.caption;n.caption=o;e.caption=o;this.modifyItemCaptionCallback(i,o).then((()=>{this.#C(T(s));a(this)})).catch((()=>{e.caption=r;n.caption=r}))}onFixedChange(t){const e=t.detail;const i=this.#y.get(e.itemId);const s=i.item;if(!this.fixItemCallback){this.#V(i,s,e.value);return}this.fixItemCallback(s,e.value).then((t=>{if(t){this.#V(i,s,e.value)}}))}#V=(t,e,i)=>{e.fixed=i;this.#C(T(t));a(this)};onRemove(t){const e=this.#y.get(t.detail);if(!this.removeItemCallback){this.#L(e);return}this.removeItemCallback(e.item).then((t=>{if(t){this.#L(e)}}))}#H=t=>W(t,this.#y);#M=t=>{if(t==="none"){this.#$();this.#_=undefined}else{if(!this.#_){this.#_=new Set;rt(this.model??[],this.#_);return}const t=new Set;rt(this.model??[],t);if(ht(this.#_,t,this.#y,this.selection)){this.#_=t;a(this);this.#I()}}};#$=()=>{if(this.#_){this.#_.forEach((t=>{const e=this.#H(t);e.selected=false}));this.#_.clear()}};#A=t=>{const e=O(t);if(!e||e.editing){return}const i=this.#H(e.id);this.#S(i);if(i.type==="group"&&!i.expandable){return}this.itemClick.emit(this.#y.get(i.id))};#S=t=>{if(t.type==="group"&&t.expandable&&!t.disabled){t.expanded=!t.expanded;a(this)}};#j=t=>{const e=O(t);if(!e||e.editing){return}const i=e.id;const s=this.#H(i);const n=k(t);const o=this.#_.has(i);const r=this.selection==="single";if(r){if(!n){this.#S(s)}if(o&&!n){return}const t=[...this.#_.keys()][0];if(t){this.#_.clear();const e=this.#H(t);e.selected=false}if(!o){this.#_.add(i)}s.selected=!o;this.#I();a(this);return}if(n){if(o){this.#_.delete(i)}else{this.#_.add(i)}s.selected=!o}else{this.#S(s);this.#$();this.#_.add(i);s.selected=true}this.#I();a(this)};#I=()=>{const t=this.#z([...this.#_.keys()]);this.selectedItemsChange.emit(t)};#L=t=>{const e=t.root??t.parentItem.items;const i=t.item.id;const s=e.findIndex((t=>t.id===i));if(s>-1){y(e,s)}this.#y.delete(i);a(this)};#C=t=>{if(this.sortItemsCallback){this.sortItemsCallback(t)}};#Z=t=>ft(t,this.#y,this.#C);connectedCallback(){_(this.el.shadowRoot.adoptedStyleSheets);this.#Z(this.model);this.#M(this.selection);this.el.setAttribute("role","list")}componentWillRender(){if(this.#w){this.#w=false;this.#Z(this.model);this.#M(this.selection)}}render(){return s(n,{key:"4219dde872de4e517d8cd1c00a5a53eddfb885a5","aria-multiselectable":this.selection==="multiple"?"true":null,class:p,onClick:this.selection==="none"?this.#A:this.#j,onKeyDown:nt(this.el,this.#y)},this.model?.map((t=>this.renderItem(t,this,false,false,false))))}static get watchers(){return{model:["modelChanged"],selection:["selectionChanged"]}}};yt.style=mt;export{L as ch_action_list_group,F as ch_action_list_item,yt as ch_action_list_render};
//# sourceMappingURL=p-4c749bf6.entry.js.map