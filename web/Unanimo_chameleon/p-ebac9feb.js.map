{"version":3,"names":["window","chameleonControlsLibrary","getImagePathCallback","registryProperty","propertyName","value","Error","registryControlProperty","controlName","getControlRegisterProperty","DEFAULT_GET_IMAGE_PATH_CALLBACK","additionalItem","base","imgSrc"],"sources":["src/common/registry-properties.ts"],"sourcesContent":["import type { ActionListImagePathCallback } from \"../components/action-list/types\";\r\nimport type {\r\n  ChameleonImagePathCallbackControls,\r\n  ChameleonImagePathCallbackControlsTagName\r\n} from \"./types\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    chameleonControlsLibrary: {\r\n      getImagePathCallback?: Partial<RegistryGetImagePathCallback>;\r\n      reports?: {\r\n        accessibility: boolean;\r\n      };\r\n    };\r\n  }\r\n}\r\n\r\nexport type RegistryGetImagePathCallback = {\r\n  [key in ChameleonImagePathCallbackControlsTagName]: ChameleonImagePathCallbackControls[key][\"getImagePathCallback\"];\r\n};\r\n\r\nexport type RegisterPropertyName = \"getImagePathCallback\";\r\n\r\nexport type RegisterProperty = {\r\n  getImagePathCallback: Partial<RegistryGetImagePathCallback>;\r\n};\r\n\r\nif (typeof window !== \"undefined\") {\r\n  window.chameleonControlsLibrary ??= { getImagePathCallback: {} };\r\n  window.chameleonControlsLibrary.getImagePathCallback ??= {};\r\n}\r\n\r\nexport const registryProperty = <\r\n  Prop extends RegisterPropertyName,\r\n  T extends RegisterProperty[Prop]\r\n>(\r\n  propertyName: Prop,\r\n  value: T\r\n) => {\r\n  if (\r\n    (propertyName as string) === \"__proto__\" ||\r\n    (propertyName as string) === \"constructor\" ||\r\n    (propertyName as string) === \"prototype\"\r\n  ) {\r\n    throw new Error(\"Invalid property name\");\r\n  }\r\n\r\n  window.chameleonControlsLibrary[propertyName] = value;\r\n};\r\n\r\nexport const registryControlProperty = <\r\n  PropName extends RegisterPropertyName,\r\n  Control extends keyof RegisterProperty[PropName],\r\n  T extends RegisterProperty[PropName][Control]\r\n>(\r\n  propertyName: PropName,\r\n  controlName: Control,\r\n  value: T\r\n) => {\r\n  if (\r\n    (propertyName as string) === \"__proto__\" ||\r\n    (propertyName as string) === \"constructor\" ||\r\n    (propertyName as string) === \"prototype\"\r\n  ) {\r\n    throw new Error(\"Invalid property name\");\r\n  }\r\n\r\n  if (\r\n    (controlName as string) === \"__proto__\" ||\r\n    (controlName as string) === \"constructor\" ||\r\n    (controlName as string) === \"prototype\"\r\n  ) {\r\n    throw new Error(\"Invalid control name\");\r\n  }\r\n\r\n  window.chameleonControlsLibrary[propertyName][controlName] = value;\r\n};\r\n\r\nexport const getControlRegisterProperty = <\r\n  PropName extends RegisterPropertyName,\r\n  Control extends keyof RegisterProperty[PropName]\r\n>(\r\n  propertyName: PropName,\r\n  controlName: Control\r\n): RegisterProperty[PropName][Control] | undefined =>\r\n  window.chameleonControlsLibrary[propertyName][controlName];\r\n\r\nexport const DEFAULT_GET_IMAGE_PATH_CALLBACK: ActionListImagePathCallback =\r\n  additionalItem => ({\r\n    base: additionalItem.imgSrc\r\n  });\r\n"],"mappings":"AA2BA,UAAWA,SAAW,YAAa,CACjCA,OAAOC,2BAA6B,CAAEC,qBAAsB,IAC5DF,OAAOC,yBAAyBC,uBAAyB,EAC3D,C,MAEaC,EAAmB,CAI9BC,EACAC,KAEA,GACGD,IAA4B,aAC5BA,IAA4B,eAC5BA,IAA4B,YAC7B,CACA,MAAM,IAAIE,MAAM,wB,CAGlBN,OAAOC,yBAAyBG,GAAgBC,CAAK,E,MAG1CE,EAA0B,CAKrCH,EACAI,EACAH,KAEA,GACGD,IAA4B,aAC5BA,IAA4B,eAC5BA,IAA4B,YAC7B,CACA,MAAM,IAAIE,MAAM,wB,CAGlB,GACGE,IAA2B,aAC3BA,IAA2B,eAC3BA,IAA2B,YAC5B,CACA,MAAM,IAAIF,MAAM,uB,CAGlBN,OAAOC,yBAAyBG,GAAcI,GAAeH,CAAK,E,MAGvDI,EAA6B,CAIxCL,EACAI,IAEAR,OAAOC,yBAAyBG,GAAcI,G,MAEnCE,EACXC,IAAc,CACZC,KAAMD,EAAeE,gB"}