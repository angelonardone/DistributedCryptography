var __awaiter=this&&this.__awaiter||function(t,r,e,n){function i(t){return t instanceof e?t:new e((function(r){r(t)}))}return new(e||(e=Promise))((function(e,u){function o(t){try{c(n.next(t))}catch(t){u(t)}}function a(t){try{c(n["throw"](t))}catch(t){u(t)}}function c(t){t.done?e(t.value):i(t.value).then(o,a)}c((n=n.apply(t,r||[])).next())}))};var __generator=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(r){return c([t,r])}}function c(a){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,a[0]&&(e=0)),e)try{if(n=1,i&&(u=a[0]&2?i["return"]:a[0]?i["throw"]||((u=i["return"])&&u.call(i),0):i.next)&&!(u=u.call(i,a[1])).done)return u;if(i=0,u)a=[a[0]&2,u.value];switch(a[0]){case 0:case 1:u=a;break;case 4:e.label++;return{value:a[1],done:false};case 5:e.label++;i=a[1];a=[0];continue;case 7:a=e.ops.pop();e.trys.pop();continue;default:if(!(u=e.trys,u=u.length>0&&u[u.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!u||a[1]>u[0]&&a[1]<u[3])){e.label=a[1];break}if(a[0]===6&&e.label<u[1]){e.label=u[1];u=a;break}if(u&&e.label<u[2]){e.label=u[2];e.ops.push(a);break}if(u[2])e.ops.pop();e.trys.pop();continue}a=r.call(t,e)}catch(t){a=[6,t];i=0}finally{n=u=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register([],(function(t){"use strict";return{execute:function(){t("g",u);var r=new Map;var e=new Map;var n=/(url\((?!\s*["']?(?:\/|https?:|data:))\s*["']?)([^'")]+)/g;var i=function(t,r){return(new CSSStyleSheet).replace(_(t,r))};function u(t,e){return __awaiter(this,void 0,void 0,(function(){var n;var i;return __generator(this,(function(u){n=(i=r.get(t.name))!==null&&i!==void 0?i:r.set(t.name,o(t,e)).get(t.name);if(t.url){v(t)}return[2,n]}))}))}function o(t,r){return __awaiter(this,void 0,void 0,(function(){var e,n;var u;return __generator(this,(function(o){switch(o.label){case 0:if(!t.styleSheet)return[3,2];n=(e=Promise).resolve;u={name:t.name};return[4,i(t.themeBaseUrl,t.styleSheet)];case 1:return[2,n.apply(e,[(u.styleSheet=o.sent(),u)])];case 2:return[2,a(t.name,r)]}}))}))}function a(t,r){return new Promise((function(n,i){e.set(t,{name:t,resolve:n,reject:i,timeout:setTimeout((function(){return f(t)}),r),isLoading:false})}))}function c(t,r){h(t);t.resolve(r)}function s(t,r){h(t);t.reject(r)}function f(t){var r=e.get(t);if(r){s(r,new Error("Theme load timeout: ".concat(t)))}}function h(t){clearTimeout(t.timeout);e.delete(t.name)}function v(t){return __awaiter(this,void 0,void 0,(function(){var r,n,i;return __generator(this,(function(u){switch(u.label){case 0:r=e.get(t.name);if(!(r&&!r.isLoading))return[3,4];r.isLoading=true;u.label=1;case 1:u.trys.push([1,3,,4]);return[4,w(t.url,t.themeBaseUrl)];case 2:n=u.sent();c(r,{name:t.name,styleSheet:n});return[3,4];case 3:i=u.sent();s(r,i);return[3,4];case 4:return[2]}}))}))}function w(t,r){return __awaiter(this,void 0,void 0,(function(){var e,n,u;return __generator(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);e=i;n=[r];return[4,l(t)];case 1:return[2,e.apply(void 0,n.concat([o.sent()]))];case 2:u=o.sent();throw new Error("Failed to load theme stylesheet: ".concat(u));case 3:return[2]}}))}))}function l(t){return __awaiter(this,void 0,void 0,(function(){var r,e;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,3,,4]);return[4,fetch(t)];case 1:r=n.sent();if(!r.ok){throw new Error("HTTP error! status: ".concat(r.status))}return[4,r.text()];case 2:return[2,n.sent()];case 3:e=n.sent();throw new Error("Failed to fetch stylesheet: ".concat(e.message));case 4:return[2]}}))}))}function _(t,r){if(t){return r.replace(n,"$1".concat(t,"$2"))}return r}}}}));
//# sourceMappingURL=p-16b65a3e.system.js.map