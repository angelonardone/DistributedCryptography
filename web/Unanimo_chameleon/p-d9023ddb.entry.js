import{h as e,r as s,g as i,H as t}from"./p-7af91c05.js";import{a as n,b as o,c as r}from"./p-625020d1.js";import{S as l}from"./p-2a2bca47.js";import{a}from"./p-2866a291.js";import{t as h}from"./p-6d91f415.js";import"./p-5f934da7.js";const d="marker";const c=`${d}--hidden`;const m=`.${d}`;const p=undefined;const f=(s,i,t,l,m)=>{const f=t?{[d]:true,[c]:!i}:undefined;if(a(s)){return e("ch-action-menu-render",{role:"listitem",id:t?.id,class:f,disabled:l,getImagePathCallback:m,exportparts:n,blockAlign:s.itemsBlockAlign??"outside-end",inlineAlign:s.itemsInlineAlign??"inside-start",model:i?s.items:p},s.caption)}if(s.type==="separator"){return e("hr",{id:t?.id,class:f,part:h({[s.id]:!!s.id,[o.SEPARATOR]:true,[r.VERTICAL]:true,[s.parts]:!!s.parts})})}return t?e("div",{role:"listitem",id:t.id,class:f,style:!i?{"inline-size":t.size}:undefined},i&&e("slot",{name:s.id})):e("slot",{role:"listitem",name:s.id})};const u=(e,s,i)=>!e||s[i].displayed;const g=(e,s,i,t,n)=>e.map(((e,o)=>f(e,u(s,i,o),i?i[o]:undefined,t,n)));const b="*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}:host{display:grid;grid-auto-flow:column;grid-auto-columns:-webkit-max-content;grid-auto-columns:max-content;-ms-flex-align:center;align-items:center}:host([items-overflow-behavior=add-scroll]){overflow-x:auto}:host([items-overflow-behavior=multiline]){display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}:host([items-overflow-behavior=responsive-collapse]){contain:inline-size}hr{display:grid;align-self:stretch;inline-size:1px;margin:0;background-color:color-mix(in srgb, currentColor 25%, transparent);border:unset;pointer-events:none}.marker{display:grid;-ms-flex-align:center;align-items:center;align-self:stretch}.marker--hidden{visibility:hidden}";const v=b;const x={threshold:1};const w=class{constructor(e){s(this,e);this.collapsedItems=0;this.disabled=false;this.getImagePathCallback=undefined;this.gxImageConstructor=undefined;this.gxSettings=undefined;this.itemsOverflowBehavior="responsive-collapse";this.model=undefined;this.moreActionsAccessibleName="Show more actions";this.moreActionsBlockAlign="outside-end";this.moreActionsCaption=undefined;this.moreActionsInlineAlign="inside-start";this.useGxRender=false}#e=[];#s=false;#i=true;#t;#n;#o;collapsedItemsChanged(){this.#r()}get el(){return i(this)}itemsOverflowBehaviorChanged(){this.#i=true;this.#s=this.itemsOverflowBehavior==="responsive-collapse";this.#l();this.#a()}modelChanged(){this.#i=true;this.#l();this.#a();this.#r()}#a=()=>{this.#t=this.#s?this.model?.map(((e,s)=>({id:s.toString(),displayed:true})))??[]:undefined};#r=()=>{this.#e=[];if(this.model&&this.collapsedItems>0){this.#e=this.model.slice(this.model.length-this.collapsedItems)}};#h=()=>{if(this.#s){this.#d()}};#d=()=>{this.#o??=new l;this.#n??=new IntersectionObserver((e=>{e.forEach((e=>{const s=Number(e.target.id);if(this.model[s].type==="slot"){this.#t[s].size=`${e.target.offsetWidth}px`}this.#t[s].displayed=e.isIntersecting}));this.#o.perform(this.#c)}),x);this.el.shadowRoot.querySelectorAll(m).forEach((e=>this.#n.observe(e)))};#c=()=>{const e=this.#t.findIndex((e=>!e.displayed));if(e===-1){this.collapsedItems=0}else{this.collapsedItems=this.model.length-e}};#l=()=>{this.#o?.cancel();this.#o=undefined;this.#n?.disconnect();this.#n=undefined};connectedCallback(){this.el.setAttribute("role","list");this.collapsedItems=0;this.#s=this.itemsOverflowBehavior==="responsive-collapse";this.#a();this.#r()}componentDidRender(){if(this.#i){this.#i=false;this.#h()}}disconnectedCallback(){this.#l()}render(){if(!this.model||this.model.length===0){return""}return e(t,null,this.#s&&this.collapsedItems!==0&&e("ch-action-menu-render",{key:"__action-menu",role:"listitem",exportparts:n,blockAlign:this.moreActionsBlockAlign,disabled:this.disabled,getImagePathCallback:this.getImagePathCallback,inlineAlign:this.moreActionsInlineAlign,model:this.#e},this.moreActionsCaption,this.#e.map((s=>s.type==="slot"?e("slot",{slot:s.id,name:s.id}):undefined))),g(this.model,this.#s,this.#t,this.disabled,this.getImagePathCallback))}static get watchers(){return{collapsedItems:["collapsedItemsChanged"],itemsOverflowBehavior:["itemsOverflowBehaviorChanged"],model:["modelChanged"]}}};w.style=v;export{w as ch_action_group_render};
//# sourceMappingURL=p-d9023ddb.entry.js.map