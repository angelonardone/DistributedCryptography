import{r as e,c as a,g as i,f as t,h as n,H as r}from"./p-7af91c05.js";import{u as o,t as c}from"./p-6d91f415.js";import{D as s,A as d}from"./p-625020d1.js";import{g as l}from"./p-ebac9feb.js";const h=':where(button,a){all:unset;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}:host{--ch-accordion__chevron-size:0.875em;--ch-accordion__chevron-image-size:100%;--ch-accordion__chevron-color:currentColor;--ch-accordion-expand-collapse-duration:0ms;--ch-accordion-expand-collapse-timing-function:linear;--ch-accordion__header-image-size:0.875em;--ch-accordion__header-background-image-size:100%;--ch-accordion__header-background-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" fill="none"><path d="M16.5 5L8.7 12.7L1 5" stroke="%23000" stroke-width="1.2" stroke-linecap="round"/></svg>\');--ch-accordion-grid-template-rows:1fr;display:grid;grid-template-rows:var(--ch-accordion-grid-template-rows);-webkit-transition:grid-template-rows var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);transition:grid-template-rows var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);transition:grid-template-rows var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function), -ms-grid-rows var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);pointer-events:none}.panel{display:grid;grid-template-rows:-webkit-max-content 0fr;grid-template-rows:max-content 0fr;-webkit-transition:grid-template-rows var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);transition:grid-template-rows var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);transition:grid-template-rows var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function), -ms-grid-rows var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);pointer-events:all}.panel--expanded{grid-template-rows:-webkit-max-content 1fr;grid-template-rows:max-content 1fr}.header::after{content:"";inline-size:var(--ch-accordion__chevron-size);block-size:var(--ch-accordion__chevron-size);-webkit-margin-start:auto;margin-inline-start:auto;background-color:var(--ch-accordion__chevron-color);-webkit-mask:no-repeat center/var(--ch-accordion__chevron-image-size) var(--ch-accordion__header-background-image);-webkit-transition:-webkit-transform var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);transition:-webkit-transform var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);transition:transform var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function);transition:transform var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function), -webkit-transform var(--ch-accordion-expand-collapse-duration) var(--ch-accordion-expand-collapse-timing-function)}.header--expanded::after{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.header{--ch-accordion-header-start-img:var(--ch-start-img--base)}.header.start-img--hover:hover{--ch-accordion-header-start-img:var(--ch-start-img--hover)}.header.start-img--active:active{--ch-accordion-header-start-img:var(--ch-start-img--active)}.header.start-img--focus:focus{--ch-accordion-header-start-img:var(--ch-start-img--focus)}.header.start-img--disabled.ch-disabled{--ch-accordion-header-start-img:var(--ch-start-img--disabled)}.pseudo-img--start::before{content:"";display:block;inline-size:var(--ch-accordion__header-image-size);block-size:var(--ch-accordion__header-image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-accordion__header-image-size)}.start-img-type--background::before{background:no-repeat center/var(--ch-accordion__header-background-image-size) var(--ch-accordion-header-start-img)}.start-img-type--mask::before{-webkit-mask:no-repeat center/var(--ch-accordion__header-background-image-size) var(--ch-accordion-header-start-img);background-color:currentColor}section{display:grid;overflow:hidden;-webkit-transition:visibility var(--ch-accordion-expand-collapse-duration) allow-discrete;transition:visibility var(--ch-accordion-expand-collapse-duration) allow-discrete}.section--hidden{visibility:hidden}.sub-section{display:grid}';const p=h;let m;const g=e=>({base:e});const u=["input","textarea"];const f=class{constructor(i){e(this,i);this.expandedChange=a(this,"expandedChange",7);this.disabled=false;this.getImagePathCallback=undefined;this.model=undefined;this.singleItemExpanded=false}#e=new Map;#a=new Set;#i=new Set;get el(){return i(this)}getImagePathCallbackChanged(){this.#t()}modelChanged(){this.#t();this.#a.clear();this.#i.clear();this.model?.forEach((e=>{if(e.expanded){this.#a.add(e.id);this.#i.add(e.id)}}));this.#n(false)}singleItemExpandedChanged(){this.#n(true)}expandedChange;#r=e=>{if(!e){return undefined}const a=this.getImagePathCallback??m;if(!a){return undefined}const i=a(e);return i?o(i,"start"):undefined};#t=()=>{this.#e.clear();this.model?.forEach((e=>{const a=this.#r(e.startImgSrc);if(a){this.#e.set(e.id,a)}}))};#o=e=>{const a=e.composedPath();const i=a.find((e=>e.tagName?.toLowerCase()==="button"));if(!i||i.getRootNode()!==this.el.shadowRoot||u.includes(a[0].tagName?.toLowerCase())){return}const t=i.id;const n=this.model.find((e=>e.id===t));if(n.disabled){return}const r=!n.expanded;this.#c(n,r)};#c=(e,a)=>{if(this.singleItemExpanded&&this.#a.size>0){this.model.forEach((a=>{if(a.expanded&&a.id!==e.id){a.expanded=false;this.expandedChange.emit({id:a.id,expanded:false})}}));this.#a.clear()}if(a){this.#a.add(e.id);this.#i.add(e.id)}else{this.#a.delete(e.id)}e.expanded=a;this.expandedChange.emit({id:e.id,expanded:a});t(this)};#s=(e,a)=>{const i=this.#e.get(e.id);const t=i?.classes;const r=e.disabled??this.disabled;return n("div",{class:{panel:true,"panel--expanded":e.expanded},key:e.id,part:c({[e.id]:true,[d.PANEL]:true,[d.DISABLED]:r,[d.EXPANDED]:e.expanded,[d.COLLAPSED]:!e.expanded})},n("button",{id:e.id,"aria-controls":`section-${a}`,"aria-label":e.accessibleName||undefined,"aria-expanded":e.expanded?"true":"false",class:{header:true,[s]:r,"header--expanded":e.expanded,[`start-img-type--${e.startImgType??"background"} pseudo-img--start`]:!!i,[t]:!!t},part:c({[e.id]:true,[e.headerSlotId]:!!e.headerSlotId,[d.HEADER]:true,[d.DISABLED]:r,[d.EXPANDED]:e.expanded,[d.COLLAPSED]:!e.expanded}),style:i?.styles??undefined,disabled:r,type:"button"},e.headerSlotId?n("slot",{name:e.headerSlotId}):e.caption),n("section",{id:`section-${a}`,"aria-label":e.accessibleName||undefined,"aria-labelledby":!e.accessibleName?e.id:undefined,class:!e.expanded?"section--hidden":undefined},(this.#i.has(e.id)||!e.id)&&n("div",{class:"sub-section",part:c({[e.id]:true,[d.SECTION]:true,[d.DISABLED]:r,[d.EXPANDED]:e.expanded,[d.COLLAPSED]:!e.expanded})},n("slot",{name:e.id}))))};#n=e=>{if(!this.singleItemExpanded||this.#a.size<=1){return}const a=[...this.#a.keys()].at(-1);this.model.forEach((i=>{if(i.expanded&&i.id!==a){i.expanded=false;if(e){this.expandedChange.emit({id:i.id,expanded:false})}}}));this.#a.clear();this.#a.add(a)};#d=()=>this.model.map((e=>e.expanded?e.expandedSize??"max-content":this.#l(e.expandedSize))).join(" ");#l=e=>e&&e.includes("fr")?"0fr":"max-content";connectedCallback(){m??=l("getImagePathCallback","ch-accordion-render")??g;this.#t();this.model?.forEach((e=>{if(e.expanded){this.#a.add(e.id);this.#i.add(e.id)}}));this.#n(false)}render(){return n(r,{key:"937105ff72b9a510bf0ee65a2c200f116b07cfcc",style:this.model!=null?{"--ch-accordion-grid-template-rows":this.#d()}:undefined,onClick:this.#o},(this.model??[]).map(this.#s))}static get watchers(){return{getImagePathCallback:["getImagePathCallbackChanged"],model:["modelChanged"],singleItemExpanded:["singleItemExpandedChanged"]}}};f.style=p;export{f as ch_accordion_render};
//# sourceMappingURL=p-844c3dca.entry.js.map