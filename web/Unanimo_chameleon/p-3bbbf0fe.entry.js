import{r as e,c as i,g as t,h as s,H as n}from"./p-7af91c05.js";import{a as o,f as r}from"./p-6d91f415.js";import{S as a}from"./p-2a2bca47.js";const l=':where(button,a){all:unset;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}.caption,dialog{background-color:unset;border:none;color:inherit;font:inherit;margin:0;padding:0;outline:0}::-webkit-backdrop{background:unset;pointer-events:none}::-ms-backdrop{background:unset;pointer-events:none}::backdrop{background:unset;pointer-events:none}:host{--ch-dialog-block-start:calc(50dvh - 50%);--ch-dialog-inline-start:calc(50dvw - 50%);--ch-dialog-block-size:max-content;--ch-dialog-inline-size:max-content;--ch-dialog-max-block-size:auto;--ch-dialog-max-inline-size:auto;--ch-dialog-min-block-size:auto;--ch-dialog-min-inline-size:auto;--ch-dialog-resize-threshold:8px;--ch-dialog-resize-threshold--half-negative:calc(\n    var(--ch-dialog-resize-threshold) * -0.5\n  );--ch-dialog-border-inline-start-width:0px;--ch-dialog-border-inline-end-width:0px;--ch-dialog-border-block-start-width:0px;--ch-dialog-border-block-end-width:0px;--ch-dialog-resize__inline-start:calc(\n    var(--ch-dialog-resize-threshold--half-negative) -\n      var(--ch-dialog-border-inline-start-width) * 0.5\n  );--ch-dialog-resize__inline-end:calc(\n    var(--ch-dialog-resize-threshold--half-negative) -\n      var(--ch-dialog-border-inline-end-width) * 0.5\n  );--ch-dialog-resize__block-start:calc(\n    var(--ch-dialog-resize-threshold--half-negative) -\n      var(--ch-dialog-border-block-start-width) * 0.5\n  );--ch-dialog-resize__block-end:calc(\n    var(--ch-dialog-resize-threshold--half-negative) -\n      var(--ch-dialog-border-block-end-width) * 0.5\n  );--ch-dialog-dragged-x:0px;--ch-dialog-dragged-y:0px;--ch-dialog-rtl:1}:host(.ch-dialog--modal){position:fixed;inset:0}:host(.ch-dialog--non-modal){display:contents}:host(.ch-dialog--hidden){display:none}.header{grid-area:header;display:grid;grid-template:"caption close-button" 1fr/1fr -webkit-max-content;grid-template:"caption close-button" 1fr/1fr max-content;-ms-flex-align:center;align-items:center}.caption{grid-area:caption}.close-button{grid-area:close-button}dialog{display:grid;grid-template:"header" -webkit-max-content "content" 1fr "footer" max-content/1fr;grid-template:"header" max-content "content" 1fr "footer" max-content/1fr;margin:unset;position:fixed;overflow:visible;inline-size:var(--ch-dialog-inline-size);block-size:var(--ch-dialog-block-size);min-inline-size:var(--ch-dialog-min-inline-size);min-block-size:var(--ch-dialog-min-block-size);max-inline-size:var(--ch-dialog-max-inline-size);max-block-size:var(--ch-dialog-max-block-size);inset-block-start:0;inset-inline-start:0;translate:calc((var(--ch-dialog-inline-start) + var(--ch-dialog-dragged-x)) * var(--ch-dialog-rtl)) calc(var(--ch-dialog-block-start) + var(--ch-dialog-dragged-y))}.content{grid-area:content;display:grid}.footer{grid-area:footer;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}.gx-dialog-dragging{cursor:move}.gx-dialog-dragging ::slotted(*){pointer-events:none !important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ch-dialog-resizing){pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.edge__block-start,.edge__block-end{position:fixed;inset-inline:min(0px, (var(--ch-dialog-resize-threshold) - var(--ch-dialog-border-inline-start-width)) / 2) min(0px, (var(--ch-dialog-resize-threshold) - var(--ch-dialog-border-inline-end-width)) / 2);block-size:var(--ch-dialog-resize-threshold);cursor:ns-resize}.edge__inline-start,.edge__inline-end{position:fixed;inset-block:min(0px, (var(--ch-dialog-resize-threshold) - var(--ch-dialog-border-block-start-width)) / 2) min(0px, (var(--ch-dialog-resize-threshold) - var(--ch-dialog-border-block-end-width)) / 2);inline-size:var(--ch-dialog-resize-threshold);cursor:ew-resize}.edge__block-start{inset-block-start:var(--ch-dialog-resize__block-start)}.edge__block-end{inset-block-end:var(--ch-dialog-resize__block-end)}.edge__inline-start{inset-inline-start:var(--ch-dialog-resize__inline-start)}.edge__inline-end{inset-inline-end:var(--ch-dialog-resize__inline-end)}.corner__block-start-inline-start,.corner__block-end-inline-end{position:fixed;block-size:var(--ch-dialog-resize-threshold);inline-size:var(--ch-dialog-resize-threshold);cursor:nwse-resize}.corner__block-start-inline-end,.corner__block-end-inline-start{position:fixed;block-size:var(--ch-dialog-resize-threshold);inline-size:var(--ch-dialog-resize-threshold);cursor:nesw-resize}.corner__block-start-inline-start{inset-block-start:var(--ch-dialog-resize__block-start);inset-inline-start:var(--ch-dialog-resize__inline-start)}.corner__block-end-inline-end{inset-block-end:var(--ch-dialog-resize__block-end);inset-inline-end:var(--ch-dialog-resize__inline-end)}.corner__block-start-inline-end{inset-block-start:var(--ch-dialog-resize__block-start);inset-inline-end:var(--ch-dialog-resize__inline-end)}.corner__block-end-inline-start{inset-block-end:var(--ch-dialog-resize__block-end);inset-inline-start:var(--ch-dialog-resize__inline-start)}:host(.ch-dialog-rtl) .corner__block-start-inline-start,:host(.ch-dialog-rtl) .corner__block-end-inline-end{cursor:nesw-resize}:host(.ch-dialog-rtl) .corner__block-start-inline-end,:host(.ch-dialog-rtl) .corner__block-end-inline-start{cursor:nwse-resize}.resize-layer{position:fixed;inset:0;pointer-events:none}';const c=l;const d="--ch-dialog-block-start";const h="--ch-dialog-inline-start";const g="--ch-dialog-dragged-x";const b="--ch-dialog-dragged-y";const u="--ch-dialog-rtl";const k="-1";const f="gx-dialog-dragging";const z="ch-dialog-resizing";const m="--ch-dialog-block-size";const p="--ch-dialog-inline-size";const v="--ch-dialog-border-block-start-width";const _="--ch-dialog-border-block-end-width";const x="--ch-dialog-border-inline-start-width";const w="--ch-dialog-border-inline-end-width";const y="ch-dialog-rtl";const D=e=>document.body.style.cursor=e;const C={"block-start":()=>D("ns-resize"),"block-end":()=>D("ns-resize"),"inline-start":()=>D("ew-resize"),"inline-end":()=>D("ew-resize"),"block-start-inline-start":e=>D(e?"nesw-resize":"nwse-resize"),"block-start-inline-end":e=>D(e?"nwse-resize":"nesw-resize"),"block-end-inline-start":e=>D(e?"nwse-resize":"nesw-resize"),"block-end-inline-end":e=>D(e?"nesw-resize":"nwse-resize")};const R=e=>Number(e.replace("px","").trim());const S=(e,i,t)=>e.style.setProperty(i,`${t}px`);const M=class{constructor(t){e(this,t);this.dialogClosed=i(this,"dialogClosed",7);this.dragging=false;this.relativeDialog=false;this.resizing=false;this.adjustPositionAfterResize=false;this.allowDrag="no";this.caption=undefined;this.closeButtonAccessibleName=undefined;this.show=false;this.modal=true;this.resizable=false;this.showFooter=false;this.showHeader=false}#e;#i;#t;#s=false;#n=false;#o;#r;#a=0;#l=0;#c=false;#d;#h;#g;#b;#u=0;#k=0;#f=0;#z=0;#m=0;#p=0;#v={block:(e,i)=>{let t=this.#h.clientY-this.#d.clientY;if(i==="start"){t=-t}const s=e.height+t;const n=r(s,this.#m,this.#f);if(n===e.height){return}if(i==="start"){this.#k-=t;S(this.el,b,this.#k)}S(this.el,m,n)},inline:(e,i)=>{let t=this.#h.clientX-this.#d.clientX;if(this.#g){t=-t}if(i==="start"){t=-t}const s=e.width+t;const n=r(s,this.#p,this.#z);if(n===e.width){return}if(i==="start"){this.#u-=t;S(this.el,g,this.#u)}S(this.el,p,n)}};#_={"block-start":e=>this.#v.block(e,"start"),"block-end":e=>this.#v.block(e,"end"),"inline-start":e=>this.#v.inline(e,"start"),"inline-end":e=>this.#v.inline(e,"end"),"block-start-inline-start":e=>{this.#v.block(e,"start");this.#v.inline(e,"start")},"block-start-inline-end":e=>{this.#v.block(e,"start");this.#v.inline(e,"end")},"block-end-inline-start":e=>{this.#v.block(e,"end");this.#v.inline(e,"start")},"block-end-inline-end":e=>{this.#v.block(e,"end");this.#v.inline(e,"end")}};#x;#w;get el(){return t(this)}showChanged(e){this.#n=true;this.#s=true;if(e){this.#y()}else{this.#w.close()}}resizableChanged(){this.#n=true}dialogClosed;connectedCallback(){this.#r=new MutationObserver((()=>{this.#g=o();if(this.#g){this.el.style.setProperty(u,k);this.el.classList.add(y)}else{this.el.style.removeProperty(u);this.el.classList.remove(y)}}));this.#r.observe(document.documentElement,{attributeFilter:["dir"]})}componentWillRender(){this.#s&&=false;if(this.#n){this.#n=false;requestAnimationFrame((()=>setTimeout(this.#D)))}}componentDidLoad(){if(this.show){this.#n=true;this.#s=true;this.#y()}this.#D()}disconnectedCallback(){this.#C();this.#R();if(this.#r){this.#r.disconnect();this.#r=null}document.removeEventListener("click",this.#S,{capture:true})}#M=()=>{if(!this.#c){this.#w.classList.add(f);this.#c=true}};#E=()=>{this.#w.classList.remove(f);this.#c=false};#F=()=>{this.show=false;this.dialogClosed.emit();document.removeEventListener("click",this.#S,{capture:true})};#A=e=>{this.#i||=new a;this.#d=e;document.addEventListener("mousemove",this.#B,{capture:true});document.addEventListener("mouseup",this.#C,{capture:true,passive:true})};#B=e=>{this.#i.perform(this.#W,(()=>{e.preventDefault();this.#M();this.#h=e}))};#W=()=>{const e=this.#h.clientX-this.#d.clientX;const i=this.#h.clientY-this.#d.clientY;if(e!==0){this.#a+=this.#g?-e:e;S(this.el,g,this.#a)}if(i!==0){this.#l+=i;S(this.el,b,this.#l)}this.#d=this.#h};#C=e=>{if(e){e.stopPropagation()}if(this.#i){this.#i.cancel()}document.removeEventListener("mousemove",this.#B,{capture:true});document.removeEventListener("mouseup",this.#C,{capture:true});this.#E();this.#i=null;this.#d=null;this.#h=null};#y=()=>{if(this.modal){this.#w.showModal();document.addEventListener("click",this.#S,{capture:true})}else{this.#w.show()}};#j=()=>{this.show=false};#S=e=>{const i=!e.composedPath().includes(this.#w);if(i){this.#F()}};#O=e=>i=>{this.#L();this.#t||=new a;this.#b=e;this.#d=i;C[this.#b](this.#g);this.#u=this.#a;this.#k=this.#l;const t=getComputedStyle(this.#w);this.#f=R(t.maxBlockSize);this.#z=R(t.maxInlineSize);this.#m=R(t.minBlockSize);this.#p=R(t.minInlineSize);this.#R();document.removeEventListener("click",this.#S,{capture:true});document.addEventListener("mousemove",this.#P,{capture:true});document.addEventListener("mouseup",this.#q,{capture:true,passive:true})};#P=e=>{this.#t.perform(this.#H,(()=>{e.preventDefault();this.#M();this.#h=e}))};#H=()=>{const e=this.#w.getBoundingClientRect();this.#_[this.#b](e);this.#d=this.#h};#q=()=>{if(this.adjustPositionAfterResize){this.#I()}else{this.#L()}this.resizing=false;if(this.#t){this.#t.cancel()}document.body.style.cursor=null;S(this.el,g,this.#a);S(this.el,b,this.#l);this.#D();document.removeEventListener("mousemove",this.#P,{capture:true});document.removeEventListener("mouseup",this.#q,{capture:true});this.#E();this.#t=null;this.#d=null;this.#h=null;if(this.modal){requestAnimationFrame((()=>{document.addEventListener("click",this.#S,{capture:true})}))}};#D=()=>{if(!this.resizable||!this.show){this.#R();return}this.#e??=new a;this.#o=new ResizeObserver(this.#T);this.#o.observe(this.el,{box:"border-box"});this.#o.observe(this.#x)};#T=()=>{this.#e.perform(this.#X)};#X=()=>{const e=getComputedStyle(this.el);this.el.style.setProperty(v,e.borderBlockStartWidth);this.el.style.setProperty(_,e.borderBlockEndWidth);this.el.style.setProperty(x,e.borderInlineStartWidth);this.el.style.setProperty(w,e.borderInlineEndWidth)};#R=()=>{if(this.#o){this.#o.disconnect();this.#o=null}this.#e=null};#L=()=>{const e=this.#w.getBoundingClientRect();const i=this.#g?document.documentElement.getBoundingClientRect().width-(e.left+e.width):e.left;const t=e.top;S(this.#w,h,i-this.#a);S(this.#w,d,t-this.#l)};#I=()=>{this.#w.style.removeProperty(h);this.#w.style.removeProperty(d)};render(){return s(n,{key:"a1bce7e595d8212efb529fbeff54285230208657",class:{"gx-dialog-header-drag":this.show&&this.allowDrag==="header","ch-dialog--modal":this.modal,"ch-dialog--non-modal":!this.modal,"ch-dialog--hidden":!this.show,[z]:this.resizing}},s("dialog",{key:"6def5adb01a9ef9de21b22398d4181702b76cac5","aria-labelledby":this.caption?"heading":null,class:this.showHeader?"dialog--header":null,part:"dialog",onClose:this.#F,onMouseDown:this.allowDrag==="box"?this.#A:null,ref:e=>this.#w=e},this.showHeader&&s("div",{key:"header",class:"header",part:"header",onMouseDown:this.allowDrag==="header"?this.#A:null},this.caption&&s("h2",{key:"41e30ac888646b198b1cbf6ca6c3114f6dd1067c",id:"heading",class:"caption",part:"caption"},this.caption),s("button",{key:"a4b2aa31b52f5cae138b8e33d9b6fd39d29c3955","aria-label":this.closeButtonAccessibleName||null,class:"close-button",part:"close-button",type:"button",onClick:this.#j})),s("div",{key:"content",class:"content",part:"content"},s("slot",{key:"704c7745e49daa06c45da3425bc6d8876275524c"})),this.showFooter&&s("div",{key:"footer",class:"footer",part:"footer"},s("slot",{key:"f8b643e01452c3c92c7d124110a3ef09401f3dd6",name:"footer"})),this.resizable&&this.show&&[s("div",{key:"edge-block-start",class:"edge__block-start",part:"edge edge-block-start",onMouseDown:this.#O("block-start")}),s("div",{key:"1f9cfd514b7beec44700ff80fb114d0c2e295aec",class:"edge__inline-end",part:"edge edge-inline-end",onMouseDown:this.#O("inline-end")}),s("div",{key:"02e441b4cdeddf212bd6e48925b5c1590ff0f7d3",class:"edge__block-end",part:"edge edge-block-end",onMouseDown:this.#O("block-end")}),s("div",{key:"a4747e298d299c96d5534f281678933e713096b1",class:"edge__inline-start",part:"edge edge-inline-start",onMouseDown:this.#O("inline-start")}),s("div",{key:"5adbd35fd7a1aa3224f125ced6e3f4525b5e9210",class:"corner__block-start-inline-start",part:"corner corner-block-start-inline-start",onMouseDown:this.#O("block-start-inline-start")}),s("div",{key:"79ddc10f582b467f0572f42c5736239623e2c3c1",class:"corner__block-start-inline-end",part:"corner corner-block-start-inline-end",onMouseDown:this.#O("block-start-inline-end")}),s("div",{key:"0d5fdcc8c5caa82ba3c975a9724fa7ce15fb4e2e",class:"corner__block-end-inline-start",part:"corner corner-block-end-inline-start",onMouseDown:this.#O("block-end-inline-start")}),s("div",{key:"f7ac64f3df8acf55910b5cc1d40dbd292052d56c",class:"corner__block-end-inline-end",part:"corner corner-block-end-inline-end",onMouseDown:this.#O("block-end-inline-end")}),s("div",{key:"4f0be150398840bbb519d291209f2563cb15d963",class:"resize-layer",ref:e=>this.#x=e})]))}static get watchers(){return{show:["showChanged"],resizable:["resizableChanged"]}}};M.style=c;export{M as ch_dialog};
//# sourceMappingURL=p-3bbbf0fe.entry.js.map