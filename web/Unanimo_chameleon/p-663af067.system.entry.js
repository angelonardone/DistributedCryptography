var __assign=this&&this.__assign||function(){__assign=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a))e[a]=t[a]}return e};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(e,t,i,r){function a(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function s(e){try{f(r.next(e))}catch(e){n(e)}}function l(e){try{f(r["throw"](e))}catch(e){n(e)}}function f(e){e.done?i(e.value):a(e.value).then(s,l)}f((r=r.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,a,n,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(e){return function(t){return f([e,t])}}function f(l){if(r)throw new TypeError("Generator is already executing.");while(s&&(s=0,l[0]&&(i=0)),i)try{if(r=1,a&&(n=l[0]&2?a["return"]:l[0]?a["throw"]||((n=a["return"])&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;if(a=0,n)l=[l[0]&2,n.value];switch(l[0]){case 0:case 1:n=l;break;case 4:i.label++;return{value:l[1],done:false};case 5:i.label++;a=l[1];l=[0];continue;case 7:l=i.ops.pop();i.trys.pop();continue;default:if(!(n=i.trys,n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){i=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){i.label=l[1];break}if(l[0]===6&&i.label<n[1]){i.label=n[1];n=l;break}if(n&&i.label<n[2]){i.label=n[2];i.ops.push(l);break}if(n[2])i.ops.pop();i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e];a=0}finally{r=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};var __classPrivateFieldSet=this&&this.__classPrivateFieldSet||function(e,t,i,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,i):a?a.value=i:t.set(e,i),i};var __classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(e,t,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(e):r?r.value:t.get(e)};var __spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var r=0,a=t.length,n;r<a;r++){if(n||!(r in t)){if(!n)n=Array.prototype.slice.call(t,0,r);n[r]=t[r]}}return e.concat(n||Array.prototype.slice.call(t))};System.register(["./p-62fc4e49.system.js","./p-81126801.system.js","./p-b8709f98.system.js","./p-9b788812.system.js","./p-3adf2593.system.js"],(function(e){"use strict";var t,i,r,a,n,s,l,f,o,c,u,d,_,v,h,P,F,w;return{setters:[function(e){t=e.r;i=e.c;r=e.g;a=e.f;n=e.h;s=e.H},function(e){l=e.e;f=e.R;o=e.t;c=e.a},function(e){u=e.i;d=e.D;_=e.e},function(e){v=e.T;h=e.F;P=e.L;F=e.g},function(e){w=e.r}],execute:function(){var G,p,b,g,y,k,m,x,M,W,S,I,C,j,A,O,T,B,E,L,V,D,z,H,R,q,J,K,N,Q,U,X,Y,Z,$,ee,te,ie,re;var ae="--ch-flexible-layout-drop-area-block-start";var ne="--ch-flexible-layout-drop-area-block-end";var se="--ch-flexible-layout-drop-area-inline-start";var le="--ch-flexible-layout-drop-area-inline-end";var fe=30;var oe=100-fe;var ce=.5;var ue=function(e,t,i){return e.style.setProperty(t,"".concat(i,"px"))};var de=function(e,t){return t?e.left+e.width*ce:e.left};var _e=function(e,t,i){return i?e.width-t.right:e.width-(t.left+t.width*ce)};var ve={"block-start":function(e,t){return[t.top,e.height-(t.top+t.height*ce),t.left,e.width-t.right]},"block-end":function(e,t){return[t.top+t.height*ce,e.height-(t.top+t.height),t.left,e.width-t.right]},"inline-start":function(e,t,i){return[t.top,e.height-(t.top+t.height),de(t,i),_e(e,t,i)]},"inline-end":function(e,t,i){return[t.top,e.height-(t.top+t.height),de(t,!i),_e(e,t,!i)]},center:function(e,t){return[t.top,e.height-(t.top+t.height),t.left,e.width-t.right]}};var he;var Pe;var Fe=function(e,t,i){return function(r){r.stopPropagation();var a=document.documentElement.getBoundingClientRect();var n=e.mainView.getBoundingClientRect();var s=r.clientX;var f=r.clientY;var o=i?n.width-(s-n.left):s-n.left;var c=f-n.top;var u=o/n.width*100;var d=c/n.height*100;var _;if(d<=fe&&l(d,u,100-d)){_="block-start"}else if(u>=oe&&l(100-u,d,u)){_="inline-end"}else if(u<=fe&&l(u,d,100-u)){_="inline-start"}else if(d>=oe&&l(100-d,u,d)){_="block-end"}else{_="center"}if(Pe===e.viewId&&he===_){return}he=_;Pe=e.viewId;var v=ve[_](a,n,i);ue(t,ae,v[0]);ue(t,ne,v[1]);ue(t,se,v[2]);ue(t,le,v[3])}};var we=function(e){he=undefined;Pe=undefined;e.removeAttribute("style")};var Ge=function(){return he===undefined?undefined:{dropAreaTarget:he,viewIdTarget:Pe}};var pe=function(e,t,i){var r,a,n;var s=e.id;var l=e.type;if(l==="single-content"){var f=e.widget;t.add(f.id);i.set(s,{parentLeafId:s,info:f});return{id:s,type:l,widget:f}}var o=e.selectedWidgetId;var c=e.widgets;c.forEach((function(e){if(e.wasRendered||o===e.id){e.wasRendered=true;t.add(e.id)}i.set(e.id,{parentLeafId:s,info:e})}));if(o==null&&c.length>0){var _=c[u((r=e.tabListPosition)!==null&&r!==void 0?r:d)?c.length-1:0];o=_.id;_.wasRendered=true;t.add(o)}return{id:s,closeButton:e.closeButton,disabled:e.disabled,dragOutside:e.dragOutside,selectedWidgetId:o,showCaptions:(a=e.showCaptions)!==null&&a!==void 0?a:true,sortable:e.sortable,tabListPosition:e.tabListPosition,tabButtonHidden:(n=e.tabButtonHidden)!==null&&n!==void 0?n:false,type:l,widgets:c}};var be=function(e,t){var i,r;if((i=e.dragBar)===null||i===void 0?void 0:i.part){t.add((r=e.dragBar)===null||r===void 0?void 0:r.part)}};var ge=function(e,t,i,r,a){var n={item:e,parentItem:t,leafInfo:pe(e,r,a)};i.set(e.id,n)};var ye=function(e,t,i,r,a,n){e.forEach((function(e){if(e.items!=null){var s=e;var l={item:s,parentItem:n};t.set(s.id,l);i.add(s.id);ye(s.items,t,i,r,a,s)}else{ge(e,n,t,r,a)}be(e,i)}))};var ke=function(e,t,i,r,a){return ye(e.items,t,i,r,a,f)};var me=function(e,t){return e.get(t).leafInfo};var xe=":host{display:contents}.droppable-area{width:auto;height:auto;padding:0;margin:0;border:unset;color:unset;inset-block:var(--ch-flexible-layout-drop-area-block-start) var(--ch-flexible-layout-drop-area-block-end);left:var(--ch-flexible-layout-drop-area-inline-start);right:var(--ch-flexible-layout-drop-area-inline-end);background-color:color-mix(in srgb, currentColor 15%, transparent);-webkit-transition:inset 150ms ease-in-out;transition:inset 150ms ease-in-out;pointer-events:none}";var Me=xe;var We=function(e){return'[id="'.concat(e,'"]')};var Se="Escape";var Ie=e("ch_flexible_layout",(E=function(){function e(e){var r=this;G.set(this,void 0);p.set(this,void 0);b.set(this,[]);g.set(this,void 0);y.set(this,void 0);k.set(this,void 0);m.set(this,void 0);x.set(this,void 0);M.set(this,void 0);W.set(this,(function(e){return me(r.itemsInfo,e)}));S.set(this,(function(){var e=[];r.itemsInfo.forEach((function(t){var i=t.leafInfo;if(i!=null){e.push(i)}}));return e}));I.set(this,(function(e){return function(t){if(t.target.getRootNode()!==r.el.shadowRoot){return}t.stopPropagation();var i=__assign(__assign({},t.detail),{viewId:e});r.selectedViewItemChange.emit(i)}}));C.set(this,(function(e){return function(t){return __awaiter(r,void 0,void 0,(function(){var i,r;var a=this;return __generator(this,(function(n){switch(n.label){case 0:t.stopPropagation();__classPrivateFieldSet(this,m,t.target,"f");i=__spreadArray([],this.el.shadowRoot.querySelectorAll("ch-tab-render"),true);__classPrivateFieldSet(this,y,{index:t.detail,viewId:e},"f");return[4,Promise.allSettled(i.map((function(e){return e.getDraggableViews()})))];case 1:r=n.sent();__classPrivateFieldSet(this,g,[],"f");r.forEach((function(e,t){if(e.status==="fulfilled"){var r=e.value;var n=new AbortController;var s=__assign(__assign({},r),{viewId:i[t].id,abortController:n});__classPrivateFieldGet(a,g,"f").push(s);var l=c();r.mainView.addEventListener("mousemove",Fe(s,__classPrivateFieldGet(a,x,"f"),l),{capture:true,passive:true,signal:n.signal});s.tabListView.style.pointerEvents="none";s.pageView.style.pointerEvents="none"}}));document.addEventListener("mouseup",__classPrivateFieldGet(this,A,"f"),{passive:true});document.addEventListener("keydown",__classPrivateFieldGet(this,j,"f"),{passive:true});__classPrivateFieldSet(this,k,new AbortController,"f");document.addEventListener("mousemove",(function(){return we(__classPrivateFieldGet(a,x,"f"))}),{passive:true,signal:__classPrivateFieldGet(this,k,"f").signal});__classPrivateFieldGet(this,x,"f").showPopover();__classPrivateFieldGet(this,m,"f").promoteDragPreviewToTopLayer();this.dragBarDisabled=true;return[2]}}))}))}}));j.set(this,(function(e){if(e.code!==Se){return}e.preventDefault();we(__classPrivateFieldGet(r,x,"f"));__classPrivateFieldGet(r,A,"f").call(r);__classPrivateFieldGet(r,m,"f").endDragPreview()}));A.set(this,(function(){__classPrivateFieldGet(r,g,"f").forEach((function(e){e.abortController.abort();e.tabListView.style.pointerEvents=null;e.pageView.style.pointerEvents=null}));document.removeEventListener("mouseup",__classPrivateFieldGet(r,A,"f"));document.removeEventListener("keydown",__classPrivateFieldGet(r,j,"f"));__classPrivateFieldGet(r,k,"f").abort();var e=Ge();if(e){r.viewItemReorder.emit(__assign(__assign({},__classPrivateFieldGet(r,y,"f")),e))}__classPrivateFieldGet(r,x,"f").hidePopover();we(__classPrivateFieldGet(r,x,"f"));__classPrivateFieldSet(r,g,undefined,"f");__classPrivateFieldSet(r,y,undefined,"f");r.dragBarDisabled=false}));O.set(this,(function(){var e=new Set(__spreadArray([],Object.values(v),true));e.add(h.DROPPABLE_AREA);e.add(h.LEAF);e.add(P.BAR);r.layoutSplitterParts.forEach((function(t){return e.add(t)}));__classPrivateFieldGet(r,b,"f").forEach((function(t){var i;if(t.type==="tabbed"){e.add(t.id);e.add((i=t.tabListPosition)!==null&&i!==void 0?i:d);t.widgets.forEach((function(t){var i=t.id;return e.add(i)}))}}));__classPrivateFieldSet(r,G,__spreadArray([],e.keys(),true).join(","),"f");__classPrivateFieldSet(r,p,__spreadArray(__spreadArray([],r.layoutSplitterParts.keys(),true),[P.BAR],false).join(","),"f")}));T.set(this,(function(e){var t;var i,a,s,l;var f=(i=e.dragOutside)!==null&&i!==void 0?i:r.dragOutside;var c=(a=e.sortable)!==null&&a!==void 0?a:r.sortable;var P=(s=e.tabListPosition)!==null&&s!==void 0?s:d;var w=u(P);var G=_(P);return n("ch-tab-render",{id:e.id,key:e.id,slot:e.id,contain:r.contain,part:o((t={},t[e.id]=true,t[h.LEAF]=true,t[P]=true,t[v.BLOCK]=w,t[v.INLINE]=!w,t[v.START]=G,t[v.END]=!G,t)),exportparts:"".concat(F,",").concat(P,",").concat(e.widgets.map((function(e){var t=e.id;return t})).join(",")),closeButton:(l=e.closeButton)!==null&&l!==void 0?l:r.closeButton,disabled:e.disabled,dragOutside:f,model:e.widgets,overflow:r.overflow,selectedId:e.selectedWidgetId,showCaptions:e.showCaptions,sortable:c,tabButtonHidden:e.tabButtonHidden,tabListPosition:P,onItemDragStart:f&&c?__classPrivateFieldGet(r,C,"f").call(r,e.id):undefined,onSelectedItemChange:__classPrivateFieldGet(r,I,"f").call(r,e.id)},e.widgets.map((function(e){return e.wasRendered&&n("slot",{name:e.id,slot:e.id})})))}));B.set(this,(function(e){return e.type==="single-content"?n("slot",{key:e.id,slot:e.id,name:e.id}):__classPrivateFieldGet(r,T,"f").call(r,e)}));t(this,e);this.viewItemClose=i(this,"viewItemClose",7);this.selectedViewItemChange=i(this,"selectedViewItemChange",7);this.viewItemReorder=i(this,"viewItemReorder",7);this.dragBarDisabled=false;this.closeButton=false;this.contain="none";this.dragOutside=false;this.itemsInfo=undefined;this.layoutSplitterParts=undefined;this.model=undefined;this.overflow="visible";this.sortable=false}Object.defineProperty(e.prototype,"el",{get:function(){return r(this)},enumerable:false,configurable:true});e.prototype.addSiblingView=function(e,t,i,r,n){return __awaiter(this,void 0,void 0,(function(){var s;return __generator(this,(function(l){switch(l.label){case 0:return[4,__classPrivateFieldGet(this,M,"f").addSiblingLeaf(e,t,i,r,n)];case 1:s=l.sent();if(s.success){a(this)}return[2,s.success]}}))}))};e.prototype.refreshLeaf=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){t=this.el.shadowRoot.querySelector(We(e));if(!t){return[2]}a(t);return[2]}))}))};e.prototype.removeView=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,__classPrivateFieldGet(this,M,"f").removeItem(e)];case 1:t=i.sent();if(t.success){a(this)}return[2,{success:t.success,reconnectedSubtree:t.reconnectedSubtree}]}}))}))};e.prototype.removeItemPageInView=function(e,t){return __awaiter(this,arguments,void 0,(function(e,t,i){var r,a;if(i===void 0){i=true}return __generator(this,(function(n){switch(n.label){case 0:r=__classPrivateFieldGet(this,W,"f").call(this,e);if(!r){return[2]}a=this.el.shadowRoot.querySelector(We(r.id));return[4,a.removePage(t,i)];case 1:n.sent();return[2]}}))}))};e.prototype.handleItemClose=function(e){var t=e.composedPath()[0];if(t.tagName.toLowerCase()!=="ch-tab-render"||t.getRootNode()!==this.el.shadowRoot){return}e.stopPropagation();var i=__assign(__assign({},e.detail),{viewId:t.id});var r=this.viewItemClose.emit(i);if(r.defaultPrevented){e.preventDefault()}};e.prototype.componentWillRender=function(){__classPrivateFieldSet(this,b,__classPrivateFieldGet(this,S,"f").call(this),"f");__classPrivateFieldGet(this,O,"f").call(this)};e.prototype.render=function(){var e=this;var t=this.model;if(t==null){return""}return n(s,{exportparts:__classPrivateFieldGet(this,G,"f")},n("ch-layout-splitter",{dragBarDisabled:this.dragBarDisabled,model:t,exportparts:__classPrivateFieldGet(this,p,"f"),ref:function(t){return __classPrivateFieldSet(e,M,t,"f")}},__classPrivateFieldGet(this,b,"f").map(__classPrivateFieldGet(this,B,"f"))),n("div",{"aria-hidden":"true",class:"droppable-area",part:h.DROPPABLE_AREA,popover:"manual",ref:function(t){return __classPrivateFieldSet(e,x,t,"f")}}))};return e}(),G=new WeakMap,p=new WeakMap,b=new WeakMap,g=new WeakMap,y=new WeakMap,k=new WeakMap,m=new WeakMap,x=new WeakMap,M=new WeakMap,W=new WeakMap,S=new WeakMap,I=new WeakMap,C=new WeakMap,j=new WeakMap,A=new WeakMap,O=new WeakMap,T=new WeakMap,B=new WeakMap,E));Ie.style=Me;var Ce=":host,.ch-flexible-layout-render-slot{display:contents}";var je=Ce;var Ae=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=Math.random()*16;i=(e+i)%16|0;e=Math.floor(e/16);return(t==="x"?i:i&3|8).toString(16)}))};var Oe=e("ch_flexible_layout_render",(re=function(){function e(e){var r=this;L.set(this,new Set);V.set(this,new Set);D.set(this,new Map);z.set(this,new Map);H.set(this,new Set);R.set(this,void 0);q.set(this,(function(e){__classPrivateFieldGet(r,z,"f").clear();__classPrivateFieldGet(r,D,"f").clear();if(e==null){__classPrivateFieldGet(r,L,"f").clear();return}__classPrivateFieldGet(r,H,"f").clear();var t=new Set;ke(e,__classPrivateFieldGet(r,z,"f"),__classPrivateFieldGet(r,H,"f"),t,__classPrivateFieldGet(r,D,"f"));__classPrivateFieldGet(r,D,"f").forEach((function(e){if(__classPrivateFieldGet(r,L,"f").has(e.info.id)){t.add(e.info.id)}}));__classPrivateFieldSet(r,L,t,"f")}));J.set(this,(function(e){return me(__classPrivateFieldGet(r,z,"f"),e)}));K.set(this,(function(e){e.stopPropagation();var t=e.detail;var i=__classPrivateFieldGet(r,J,"f").call(r,t.viewId);var n=i.widgets[t.newSelectedIndex];__classPrivateFieldGet(r,Y,"f").call(r,i,n);a(r);a(__classPrivateFieldGet(r,R,"f"))}));N.set(this,(function(e){e.stopPropagation();var t=e.detail;var i=r.widgetClose.emit({widgetId:t.itemId,viewId:t.viewId});if(i.defaultPrevented){e.preventDefault();return}var a=__classPrivateFieldGet(r,J,"f").call(r,t.viewId);var n=t.itemIndex;var s=a.widgets[n];__classPrivateFieldGet(r,Q,"f").call(r,a,s,n)}));Q.set(this,(function(e,t,i){if(e.widgets.length===1){r.removeView(e.id,true);return}var n=e.widgets;var s=e.widgets.length;if(t.id===e.selectedWidgetId){var l=i===s-1?n[s-2]:n[i+1];__classPrivateFieldGet(r,Y,"f").call(r,e,l)}__classPrivateFieldGet(r,U,"f").call(r,e,i);a(r);a(__classPrivateFieldGet(r,R,"f"))}));U.set(this,(function(e,t,i){if(i===void 0){i=false}var a=w(e.widgets,t);__classPrivateFieldGet(r,R,"f").removeItemPageInView(e.id,a.id);if(!i){__classPrivateFieldGet(r,X,"f").call(r,a)}}));X.set(this,(function(e){if(e.conserveRenderState===true){return}__classPrivateFieldGet(r,L,"f").delete(e.id);__classPrivateFieldGet(r,D,"f").delete(e.id)}));Y.set(this,(function(e,t){__classPrivateFieldGet(r,L,"f").add(t.id);t.wasRendered=true;var i=__classPrivateFieldGet(r,z,"f").get(e.id).item;i.selectedWidgetId=t.id;e.selectedWidgetId=t.id}));Z.set(this,(function(e){return __awaiter(r,void 0,void 0,(function(){var t,i,r,n,s,l,f,o,c,u;return __generator(this,(function(d){switch(d.label){case 0:t=e.detail;i=t.viewId;r=t.viewIdTarget;n=t.dropAreaTarget;s=__classPrivateFieldGet(this,J,"f").call(this,i);if(i===r&&(n==="center"||s.widgets.length===1)){return[2]}l=__classPrivateFieldGet(this,J,"f").call(this,r);f=t.index;o=s.widgets[f];__classPrivateFieldGet(this,D,"f").get(o.id).parentLeafId=r;__classPrivateFieldGet(this,L,"f").add(o.id);o.wasRendered=true;if(!(n==="center"))return[3,1];l.widgets.push(o);__classPrivateFieldGet(this,Y,"f").call(this,l,o);return[3,3];case 1:return[4,__classPrivateFieldGet(this,$,"f").call(this,o,l,n)];case 2:d.sent();d.label=3;case 3:if(!(s.widgets.length===1))return[3,5];return[4,this.removeView(i,false)];case 4:d.sent();return[3,6];case 5:if(s.selectedWidgetId===o.id){c=f===0?1:f-1;u=s.widgets[c];__classPrivateFieldGet(this,Y,"f").call(this,s,u)}__classPrivateFieldGet(this,U,"f").call(this,s,f,true);a(this);d.label=6;case 6:return[2]}}))}))}));$.set(this,(function(e,t,i){return __awaiter(r,void 0,void 0,(function(){var r,a,n,s,l;var f,o;return __generator(this,(function(c){switch(c.label){case 0:r=__classPrivateFieldGet(this,z,"f").get(t.id);a=r.parentItem;n=Ae();s={id:n,selectedWidgetId:e.id,size:undefined,tabListPosition:r.leafInfo.tabListPosition,type:"tabbed",widgets:[e],dragBar:{size:(f=r.item.dragBar)===null||f===void 0?void 0:f.size,part:(o=r.item.dragBar)===null||o===void 0?void 0:o.part}};l=a.direction==="rows"&&(i==="block-start"||i==="block-end")||a.direction==="columns"&&(i==="inline-start"||i==="inline-end");if(!l)return[3,2];return[4,this.addSiblingView(a.id,t.id,i==="block-start"||i==="inline-start"?"before":"after",s,true)];case 1:c.sent();c.label=2;case 2:return[2]}}))}))}));ee.set(this,(function(e){var t;var i=__classPrivateFieldGet(r,D,"f").get(e).info;if(__classPrivateFieldGet(r,te,"f").call(r,i)){return n("slot",{key:e,name:e,slot:e})}var a=(t=i.renderId)!==null&&t!==void 0?t:e;var s=r.renders[a];if(!s){console.error('Could not find a render for the "'.concat(e,'" widget. The render "').concat(a,'" does not exists in the "renders" property.'));return}return i.addWrapper?n("div",{key:e,slot:e,class:"ch-flexible-layout-render-slot"},s(i)):s(i)}));te.set(this,(function(e){var t;return(t=e.slot)!==null&&t!==void 0?t:r.slottedWidgets}));ie.set(this,(function(){if(__classPrivateFieldGet(r,V,"f").size===__classPrivateFieldGet(r,L,"f").size&&__classPrivateFieldGet(r,V,"f").size===0){return}var e=__classPrivateFieldGet(r,V,"f").size!==__classPrivateFieldGet(r,L,"f").size;var t=[];var i=[];__classPrivateFieldGet(r,L,"f").forEach((function(a){var n=__classPrivateFieldGet(r,D,"f").get(a).info;if(__classPrivateFieldGet(r,te,"f").call(r,n)){i.push(a)}else{t.push(a)}e||(e=!__classPrivateFieldGet(r,V,"f").has(a))}));if(e){r.renderedWidgetsChange.emit({rendered:t,slotted:i})}__classPrivateFieldSet(r,V,new Set(__classPrivateFieldGet(r,L,"f")),"f")}));t(this,e);this.widgetClose=i(this,"widgetClose",7);this.renderedWidgetsChange=i(this,"renderedWidgetsChange",7);this.closeButton=false;this.contain="none";this.dragOutside=false;this.model=undefined;this.overflow="visible";this.renders=undefined;this.sortable=false;this.slottedWidgets=false;this.theme=undefined}e.prototype.modelChanged=function(e){__classPrivateFieldGet(this,q,"f").call(this,e)};e.prototype.addSiblingView=function(e,t,i,r,n){return __awaiter(this,void 0,void 0,(function(){var s;return __generator(this,(function(l){switch(l.label){case 0:return[4,__classPrivateFieldGet(this,R,"f").addSiblingView(e,t,i,r,n)];case 1:s=l.sent();if(!s){return[2,false]}ge(r,__classPrivateFieldGet(this,z,"f").get(e).item,__classPrivateFieldGet(this,z,"f"),__classPrivateFieldGet(this,L,"f"),__classPrivateFieldGet(this,D,"f"));a(this);return[2,true]}}))}))};e.prototype.addWidget=function(e,t){return __awaiter(this,arguments,void 0,(function(e,t,i){var r;if(i===void 0){i=true}return __generator(this,(function(n){r=__classPrivateFieldGet(this,z,"f").get(e);if(!r||r.leafInfo==null||r.leafInfo.type==="single-content"||__classPrivateFieldGet(this,D,"f").has(t.id)){return[2]}r.leafInfo.widgets.push(t);__classPrivateFieldGet(this,D,"f").set(t.id,{parentLeafId:e,info:t});if(i){__classPrivateFieldGet(this,Y,"f").call(this,r.leafInfo,t);a(this);a(__classPrivateFieldGet(this,R,"f"))}else{__classPrivateFieldGet(this,R,"f").refreshLeaf(e)}return[2]}))}))};e.prototype.removeView=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,r,n,s,l,f,o,c,u,d;var _=this;return __generator(this,(function(v){switch(v.label){case 0:i=__classPrivateFieldGet(this,z,"f").get(e);if(!i){return[2,{success:false,reconnectedSubtree:undefined}]}r=i.leafInfo;if(r==null||r.type==="single-content"){return[2,{success:false,reconnectedSubtree:undefined}]}return[4,__classPrivateFieldGet(this,R,"f").removeView(e)];case 1:n=v.sent();if(!n.success){return[2,n]}s=n.reconnectedSubtree;if(s){l=__classPrivateFieldGet(this,z,"f").get(s.nodeToRemove);if(l.leafInfo==null){f=l.item.items;o=__classPrivateFieldGet(this,z,"f").get(s.nodeToReconnect);f.forEach((function(e){__classPrivateFieldGet(_,z,"f").get(e.id).parentItem=o.item}))}else{c=__classPrivateFieldGet(this,z,"f").get(s.nodeToReconnect);c.leafInfo=l.leafInfo;u=c.leafInfo;u.id=s.nodeToReconnect;d=u.type==="single-content"?[u.widget]:u.widgets;d.forEach((function(e){var t=__classPrivateFieldGet(_,D,"f").get(e.id);t.parentLeafId=u.id}))}__classPrivateFieldGet(this,z,"f").delete(s.nodeToRemove)}if(t){r.widgets.forEach(__classPrivateFieldGet(this,X,"f"))}__classPrivateFieldGet(this,z,"f").delete(e);a(this);return[2,n]}}))}))};e.prototype.removeWidget=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(r){t=__classPrivateFieldGet(this,D,"f").get(e);if(!t){return[2]}i=__classPrivateFieldGet(this,J,"f").call(this,t.parentLeafId);if(i.type==="single-content"){return[2]}__classPrivateFieldGet(this,Q,"f").call(this,i,t.info,i.widgets.findIndex((function(t){return t.id===e})));return[2]}))}))};e.prototype.updateSelectedWidget=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,r;return __generator(this,(function(n){i=__classPrivateFieldGet(this,D,"f").get(t);if(!i||i.parentLeafId!==e){return[2]}r=__classPrivateFieldGet(this,J,"f").call(this,i.parentLeafId);if(r.type==="single-content"||r.selectedWidgetId===t){return[2]}__classPrivateFieldGet(this,Y,"f").call(this,r,i.info);a(this);a(__classPrivateFieldGet(this,R,"f"));return[2]}))}))};e.prototype.updateViewInfo=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,r;return __generator(this,(function(n){i=__classPrivateFieldGet(this,z,"f").get(e);if(!i||!i.leafInfo||i.item.type!==t.type){return[2]}for(r in t){i.item[r]=t[r];i.leafInfo[r]=t[r]}a(this);__classPrivateFieldGet(this,R,"f").refreshLeaf(i.item.id);return[2]}))}))};e.prototype.updateWidgetInfo=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,r;return __generator(this,(function(n){i=__classPrivateFieldGet(this,D,"f").get(e);if(!i){return[2]}r=i.info;Object.entries(t).forEach((function(e){var t=e[0],i=e[1];r[t]=i}));a(this);__classPrivateFieldGet(this,R,"f").refreshLeaf(i.parentLeafId);return[2]}))}))};e.prototype.componentWillLoad=function(){__classPrivateFieldGet(this,q,"f").call(this,this.model)};e.prototype.componentDidRender=function(){__classPrivateFieldGet(this,ie,"f").call(this)};e.prototype.render=function(){var e=this;if(this.model==null){return""}return n(s,null,this.theme&&n("ch-theme",{model:this.theme}),n("ch-flexible-layout",{closeButton:this.closeButton,contain:this.contain,dragOutside:this.dragOutside,model:this.model,layoutSplitterParts:__classPrivateFieldGet(this,H,"f"),itemsInfo:__classPrivateFieldGet(this,z,"f"),overflow:this.overflow,sortable:this.sortable,onViewItemClose:__classPrivateFieldGet(this,N,"f"),onViewItemReorder:__classPrivateFieldGet(this,Z,"f"),onSelectedViewItemChange:__classPrivateFieldGet(this,K,"f"),ref:function(t){return __classPrivateFieldSet(e,R,t,"f")}},__spreadArray([],__classPrivateFieldGet(this,L,"f").values(),true).map(__classPrivateFieldGet(this,ee,"f"))))};Object.defineProperty(e,"watchers",{get:function(){return{model:["modelChanged"]}},enumerable:false,configurable:true});return e}(),L=new WeakMap,V=new WeakMap,D=new WeakMap,z=new WeakMap,H=new WeakMap,R=new WeakMap,q=new WeakMap,J=new WeakMap,K=new WeakMap,N=new WeakMap,Q=new WeakMap,U=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,ie=new WeakMap,re));Oe.style=je}}}));
//# sourceMappingURL=p-663af067.system.entry.js.map