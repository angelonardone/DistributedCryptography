var __awaiter=this&&this.__awaiter||function(e,t,i,a){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function n(e){try{c(a.next(e))}catch(e){s(e)}}function l(e){try{c(a["throw"](e))}catch(e){s(e)}}function c(e){e.done?i(e.value):r(e.value).then(n,l)}c((a=a.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,r,s,n;return n={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(n[Symbol.iterator]=function(){return this}),n;function l(e){return function(t){return c([e,t])}}function c(l){if(a)throw new TypeError("Generator is already executing.");while(n&&(n=0,l[0]&&(i=0)),i)try{if(a=1,r&&(s=l[0]&2?r["return"]:l[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,l[1])).done)return s;if(r=0,s)l=[l[0]&2,s.value];switch(l[0]){case 0:case 1:s=l;break;case 4:i.label++;return{value:l[1],done:false};case 5:i.label++;r=l[1];l=[0];continue;case 7:l=i.ops.pop();i.trys.pop();continue;default:if(!(s=i.trys,s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){i=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){i.label=l[1];break}if(l[0]===6&&i.label<s[1]){i.label=s[1];s=l;break}if(s&&i.label<s[2]){i.label=s[2];i.ops.push(l);break}if(s[2])i.ops.pop();i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e];r=0}finally{a=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};var __classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(e,t,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=this&&this.__classPrivateFieldSet||function(e,t,i,a,r){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?r.call(e,i):r?r.value=i:t.set(e,i),i};var __spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var a=0,r=t.length,s;a<r;a++){if(s||!(a in t)){if(!s)s=Array.prototype.slice.call(t,0,a);s[a]=t[a]}}return e.concat(s||Array.prototype.slice.call(t))};System.register(["./p-62fc4e49.system.js","./p-7337aa91.system.js","./p-9b788812.system.js","./p-81126801.system.js","./p-3adf2593.system.js","./p-b3acbc4b.system.js","./p-f725d3d0.system.js"],(function(e){"use strict";var t,i,a,r,s,n,l,c,f,o,d,v,h,u,_,p,m,w,g,P,F,b,G,k,x,y;return{setters:[function(e){t=e.r;i=e.c;a=e.g;r=e.a;s=e.w;n=e.h;l=e.H;c=e.f},function(e){f=e.f;o=e.m},function(e){d=e.q;v=e.r;h=e.t;u=e.u},function(e){_=e.s;p=e.a;m=e.k;w=e.u;g=e.l;P=e.t;F=e.g},function(e){b=e.r;G=e.i},function(e){k=e.g;x=e.a},function(e){y=e.f}],execute:function(){var M=this;var W,S,z,C,I,T,O,A,D,j,E,L,q,V,Y,B,H,N,J,R,Z,K,U,Q,X,$,ee,te,ie,ae,re,se,ne,le,ce,fe,oe,de,ve,he,ue,_e,pe,me,we,ge,Pe,Fe,be,Ge,ke,xe,ye,Me,We,Se,ze,Ce,Ie,Te,Oe,Ae,De,je,Ee,Le,qe,Ve,Ye,Be,He,Ne,Je,Re,Ze,Ke,Ue,Qe,Xe,$e,et,tt,it,at,rt,st,nt,lt,ct,ft,ot,dt,vt,ht,ut,_t;var pt=function(e,t,i,a){var r=e.clientY-t.getBoundingClientRect().top;var s=t.clientHeight;var n=r<=a;var l=r>s-a;if(n||l){var c=n?r-a:r-(s-a);t.scrollTop+=c/i}};var mt=":host{display:contents}:host(.rtl-direction)>.drag-info{--rtl-offset:-100%}.drag-info{--rtl-offset:16px;position:fixed;left:0;top:0;-webkit-transform:translate(calc(var(--ch-tree-view-dragging-item-x) + var(--rtl-offset)), calc(var(--ch-tree-view-dragging-item-y) + 8px));transform:translate(calc(var(--ch-tree-view-dragging-item-x) + var(--rtl-offset)), calc(var(--ch-tree-view-dragging-item-y) + 8px));pointer-events:none;z-index:1;-webkit-animation:fade-in 10ms;animation:fade-in 10ms}.waiting-drop-processing{cursor:wait}.waiting-drop-processing ::slotted(*){pointer-events:none}@-webkit-keyframes fade-in{0%,100%{opacity:0}}@keyframes fade-in{0%,100%{opacity:0}}";var wt=mt;var gt="ch-tree-view-item";var Pt="ch-tree-view-drop";var Ft="ch-tree-view";var bt="checking";var Gt="invalid";var kt="temporal-invalid";var xt="valid";var yt=function(e){return"".concat(gt,'[id="').concat(e,'"]')};var Mt="text/plain";var Wt="ArrowDown";var St="ArrowUp";var zt="F2";var Ct=function(e){return e.tagName.toLowerCase()===Pt};var It=function(e){return e.tagName.toLowerCase()===gt};var Tt=function(e){return e===gt||e===Pt};var Ot=function(){return f().find(It)};var At=function(e){return e&&!e.editing};var Dt=function(e,t,i){return'"newContainerId":"'.concat(e,'","metadata":"').concat(JSON.stringify(t),'","dropType":"').concat(i,'"')};var jt="--ch-tree-view-dragging-item-x";var Et="--ch-tree-view-dragging-item-y";var Lt=0;var qt=e("ch_tree_view",($=function(){function e(e){var a;var r=this;W.set(this,(a={},a[Wt]=function(e){var t=Ot();if(!At(t)){return}e.preventDefault();t.focusNextItem(o(e))},a[St]=function(e){var t=Ot();if(!At(t)){return}e.preventDefault();t.focusPreviousItem(o(e))},a[zt]=function(e){var t=Ot();if(!t||!t.editable){return}e.preventDefault();t.editing=true},a));S.set(this,false);z.set(this,true);C.set(this,void 0);I.set(this,void 0);T.set(this,new Map);O.set(this,void 0);A.set(this,void 0);D.set(this,void 0);j.set(this,void 0);E.set(this,void 0);L.set(this,void 0);q.set(this,[]);V.set(this,[]);Y.set(this,(function(e,t){if(t){return{treeItem:e,dropType:"above"}}var i=e.type;return{treeItem:i==="before"?e.nextElementSibling:e.previousElementSibling,dropType:e.type}}));B.set(this,(function(e,t){if(t===void 0){t=false}if(__classPrivateFieldGet(r,E,"f")===e||t){clearTimeout(__classPrivateFieldGet(r,I,"f"));__classPrivateFieldSet(r,E,null,"f")}}));H.set(this,(function(e){return r.el.querySelector(yt(e))}));N.set(this,(function(e,t,i){var a=Dt(t.id,__classPrivateFieldGet(r,A,"f"),i);var s=__classPrivateFieldGet(r,T,"f").get(a);if(s===kt&&!t.lazyLoad&&!t.downloading){s=null}if(s!=null){return s}if(e.dataTransfer.effectAllowed==="none"||i==="above"&&t.dropDisabled||r.draggingInTree&&(__classPrivateFieldGet(r,q,"f").includes(t.id)||__classPrivateFieldGet(r,V,"f").includes(t.id))){__classPrivateFieldGet(r,T,"f").set(a,Gt);return Gt}if(i==="above"&&(t.lazyLoad||t.downloading)){__classPrivateFieldGet(r,T,"f").set(a,kt);return kt}__classPrivateFieldGet(r,T,"f").set(a,bt);r.droppableZoneEnter.emit({newContainer:{id:t.id,metadata:t.metadata},draggedItems:__classPrivateFieldGet(r,A,"f"),dropType:i});return bt}));J.set(this,(function(e){if(e.leaf||e.expanded){return}__classPrivateFieldSet(r,I,setTimeout((function(){e.expanded=true;r.expandedItemChange.emit({id:e.id,expanded:true})}),r.openSubTreeCountdown),"f")}));R.set(this,(function(e){var t=e.target.closest(Ft)!==null;if(t){e.stopImmediatePropagation()}e.preventDefault();__classPrivateFieldSet(r,C,e,"f");__classPrivateFieldGet(r,Z,"f").call(r,e);if(!__classPrivateFieldGet(r,z,"f")){return}__classPrivateFieldSet(r,z,false,"f");requestAnimationFrame((function(){__classPrivateFieldSet(r,z,true,"f");r.el.style.setProperty(jt,"".concat(__classPrivateFieldGet(r,C,"f").clientX,"px"));r.el.style.setProperty(Et,"".concat(__classPrivateFieldGet(r,C,"f").clientY,"px"))}))}));Z.set(this,(function(e){if(!e.composedPath().includes(r.el)){return}var t=e.composedPath().find((function(e){if(!e.tagName){return false}return Tt(e.tagName.toLowerCase())&&e.closest(Ft)===r.el}));var i=t.tagName.toLowerCase()===gt;var a=__classPrivateFieldGet(r,Y,"f").call(r,t,i);var s=a.treeItem;var n=a.dropType;var l=__classPrivateFieldGet(r,N,"f").call(r,e,s,n);if(l===Gt||l===kt){e.dataTransfer.dropEffect="none"}}));K.set(this,(function(){__classPrivateFieldSet(r,q,[],"f");__classPrivateFieldSet(r,V,[],"f")}));U.set(this,(function(e){var t=e.elem;var i=r.selectedItemsCallback();var a=i.has(t.id);__classPrivateFieldSet(r,S,a,"f");var s=[];var n;if(a){var l=__spreadArray([],i.keys(),true);var c=__spreadArray([],i.values(),true);var f=l.length;n=c.every((function(e){return!__classPrivateFieldGet(r,H,"f").call(r,e.id).dragDisabled}));__classPrivateFieldSet(r,q,l,"f");s=c.map((function(e){return{id:e.id,metadata:e.metadata}}));__classPrivateFieldSet(r,L,f===1?t.caption:f.toString(),"f")}else{n=!t.dragDisabled;s=[{id:t.id,metadata:t.metadata}];__classPrivateFieldSet(r,q,[t.id],"f");__classPrivateFieldSet(r,L,t.caption,"f")}__classPrivateFieldGet(r,X,"f").call(r,a);var o=JSON.stringify(s);e.dragEvent.dataTransfer.setData(Mt,o);return n}));Q.set(this,(function(){if(!r.draggingInTree||!__classPrivateFieldGet(r,C,"f")){return}requestAnimationFrame((function(){pt(__classPrivateFieldGet(r,C,"f"),r.el,10,30);requestAnimationFrame(__classPrivateFieldGet(r,Q,"f"))}))}));X.set(this,(function(e){if(!e){var t=__classPrivateFieldGet(r,j,"f").parentElement;if(t.tagName.toLowerCase()===gt){__classPrivateFieldGet(r,V,"f").push(t.id)}return}var i=r.selectedItemsCallback();i.forEach((function(e){var t=e.parentId;if(t!==""){__classPrivateFieldGet(r,V,"f").push(t)}}))}));t(this,e);this.droppableZoneEnter=i(this,"droppableZoneEnter",7);this.expandedItemChange=i(this,"expandedItemChange",7);this.itemContextmenu=i(this,"itemContextmenu",7);this.itemsDropped=i(this,"itemsDropped",7);this.selectedItemsChange=i(this,"selectedItemsChange",7);this.draggingInTheDocument=false;this.draggingInTree=false;this.rtlDirection=false;this.multiSelection=false;this.openSubTreeCountdown=750;this.selectedItemsCallback=undefined;this.scrollToEdgeOnDrag=true;this.waitDropProcessing=false}Object.defineProperty(e.prototype,"el",{get:function(){return a(this)},enumerable:false,configurable:true});e.prototype.onContextMenu=function(e){var t=e.target.closest(gt);if(!t){return}e.preventDefault();this.itemContextmenu.emit({id:t.id,itemRef:t,metadata:t.metadata,contextmenuEvent:e})};e.prototype.onKeyDown=function(e){var t=__classPrivateFieldGet(this,W,"f")[e.key];if(t){t(e)}};e.prototype.onDragStart=function(e){__classPrivateFieldGet(this,T,"f").clear();var t=e.dataTransfer.getData(Mt);if(t===""){return}try{var i=JSON.parse(t);__classPrivateFieldSet(this,A,i,"f");this.draggingInTheDocument=true;__classPrivateFieldSet(this,O,(new Date).getTime(),"f")}catch(e){}};e.prototype.onDragEnd=function(){this.draggingInTheDocument=false};e.prototype.onDragEnter=function(e){__classPrivateFieldGet(this,B,"f").call(this,null,true);e.stopPropagation();var t=e.target;var i=t.tagName.toLowerCase();if(!Tt(i)){return}var a=i===gt;var r=__classPrivateFieldGet(this,Y,"f").call(this,t,a);var s=r.treeItem;var n=r.dropType;__classPrivateFieldSet(this,E,t,"f");if(a){__classPrivateFieldGet(this,J,"f").call(this,s)}if(__classPrivateFieldGet(this,N,"f").call(this,e,s,n)===xt){t.dragState="enter"}};e.prototype.onDragLeave=function(e){var t=e.target;if(!Tt(t.tagName.toLowerCase())){return}t.dragState="none";if(It(t)){__classPrivateFieldGet(this,B,"f").call(this,t)}};e.prototype.onDrop=function(e){e.stopPropagation();__classPrivateFieldGet(this,B,"f").call(this,null,true);var t=e.target;var i=t.tagName.toLowerCase();if(!Tt(i)){return}t.dragState="none";var a=i===gt;var r=__classPrivateFieldGet(this,Y,"f").call(this,t,a);var s=r.treeItem;var n=r.dropType;if(__classPrivateFieldGet(this,N,"f").call(this,e,s,n)!==xt){return}var l=JSON.parse(e.dataTransfer.getData(Mt));this.itemsDropped.emit({newContainer:{id:s.id,metadata:s.metadata},draggingSelectedItems:__classPrivateFieldGet(this,S,"f"),draggedItems:l,dropInTheSameTree:this.draggingInTree,dropType:n})};e.prototype.onItemDragStart=function(e){e.stopPropagation();document.addEventListener("dragover",__classPrivateFieldGet(this,R,"f"),{capture:true});__classPrivateFieldSet(this,j,e.target,"f");var t=__classPrivateFieldGet(this,U,"f").call(this,e.detail);if(!t){e.detail.dragEvent.dataTransfer.effectAllowed="none";return}this.draggingInTree=true;if(this.scrollToEdgeOnDrag){__classPrivateFieldGet(this,Q,"f").call(this)}};e.prototype.onItemDragEnd=function(){this.draggingInTree=false;document.removeEventListener("dragover",__classPrivateFieldGet(this,R,"f"),{capture:true});__classPrivateFieldGet(this,K,"f").call(this)};e.prototype.onSelectedItemChange=function(e){e.stopPropagation();var t=e.detail;var i=this.selectedItemsCallback();if(!t.ctrlKeyPressed||!this.multiSelection){i.clear()}if(t.selected){i.set(t.id,t)}else{i.delete(t.id)}this.selectedItemsChange.emit(i)};e.prototype.scrollIntoVisible=function(e){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(i){r((function(){var i=t.el.querySelector(yt(e));if(!i){return}s((function(){i.scrollIntoView()}))}));return[2]}))}))};e.prototype.updateValidDropZone=function(e,t,i,a,r){return __awaiter(this,void 0,void 0,(function(){var s,n,l;return __generator(this,(function(c){if(!this.draggingInTheDocument||e<=__classPrivateFieldGet(this,O,"f")){return[2]}s=Dt(t,i,a);__classPrivateFieldGet(this,T,"f").set(s,r?xt:Gt);if(!r||!__classPrivateFieldGet(this,E,"f")){return[2]}n=Ct(__classPrivateFieldGet(this,E,"f"))?__classPrivateFieldGet(this,E,"f").treeItemId:__classPrivateFieldGet(this,E,"f").id;l=n===t;if(l){__classPrivateFieldGet(this,E,"f").dragState="enter"}return[2]}))}))};e.prototype.connectedCallback=function(){var e=this;__classPrivateFieldSet(this,D,"ch-tree-view-id-".concat(Lt++),"f");_(__classPrivateFieldGet(this,D,"f"),(function(t){e.rtlDirection=t}));this.rtlDirection=p()};e.prototype.disconnectedCallback=function(){m(__classPrivateFieldGet(this,D,"f"));__classPrivateFieldGet(this,K,"f").call(this);this.onItemDragEnd()};e.prototype.render=function(){return n(l,{key:"c092b2bae7881d396224500fc57bffaf6ff382b8",class:{"dragging-item":this.draggingInTheDocument,"not-dragging-item":!this.draggingInTheDocument,"dragging-selected-items":this.draggingInTree&&__classPrivateFieldGet(this,S,"f"),"rtl-direction":this.rtlDirection,"waiting-drop-processing":this.waitDropProcessing},exportparts:d.DRAG_PREVIEW},n("slot",{key:"cdda1d2612a0e61bd3c9960f0fceab0d833cff40"}),this.draggingInTree&&n("span",{key:"e6a0c603b752ff2c156f43af1a89291f30ff2ed2","aria-hidden":"true",class:"drag-info",part:d.DRAG_PREVIEW},__classPrivateFieldGet(this,L,"f")))};return e}(),W=new WeakMap,S=new WeakMap,z=new WeakMap,C=new WeakMap,I=new WeakMap,T=new WeakMap,O=new WeakMap,A=new WeakMap,D=new WeakMap,j=new WeakMap,E=new WeakMap,L=new WeakMap,q=new WeakMap,V=new WeakMap,Y=new WeakMap,B=new WeakMap,H=new WeakMap,N=new WeakMap,J=new WeakMap,R=new WeakMap,Z=new WeakMap,K=new WeakMap,U=new WeakMap,Q=new WeakMap,X=new WeakMap,$));qt.style=wt;var Vt=0;var Yt=null;var Bt=function(e){return e?v.EVEN_LEVEL:v.ODD_LEVEL};var Ht=function(e){return e?v.EXPANDED:v.COLLAPSED};var Nt=function(e,t,i,a){var r=false;var s=false;var n=false;e.forEach((function(e){var l;var c=t.get(e);if(c){var f=c.item;var o=c.parentItem.items;if(f.leaf!==true&&((l=f.items)===null||l===void 0?void 0:l.length)>0){var d=f.items.map((function(e){return e.id}));Nt(d,t,i,a)}r||(r=t.delete(e));s||(s=i.delete(e));n||(n=a.delete(e));b(o,o.findIndex((function(t){return t.id===e})))}}));return{atLeastOneElement:r,atLeastOneCheckbox:s,atLeastOneSelected:n}};var Jt=function(e){return new Promise((function(t){return t(e)}))};var Rt=function(e,t){var i=t.get(e);if(!i){return Jt(false)}var a=i.parentItem;while(a&&a.id!=null){a.expanded=true;var r=t.get(a.id);a=r.parentItem}return Jt(true)};var Zt=function(e,t,i,a,r){return __awaiter(M,void 0,void 0,(function(){var s,n,l,f,o,d,v,h,u,_,p,m,w;return __generator(this,(function(g){switch(g.label){case 0:s=new Set(t).size!==t.length;if(s){return[2,false]}n=t.length-1;l=n;f=i.get(t[l]);while(f===undefined&&l>0){l--;f=i.get(t[l])}if(!f){return[2,false]}o=l;while(l>=0){if(i.get(t[l])===undefined){return[2,false]}l--}if(i.get(t[0]).parentItem!==a){return[2,false]}d=o!==n;v=d&&!r;if(v){return[2,false]}h=i.get(t[o]).parentItem;while(h!==a){h.expanded=true;h=i.get(h.id).parentItem}c(e);u=o;g.label=1;case 1:if(!(u<n))return[3,4];_=t[u];p=i.get(_);if(!p){return[2,false]}m=p.item;if(m.leaf===true){return[2,false]}m.downloading=true;m.expanded=true;m.lazy=false;c(e);return[4,r(_)];case 2:w=g.sent();return[4,e.loadLazyContent(_,w)];case 3:g.sent();u++;return[3,1];case 4:return[2,true]}}))}))};var Kt=':host{--ch-tree-view-drop--size:8px;display:grid;position:relative;-webkit-transform:translateY(calc(var(--ch-tree-view-drop--size) * -0.5));transform:translateY(calc(var(--ch-tree-view-drop--size) * -0.5))}:host::before{content:"";display:-ms-flexbox;display:flex;position:absolute;inset-inline:0;block-size:var(--ch-tree-view-drop--size)}:host::after{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-item-align:center;align-self:center;inset-block-start:calc(var(--ch-tree-view-drop--size) * 0.25);inset-inline:0;block-size:calc(var(--ch-tree-view-drop--size) * 0.5);background-color:currentColor;opacity:0}:host(.ch-tree-view-drop--drag-enter)::after{content:"";opacity:1}';var Ut=Kt;var Qt="ch-tree-view-drop";var Xt=e("ch_tree_view_drop",function(){function e(e){t(this,e);this.dragState="none";this.level=Vt;this.treeItemId=undefined;this.type="before"}e.prototype.render=function(){var e;var t=this.level!==Vt;var i=Bt(this.level%2===0);return n(l,{key:"fdeebc64cb5b21a8bdccb369f4511c2bf2e67b1b",class:(e={},e["gx-"+i]=t,e[Qt+"--drag-enter"]=this.dragState==="enter",e),style:{"--level":"".concat(this.level)}})};return e}());Xt.style=Ut;var $t='*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}:where(button){all:unset;display:-ms-flexbox;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-drag:element}:host{display:grid;grid-template-rows:-webkit-min-content;grid-template-rows:min-content}.header{display:-ms-flexbox;display:flex;gap:var(--ch-tree-view-item-gap);-ms-flex-align:center;align-items:center}.header--disabled{pointer-events:none}.header--disabled>.action{--ch-start-img:var(--ch-start-img--disabled, var(--ch-start-img--base));--ch-end-img:var(--ch-end-img--disabled, var(--ch-end-img--base))}.header:hover>.action{--ch-start-img:var(--ch-start-img--hover, var(--ch-start-img--base));--ch-end-img:var(--ch-end-img--hover, var(--ch-end-img--base))}.header:active>.action{--ch-start-img:var(--ch-start-img--active, var(--ch-start-img--base));--ch-end-img:var(--ch-end-img--active, var(--ch-end-img--base))}.header:focus>.action{--ch-start-img:var(\n    --ch-start-img--focus,\n    var(--ch-start-img--active, var(--ch-start-img--base))\n  );--ch-end-img:var(\n    --ch-end-img--focus,\n    var(--ch-end-img--active, var(--ch-end-img--base))\n  )}.line{--inset-inline-start:calc(var(--ch-tree-tab-size) * (var(--level) - 1) - var(--parent-offset, 0px) + var(--ch-tree-view-item-custom-padding-inline-start) + var(--ch-tree-view-item__expandable-button-size) * 0.5 + var(--ch-tree-view-item__line--inset-inline-start));position:absolute;inset-inline-start:var(--inset-inline-start);inline-size:calc(var(--ch-tree-view-item-indentation) - var(--inset-inline-start) - var(--ch-tree-view-item__line--inset-inline-end));block-size:1px;border:0 dashed color-mix(in srgb, currentColor 65%, transparent);border-block-end-width:1px;pointer-events:none;content-visibility:hidden;z-index:1}.last-all-line{inset-block-start:0;height:calc(100% - var(--ch-tree-view-item-distance-to-checkbox));border-inline-start-width:1px;border-end-start-radius:2px}.last-line{inset-block-start:0;height:100%;border-inline-start-width:1px;border-inline-start-style:solid;-webkit-border-after:unset;border-block-end:unset}.expandable-button,.expandable-button-decorative::before{display:grid;place-items:center;inline-size:var(--ch-tree-view-item__expandable-button-size);block-size:var(--ch-tree-view-item__expandable-button-size);z-index:1;cursor:pointer}.expandable-button-decorative::before{content:"";background-color:currentColor;-webkit-mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" fill="none"><path d="M16.5 5L8.7 12.7L1 5" stroke="%23000" stroke-width="1.2" stroke-linecap="round"/></svg>\') 50% 50%/calc(100% - 4px) calc(100% - 4px) no-repeat;cursor:unset}.expandable-button-decorative--collapsed::before{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.expandable-button::before{content:"";inline-size:calc(100% - 4px);block-size:calc(100% - 4px);background-color:currentColor;-webkit-mask-size:calc(var(--ch-tree-view-item__expandable-button-size) - 4px)}.expandable-button--collapsed::before{-webkit-mask-image:url(\'data:image/svg+xml,<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.15,8.5H8.54v5.61h-1V8.5H1.93v-1H7.54V1.89h1V7.5h5.61Z"/></svg>\')}.expandable-button--expanded::before{-webkit-mask-image:url(\'data:image/svg+xml,<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.15,8.5H1.93v-1H14.15Z"/></svg>\')}.checkbox{inline-size:var(--ch-tree-view-item__checkbox-size);--ch-checkbox__container-size:var(--ch-tree-view-item__checkbox-size)}.action{--ch-start-img:var(--ch-start-img--base);--ch-end-img:var(--ch-end-img--base);display:grid;grid-template:"start-img text"/max-content 1fr;gap:var(--ch-tree-view-item-gap);-ms-flex-align:center;align-items:center;block-size:100%;-ms-flex:1;flex:1;cursor:pointer}.action--end-img{grid-template:"start-img text end-img"/max-content 1fr -webkit-max-content;grid-template:"start-img text end-img"/max-content 1fr max-content}.edit-caption{grid-area:text;inline-size:100%;block-size:100%;padding:0;margin:0;background-color:unset;border:unset;color:unset;font:unset;outline:unset}.pseudo-img--start::before,.pseudo-img--end::after,.img{display:block;inline-size:var(--ch-tree-view-item__image-size);block-size:var(--ch-tree-view-item__image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-tree-view-item__image-size)}.pseudo-img--start::before,.start-img{content:"";grid-area:start-img}.pseudo-img--end::after,.end-img{content:"";grid-area:end-img}.start-img-type--background::before{background:no-repeat center/var(--ch-tree-view-item__background-image-size) var(--ch-start-img)}.end-img-type--background::after{background:no-repeat center/var(--ch-tree-view-item__background-image-size) var(--ch-end-img)}.start-img-type--mask::before{-webkit-mask:no-repeat center/var(--ch-tree-view-item__background-image-size) var(--ch-start-img);background-color:currentColor}.end-img-type--mask::after{-webkit-mask:no-repeat center/var(--ch-tree-view-item__background-image-size) var(--ch-end-img);background-color:currentColor}.downloading{inline-size:0.75em;block-size:0.75em;margin-inline:8px 2px;border:2px solid currentColor;border-inline-start-color:transparent;border-radius:50%;opacity:0.75;-webkit-animation:spin 1s linear infinite, avoid-flickering 75ms;animation:spin 1s linear infinite, avoid-flickering 75ms}@-webkit-keyframes avoid-flickering{0%,100%{display:none}}@keyframes avoid-flickering{0%,100%{display:none}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.expandable{display:grid;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content;position:relative}.expandable--lazy-loaded{content-visibility:auto;contain-intrinsic-size:auto 100px}.expandable--collapsed{display:none;overflow:hidden}';var ei=$t;var ti;var ii="--ch-tree-view-item-distance-to-checkbox";var ai="ch-tree-view-item";var ri=":scope>".concat(ai);var si="".concat(ai,":not([disabled])");var ni=":scope>".concat(ai,":last-child");var li="item-deny-drop";var ci="".concat(v.IMAGE," ").concat(v.START_IMAGE);var fi="".concat(v.IMAGE," ").concat(v.END_IMAGE);var oi="expandable";var di="Enter";var vi="Escape";var hi=e("ch_tree_view_item",(Ie=function(){function e(e){var a=this;ee.set(this,void 0);te.set(this,false);ie.set(this,void 0);ae.set(this,void 0);re.set(this,void 0);se.set(this,void 0);ne.set(this,void 0);le.set(this,void 0);ce.set(this,(function(e){var t;if(e==="start"&&!a.startImgSrc||e==="end"&&!a.endImgSrc){return}var i=(t=a.getImagePathCallback)!==null&&t!==void 0?t:ti;var r=i(a.model,e);var s=typeof r==="string";var n=s?{base:r}:r===null||r===void 0?void 0:r.default;if(e==="start"){if(!r){__classPrivateFieldSet(a,ie,null,"f");__classPrivateFieldSet(a,ae,null,"f");return}if(s&&a.startImgType!=="img"){n.base='url("'.concat(n.base,'")')}else{__classPrivateFieldSet(a,ae,a.startImgSrc?w(r.expanded,"start",a.startImgType):undefined,"f")}__classPrivateFieldSet(a,ie,a.startImgSrc?w(n,"start",a.startImgType):undefined,"f")}else{if(!r){__classPrivateFieldSet(a,re,null,"f");__classPrivateFieldSet(a,se,null,"f");return}if(s&&a.endImgType!=="img"){n.base='url("'.concat(n.base,'")')}else{__classPrivateFieldSet(a,se,a.endImgSrc?w(r.expanded,"end",a.endImgType):undefined,"f")}__classPrivateFieldSet(a,re,a.endImgSrc?w(n,"end",a.endImgType):undefined,"f")}}));fe.set(this,(function(e,t){return a.expanded?t!==null&&t!==void 0?t:e:e}));oe.set(this,(function(){return Array.from(a.el.querySelectorAll(ri))}));de.set(this,(function(){__classPrivateFieldSet(a,ee,new ResizeObserver((function(){var e=a.el.getBoundingClientRect().height-__classPrivateFieldGet(a,ne,"f").getBoundingClientRect().height/2;a.el.style.setProperty(ii,e+"px")})),"f");__classPrivateFieldGet(a,ee,"f").observe(a.el);__classPrivateFieldGet(a,ee,"f").observe(__classPrivateFieldGet(a,ne,"f"))}));ve.set(this,(function(){if(!__classPrivateFieldGet(a,ee,"f")){return}__classPrivateFieldGet(a,ee,"f").disconnect();__classPrivateFieldSet(a,ee,null,"f")}));he.set(this,(function(e){e.stopPropagation();if(e.code!==di&&e.code!==vi){return}e.preventDefault();var t=e.code===di;__classPrivateFieldGet(a,_e,"f").call(a,true,t)()}));ue.set(this,(function(e){if(!e.composedPath().includes(__classPrivateFieldGet(a,le,"f"))&&e.pointerType){__classPrivateFieldGet(a,_e,"f").call(a,false)()}}));_e.set(this,(function(e,t){if(t===void 0){t=false}return function(){if(!a.editing){return}a.editing=false;document.removeEventListener("click",__classPrivateFieldGet(a,ue,"f"),{capture:true});var i=__classPrivateFieldGet(a,le,"f").value;if(t&&i.trim()!==""){a.modifyCaption.emit({id:a.el.id,caption:i})}if(e){__classPrivateFieldGet(a,ne,"f").focus()}}}));pe.set(this,(function(e){e.stopPropagation();if(!a.leaf){a.expanded=!a.expanded}a.selected=true;a.selectedItemChange.emit(__classPrivateFieldGet(a,Fe,"f").call(a,o(e),true))}));me.set(this,(function(e){if(!a.lazyLoad||!e){return}a.lazyLoad=false;a.downloading=true;a.loadLazyContent.emit(a.el.id)}));we.set(this,(function(){var e=!a.selected;a.selected=e;a.selectedItemChange.emit(__classPrivateFieldGet(a,Fe,"f").call(a,true,e))}));ge.set(this,(function(){a.selected=true;a.selectedItemChange.emit(__classPrivateFieldGet(a,Fe,"f").call(a,false,true))}));Pe.set(this,(function(e){if(o(e)){__classPrivateFieldGet(a,we,"f").call(a);return}if(e.detail>=2){return}if(a.expandOnClick){__classPrivateFieldGet(a,pe,"f").call(a,e)}else{__classPrivateFieldGet(a,ge,"f").call(a)}}));Fe.set(this,(function(e,t){var i;return{ctrlKeyPressed:e,expanded:a.expanded,id:a.el.id,metadata:a.metadata,parentId:(i=a.el.parentElement)===null||i===void 0?void 0:i.id,selected:t}}));be.set(this,(function(e){e.stopPropagation();if(o(e)){__classPrivateFieldGet(a,we,"f").call(a);return}__classPrivateFieldGet(a,xe,"f").call(a);if(!a.leaf&&!a.expandOnClick){__classPrivateFieldGet(a,pe,"f").call(a,e)}}));Ge.set(this,(function(e){e.stopPropagation();if(a.editing){return}e.preventDefault();if(e.pointerType){__classPrivateFieldGet(a,Pe,"f").call(a,e);return}__classPrivateFieldGet(a,xe,"f").call(a);__classPrivateFieldGet(a,pe,"f").call(a,e)}));ke.set(this,(function(e){if(o(e)&&e.code===di){e.stopPropagation();__classPrivateFieldGet(a,we,"f").call(a)}}));xe.set(this,(function(){a.openReference.emit({id:a.el.id,leaf:a.leaf,metadata:a.metadata})}));ye.set(this,(function(e){e.stopPropagation();var t=e.target;var i=t.checkedValue===t.value;a.checked=i;a.indeterminate=false;a.checkboxChange.emit({id:a.el.id,checked:a.checked,indeterminate:false})}));Me.set(this,(function(e){if(a.el===e.target){return}var t=e.detail.checked;var i=__classPrivateFieldGet(a,oe,"f").call(a);var r=i.every((function(e){return e.checked===t}));var s=a.checked!==t||a.indeterminate!==!r;__classPrivateFieldSet(a,te,a.checked!==t,"f");a.checked=t;a.indeterminate=!r;if(s){a.checkboxToggleChange.emit({id:a.el.id,checked:t,indeterminate:!r})}}));We.set(this,(function(e,t,i){return i==="img"&&n("img",{"aria-hidden":"true",class:"img ".concat(e),part:e,alt:"",src:t,loading:"lazy"})}));Se.set(this,(function(e){if(a.editing){e.preventDefault();e.stopPropagation();return}g(e);e.dataTransfer.effectAllowed="move";a.dragState="start";a.itemDragStart.emit({elem:a.el,dragEvent:e})}));ze.set(this,(function(){a.dragState="none";a.itemDragEnd.emit()}));Ce.set(this,(function(e){if(e){a.el.setAttribute("exportparts","".concat(h,",").concat(e.replace(/\s+/g,",")))}else{a.el.setAttribute("exportparts",h)}}));t(this,e);this.checkboxChange=i(this,"checkboxChange",7);this.checkboxToggleChange=i(this,"checkboxToggleChange",7);this.itemDragStart=i(this,"itemDragStart",7);this.itemDragEnd=i(this,"itemDragEnd",7);this.loadLazyContent=i(this,"loadLazyContent",7);this.modifyCaption=i(this,"modifyCaption",7);this.openReference=i(this,"openReference",7);this.selectedItemChange=i(this,"selectedItemChange",7);this.caption=undefined;this.checkbox=false;this.checked=false;this.customRender=false;this.disabled=false;this.dragDisabled=false;this.dropDisabled=false;this.dragState="none";this.downloading=false;this.editable=undefined;this.editing=false;this.endImgSrc=undefined;this.endImgType="background";this.expandableButton="decorative";this.expandOnClick=true;this.expanded=false;this.getImagePathCallback=undefined;this.lastItem=false;this.lazyLoad=false;this.leaf=false;this.level=Vt;this.indeterminate=false;this.metadata=undefined;this.model=undefined;this.parts=undefined;this.selected=false;this.showDownloadingSpinner=true;this.showLines="none";this.startImgSrc=undefined;this.startImgType="background";this.toggleCheckboxes=false}Object.defineProperty(e.prototype,"el",{get:function(){return a(this)},enumerable:false,configurable:true});e.prototype.updateChildrenCheckedValue=function(e){if(!this.toggleCheckboxes||this.leaf||__classPrivateFieldGet(this,te,"f")){__classPrivateFieldSet(this,te,false,"f");return}var t=__classPrivateFieldGet(this,oe,"f").call(this);t.forEach((function(t){if(t.checked!==e||t.indeterminate!==false){t.updateChecked(e,false)}}))};e.prototype.editingChanged=function(e){var t=this;if(!e){return}document.addEventListener("click",__classPrivateFieldGet(this,ue,"f"),{capture:true});s((function(){requestAnimationFrame((function(){if(__classPrivateFieldGet(t,le,"f")){__classPrivateFieldGet(t,le,"f").focus()}}))}))};e.prototype.endImgSrcChanged=function(e){this.model.endImgSrc=e;__classPrivateFieldGet(this,ce,"f").call(this,"end")};e.prototype.expandedChanged=function(e){var t=this;setTimeout((function(){__classPrivateFieldGet(t,me,"f").call(t,e)}))};e.prototype.getImagePathCallbackChanged=function(){__classPrivateFieldGet(this,ce,"f").call(this,"start");__classPrivateFieldGet(this,ce,"f").call(this,"end")};e.prototype.lastItemChanged=function(e){var t=this;if(e&&this.showLines){requestAnimationFrame((function(){__classPrivateFieldGet(t,de,"f").call(t)}))}else{__classPrivateFieldGet(this,ve,"f").call(this)}};e.prototype.partsChanged=function(e){__classPrivateFieldGet(this,Ce,"f").call(this,e)};e.prototype.showLinesChanged=function(e){if(e&&this.lastItem){__classPrivateFieldGet(this,de,"f").call(this)}else{__classPrivateFieldGet(this,ve,"f").call(this)}};e.prototype.startImgSrcChanged=function(e){this.model.startImgSrc=e;__classPrivateFieldGet(this,ce,"f").call(this,"start")};e.prototype.handleToggleCheckboxesChange=function(e){if(e){this.el.addEventListener("checkboxChange",__classPrivateFieldGet(this,Me,"f"))}else{this.el.removeEventListener("checkboxChange",__classPrivateFieldGet(this,Me,"f"))}};e.prototype.focusNextItem=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){if(!this.leaf&&this.expanded){t=this.el.querySelector(si);if(t){t.setFocus(e);return[2]}}this.focusNextSibling(e);return[2]}))}))};e.prototype.focusNextSibling=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(a){t=this.el.nextElementSibling;if(t){if(t.disabled){t.focusNextItem(e)}else{t.setFocus(e)}return[2]}if(this.level===Vt){return[2]}i=this.el.parentElement;i.focusNextSibling(e);return[2]}))}))};e.prototype.focusPreviousItem=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(a){t=this.el.previousElementSibling;if(t){t.focusLastItem(e);return[2]}if(this.level===Vt){return[2]}i=this.el.parentElement;if(i.disabled){i.focusPreviousItem(e);return[2]}i.setFocus(e);return[2]}))}))};e.prototype.focusLastItem=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){if(!this.leaf&&this.expanded){t=this.el.querySelector(ni);if(t){t.focusLastItem(e);return[2]}}if(this.disabled){this.focusPreviousItem(e);return[2]}this.setFocus(e);return[2]}))}))};e.prototype.setFocus=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){__classPrivateFieldGet(this,ne,"f").focus();if(!e){__classPrivateFieldGet(this,ge,"f").call(this)}return[2]}))}))};e.prototype.updateChecked=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.checked=e;this.indeterminate=t;this.checkboxToggleChange.emit({id:this.el.id,checked:e,indeterminate:t});return[2]}))}))};e.prototype.connectedCallback=function(){ti!==null&&ti!==void 0?ti:ti=k("getImagePathCallback","ch-tree-view-render");if(this.toggleCheckboxes){this.el.addEventListener("checkboxChange",__classPrivateFieldGet(this,Me,"f"))}__classPrivateFieldGet(this,ce,"f").call(this,"start");__classPrivateFieldGet(this,ce,"f").call(this,"end");this.el.setAttribute("role","treeitem");this.el.setAttribute("aria-level","".concat(this.level+1));this.el.style.setProperty("--level","".concat(this.level));__classPrivateFieldGet(this,Ce,"f").call(this,this.parts)};e.prototype.componentWillLoad=function(){__classPrivateFieldGet(this,me,"f").call(this,this.expanded)};e.prototype.componentDidLoad=function(){if(this.lastItem&&this.showLines){__classPrivateFieldGet(this,de,"f").call(this)}};e.prototype.disconnectedCallback=function(){if(this.editing){__classPrivateFieldGet(this,_e,"f").call(this,false)}__classPrivateFieldGet(this,ve,"f").call(this);this.el.removeEventListener("checkboxChange",__classPrivateFieldGet(this,Me,"f"))};e.prototype.render=function(){var e,t,i,a,r,s,c;var f=this;var o=this.level%2===0;var h=!this.leaf&&!this.lazyLoad;var _=this.level!==Vt;var p=this.showLines==="all"&&_;var m=this.showLines==="last"&&_&&this.lastItem;var w=Bt(o);var g=Ht(this.expanded);var b=F(this.startImgSrc,this.startImgType);var G=F(this.endImgSrc,this.endImgType);var k=!!this.parts;return n(l,{key:"f6d602c2a4759c97f32226fca03b5ccf24ee822c","aria-selected":this.selected?"true":null,class:this.leaf?li:null,part:P((e={},e[d.ITEM]=true,e[d.DRAG_ENTER]=this.dragState==="enter",e[this.parts]=k,e))},n("button",{key:"44bede3cae253ca9cbc387b210856b52dc99af9d","aria-controls":h?oi:null,"aria-expanded":h?this.expanded.toString():null,class:{header:true,"header--selected":this.selected,"header--disabled":this.disabled,"expandable-button-decorative":!this.leaf&&this.expandableButton==="decorative","expandable-button-decorative--collapsed":!this.leaf&&this.expandableButton==="decorative"&&!this.expanded},part:P((t={},t[v.HEADER]=true,t[v.DISABLED]=this.disabled,t[v.DRAG_ENTER]=this.dragState==="enter",t[v.SELECTED]=this.selected,t[v.NOT_SELECTED]=!this.selected,t[v.EXPAND_BUTTON]=_&&!this.leaf&&this.expandableButton!=="no",t[this.editing?v.EDITING:v.NOT_EDITING]=true,t[w]=_,t[v.LEVEL_0_LEAF]=!_&&this.leaf&&this.expandableButton!=="no",t[this.parts]=k,t)),style:b&&(__classPrivateFieldGet(this,ie,"f")||__classPrivateFieldGet(this,ae,"f"))?__classPrivateFieldGet(this,fe,"f").call(this,__classPrivateFieldGet(this,ie,"f"),__classPrivateFieldGet(this,ae,"f")).styles:undefined,type:"button",disabled:this.disabled,onClick:__classPrivateFieldGet(this,Ge,"f"),onKeyDown:!this.editing?__classPrivateFieldGet(this,ke,"f"):null,draggable:!this.dragDisabled,onDragStart:__classPrivateFieldGet(this,Se,"f"),onDragEnd:!this.dragDisabled&&this.dragState==="start"?__classPrivateFieldGet(this,ze,"f"):null,ref:function(e){return __classPrivateFieldSet(f,ne,e,"f")}},!this.leaf&&this.expandableButton==="action"&&n("button",{key:"expandable-button",type:"button",class:{"expandable-button":true,"expandable-button--expanded":this.expanded,"expandable-button--collapsed":!this.expanded},part:P((i={},i[v.EXPANDABLE_BUTTON]=true,i[v.DISABLED]=this.disabled,i[g]=true,i[this.parts]=k,i)),disabled:this.disabled,onClick:__classPrivateFieldGet(this,pe,"f")}),this.checkbox&&n("ch-checkbox",{key:"checkbox",accessibleName:this.caption,class:"checkbox",exportparts:u,part:k?"".concat(v.CHECKBOX," ").concat(this.parts):v.CHECKBOX,checkedValue:"true",disabled:this.disabled,indeterminate:this.indeterminate,unCheckedValue:"false",value:"".concat(this.checked),onInput:__classPrivateFieldGet(this,ye,"f")}),this.customRender?n("slot",{name:"custom-content"}):[n("div",{class:(a={action:true,"action--end-img":!!this.endImgSrc},a["start-img-type--".concat(this.startImgType," pseudo-img--start")]=b,a["end-img-type--".concat(this.endImgType," pseudo-img--end")]=G,a),part:P((r={},r[v.ACTION]=true,r[this.editing?v.EDITING:v.NOT_EDITING]=true,r[g]=!this.leaf,r[this.parts]=k,r)),style:G&&(__classPrivateFieldGet(this,re,"f")||__classPrivateFieldGet(this,se,"f"))?__classPrivateFieldGet(this,fe,"f").call(this,__classPrivateFieldGet(this,re,"f"),__classPrivateFieldGet(this,se,"f")).styles:undefined,onDblClick:!this.editing?__classPrivateFieldGet(this,be,"f"):null},this.startImgSrc&&__classPrivateFieldGet(this,ie,"f")&&__classPrivateFieldGet(this,We,"f").call(this,k?"".concat(ci," ").concat(this.parts):ci,__classPrivateFieldGet(this,ie,"f").styles["--ch-start-img--base"],this.startImgType),this.editable&&this.editing?n("input",{key:"edit-caption",class:"edit-caption",part:k?"".concat(v.EDIT_CAPTION," ").concat(this.parts):v.EDIT_CAPTION,disabled:this.disabled,type:"text",value:this.caption,onBlur:__classPrivateFieldGet(this,_e,"f").call(this,false),onKeyDown:__classPrivateFieldGet(this,he,"f"),ref:function(e){return __classPrivateFieldSet(f,le,e,"f")}}):this.caption,this.endImgSrc&&__classPrivateFieldGet(this,re,"f")&&__classPrivateFieldGet(this,We,"f").call(this,k?"".concat(fi," ").concat(this.parts):fi,__classPrivateFieldGet(this,re,"f").styles["--ch-end-img--base"],this.endImgType)),this.showDownloadingSpinner&&!this.leaf&&this.downloading&&n("div",{class:"downloading",part:k?"".concat(v.DOWNLOADING," ").concat(this.parts):v.DOWNLOADING})],(p||m)&&n("div",{key:"line",class:{line:true,"last-all-line":p&&this.lastItem,"last-line":m},part:P((s={},s[v.LINE]=true,s[v.LAST_LINE]=this.lastItem,s[this.parts]=k,s))})),h&&n("div",{key:"4c42585d8525663f9484047a114677492e8bf341",role:"group","aria-busy":(!!this.downloading).toString(),"aria-live":this.downloading?"polite":null,id:oi,class:{expandable:true,"expandable--collapsed":!this.expanded,"expandable--lazy-loaded":!this.downloading,"expandable--even":_&&o,"expandable--odd":_&&!o},part:P((c={},c[v.GROUP]=true,c[v.LAZY_LOADED]=!this.downloading,c[g]=true,c[w]=_,c[this.parts]=k,c))},n("slot",{key:"e7f7155ca4351e8d456c433b2201057942d93309"})))};Object.defineProperty(e,"watchers",{get:function(){return{checked:["updateChildrenCheckedValue"],editing:["editingChanged"],endImgSrc:["endImgSrcChanged"],expanded:["expandedChanged"],getImagePathCallback:["getImagePathCallbackChanged"],lastItem:["lastItemChanged"],parts:["partsChanged"],showLines:["showLinesChanged"],startImgSrc:["startImgSrcChanged"],toggleCheckboxes:["handleToggleCheckboxesChange"]}},enumerable:false,configurable:true});return e}(),ee=new WeakMap,te=new WeakMap,ie=new WeakMap,ae=new WeakMap,re=new WeakMap,se=new WeakMap,ne=new WeakMap,le=new WeakMap,ce=new WeakMap,fe=new WeakMap,oe=new WeakMap,de=new WeakMap,ve=new WeakMap,he=new WeakMap,ue=new WeakMap,_e=new WeakMap,pe=new WeakMap,me=new WeakMap,we=new WeakMap,ge=new WeakMap,Pe=new WeakMap,Fe=new WeakMap,be=new WeakMap,Ge=new WeakMap,ke=new WeakMap,xe=new WeakMap,ye=new WeakMap,Me=new WeakMap,We=new WeakMap,Se=new WeakMap,ze=new WeakMap,Ce=new WeakMap,Ie));hi.style=ei;var ui=function(e,t){var i;return(i=e.checkbox)!==null&&i!==void 0?i:t};var _i=function(e,t,i){return i?e.includes(t):e.toLowerCase().includes(t.toLowerCase())};var pi=function(e,t,i){return typeof t==="object"?e.match(t)!==null:_i(e,t,i===null||i===void 0?void 0:i.matchCase)};var mi={caption:function(e,t){var i;return t.filter?pi((i=e.caption)!==null&&i!==void 0?i:"",t.filter,t.filterOptions):true},checked:function(e,t){var i;return ui(e,t.defaultCheckbox)&&!e.indeterminate&&((i=e.checked)!==null&&i!==void 0?i:t.defaultChecked)},list:function(e,t){return t.filterSet.has(e.id)},metadata:function(e,t){var i;return t.filter?pi((i=e.metadata)!==null&&i!==void 0?i:"",t.filter,t.filterOptions):true},none:function(){return true},unchecked:function(e,t){var i;return ui(e,t.defaultCheckbox)&&!e.indeterminate&&!((i=e.checked)!==null&&i!==void 0?i:t.defaultChecked)}};var wi=function(e,t,i){var a;return((a=i.filterOptions)===null||a===void 0?void 0:a.hideMatchesAndShowNonMatches)===true?!mi[e](t,i):mi[e](t,i)};var gi=function(e,t,i,a,r,s,n,l){return __awaiter(M,void 0,void 0,(function(){var c,f,o,d,v;return __generator(this,(function(h){switch(h.label){case 0:c=i.get(t);if(!a||!c||c.item.leaf===true){return[2,false]}f=!n&&!l;if(f){n={downloading:true};l={downloading:false}}if(n){e.updateItemsProperties([t],n)}return[4,a(t)];case 1:o=h.sent();d=new Set(c.item.items.map((function(e){return e.id})));v=[];o.forEach((function(e){var t=i.get(e.id);if(t&&d.has(e.id)){var a=t.item;e.checked=a.checked;e.expanded=a.expanded;e.indeterminate=a.indeterminate;e.selected=a.selected;var r=e.lazy&&a.lazy===false;if(r){e.lazy=false;e.items=a.items;v.push(e.id)}d.delete(e.id)}}));if(d.size>0){s(__spreadArray([],d.keys(),true))}return[4,r(t,o)];case 2:h.sent();if(l){e.updateItemsProperties([t],l)}return[4,Promise.allSettled(v.map((function(t){return gi(e,t,i,a,r,s)})))];case 3:h.sent();return[2,true]}}))}))};var Pi=function(e,t,i,a,r,s){var n=i.get(e);if(!n){return}var l=n.item;Object.keys(t).forEach((function(e){if(t[e]!==undefined){l[e]=t[e]}}));if(t.selected){a.add(e)}else if(t.selected===false){a.delete(e)}if(ui(l,s)){r.set(e,n)}else{r.delete(e)}};var Fi=function(e,t){var i=t.get(e);if(!i){return null}var a=[i.item];var r=i;while(r.parentItem.id!==Yt){a.push(r.parentItem);r=t.get(r.parentItem.id)}return a.reverse()};var bi=":host{--ch-tree-view-item-custom-padding-inline-start:0px;--ch-tree-view-item-gap:0px;--ch-tree-view-item__checkbox-size:0.875em;--ch-tree-view-item__expandable-button-size:0.875em;--ch-tree-view-item__image-size:0.875em;--ch-tree-view-item__background-image-size:100%;--ch-tree-view-item__line--inset-inline-start:0px;--ch-tree-view-item__line--inset-inline-end:0px;--ch-tree-tab-size:calc(\n    var(--ch-tree-view-item__image-size) +\n      var(--ch-tree-view-item__expandable-button-size) +\n      (var(--ch-tree-view-item-gap) * 2)\n  );display:grid;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content;block-size:100%;overflow:auto;contain:size}.dragging-item ch-tree-view-item{pointer-events:var(--ch-tree-view-pointer-events, all)}.dragging-item .item-deny-drop{pointer-events:none}.dragging-selected-items ch-tree-view-item[selected]{--ch-tree-view-pointer-events:none}::part(item__header),ch-tree-view-drop{--own-offset:0px;--ch-tree-view-item-indentation:calc(\n    var(--ch-tree-tab-size) * var(--level) - var(--own-offset) -\n      var(--parent-offset, 0px) +\n      var(--ch-tree-view-item-custom-padding-inline-start)\n  )}::part(item__header level-0-leaf){--ch-tree-view-item-indentation:calc(\n    var(--ch-tree-view-item__expandable-button-size) +\n      var(--ch-tree-view-item-gap) +\n      var(--ch-tree-view-item-custom-padding-inline-start)\n  )}::part(item__header expand-button),ch-tree-view-drop{--own-offset:calc(\n    var(--ch-tree-view-item__expandable-button-size) +\n      var(--ch-tree-view-item-gap)\n  )}::part(item__header even-level),ch-tree-view-drop.gx-even-level{--parent-offset:var(--parent-offset-odd)}::part(item__header odd-level),ch-tree-view-drop.gx-odd-level{--parent-offset:var(--parent-offset-even)}ch-tree-view-drop{-webkit-margin-start:var(--ch-tree-view-item-indentation);margin-inline-start:var(--ch-tree-view-item-indentation)}::part(item__header){-webkit-padding-start:var(--ch-tree-view-item-indentation);padding-inline-start:var(--ch-tree-view-item-indentation)}::part(item__group even-level){--parent-offset-even:calc(\n    var(--ch-tree-view-item__expandable-button-size) +\n      var(--ch-tree-view-item-gap) + var(--parent-offset-odd, 0px)\n  )}::part(item__group odd-level){--parent-offset-odd:calc(\n    var(--ch-tree-view-item__expandable-button-size) +\n      var(--ch-tree-view-item-gap) + var(--parent-offset-even, 0px)\n  )}ch-tree-view-item>ch-tree-view-drop:first-child{-webkit-transform:translateY(0);transform:translateY(0)}ch-tree-view-item>ch-tree-view-drop:first-child::after{inset-block-start:0px}ch-tree-view-item>ch-tree-view-drop:last-child{-webkit-transform:translateY(calc(var(--ch-tree-view-drop--size) * -1));transform:translateY(calc(var(--ch-tree-view-drop--size) * -1))}ch-tree-view-item>ch-tree-view-drop:last-child::after{inset-block-start:calc(var(--ch-tree-view-drop--size) * 0.5)}";var Gi=bi;var ki=function(e){return x("getImagePathCallback","ch-tree-view-render",(function(t,i){if(i===void 0){i="start"}var a=i==="start"?t.startImgSrc:t.endImgSrc;return e.useGxRender?y(a,e.gxSettings,e.gxImageConstructor):a}))};var xi=false;var yi=false;var Mi=false;var Wi=0;var Si=false;var zi=function(e,t){if(e==="none"){return false}if(e!=="caption"&&e!=="metadata"){return true}if(!t){return false}return typeof t==="object"||t.trim()!==""};var Ci=function(e,t){return e.dragEnabled!=null?!e.dragEnabled:t.dragDisabled};var Ii=function(e,t){return e.dropEnabled!=null?!e.dropEnabled:t.dropDisabled};var Ti=function(e,t,i){var a;return i?Ii(e,t):(a=e.dropDisabled)!==null&&a!==void 0?a:t.dropDisabled};var Oi=function(e){return"ch-tree-view-drop__".concat(e)};var Ai=function(e,t,i,a,r,s,l){var c,f,o,d,v,h,u;if(l===void 0){l=false}return(t.filterType==="none"||e.render!==false||t.filterType==="list"&&(t.filterList===undefined||t.filterList===null))&&[s&&n("ch-tree-view-drop",{id:Oi(e.id),level:r,treeItemId:e.id,type:"before"}),n("ch-tree-view-item",{key:e.id,id:e.id,caption:e.caption,checkbox:(c=e.checkbox)!==null&&c!==void 0?c:t.checkbox,checked:(f=e.checked)!==null&&f!==void 0?f:t.checked,disabled:l?e.enabled===false:e.disabled,downloading:e.downloading,dragDisabled:l?Ci(e,t):(o=e.dragDisabled)!==null&&o!==void 0?o:t.dragDisabled,dropDisabled:Ti(e,t,l),editable:(d=e.editable)!==null&&d!==void 0?d:t.editableItems,endImgSrc:e.endImgSrc,endImgType:(v=e.endImgType)!==null&&v!==void 0?v:"background",expanded:e.expanded,expandableButton:t.expandableButton,expandOnClick:t.expandOnClick,getImagePathCallback:t.getImagePathCallback,indeterminate:e.indeterminate,lastItem:a,lazyLoad:e.lazy,leaf:e.leaf,level:r,metadata:e.metadata,model:e,parts:e.parts,selected:e.selected,showLines:t.showLines,toggleCheckboxes:(h=e.toggleCheckboxes)!==null&&h!==void 0?h:t.toggleCheckboxes,startImgSrc:e.startImgSrc,startImgType:(u=e.startImgType)!==null&&u!==void 0?u:"background"},!e.leaf&&e.items!=null&&e.items.map((function(a,s){return t.renderItem(a,t,i,t.showLines!=="none"&&(i&&e.lastItemId!==undefined?a.id===e.lastItemId:s===e.items.length-1),r+1,t.dropMode!=="above"&&Ti(e,t,l)!==true,l)}))),s&&a&&n("ch-tree-view-drop",{id:Oi(e.id)+"-after",level:r,treeItemId:e.id,type:"after"})]};var Di=function(e){e.sort((function(e,t){if(e.order<t.order){return-1}if(e.order>t.order){return 0}return e.caption<=t.caption?-1:0}))};var ji=e("ch_tree_view_render",(_t=function(){function e(e){var a=this;Te.set(this,new Map);Oe.set(this,new Map);Ae.set(this,new Set);De.set(this,false);je.set(this,false);Ee.set(this,void 0);Le.set(this,false);qe.set(this,void 0);Ve.set(this,void 0);Ye.set(this,void 0);Be.set(this,void 0);He.set(this,(function(e){var t=[];e.forEach((function(e){var i=__classPrivateFieldGet(a,Te,"f").get(e);if(i){t.push(i)}}));return t}));Ne.set(this,(function(e){if(!a.checkDroppableZoneCallback){return}e.stopPropagation();var t=(new Date).getTime();var i=e.detail;var r=a.checkDroppableZoneCallback(i);r.then((function(e){a.updateValidDropZone(t,i.newContainer.id,i.draggedItems,i.dropType,e)}))}));Je.set(this,(function(e){e.stopPropagation();var t=new Map(e.detail);var i=__classPrivateFieldGet(a,Ae,"f");i.forEach((function(e){var r=__classPrivateFieldGet(a,Te,"f").get(e).item;var s=t.get(e);if(s){r.expanded=s.expanded;t.delete(e)}else{r.selected=false;i.delete(e)}}));t.forEach((function(e,t){var r=__classPrivateFieldGet(a,Te,"f").get(t).item;r.selected=true;r.expanded=e.expanded;i.add(t)}));c(a);__classPrivateFieldGet(a,lt,"f").call(a)}));Re.set(this,(function(e){var t=e.detail;var i=__classPrivateFieldGet(a,Te,"f").get(t.id).item;i.expanded=t.expanded}));Ze.set(this,(function(e){e.stopPropagation();a.itemContextmenu.emit(e.detail)}));Ke.set(this,(function(e){var t=e.detail;var i=t.newContainer;var r=i.id;if(!__classPrivateFieldGet(a,Te,"f").get(r)){return}var s=t.draggedItems;if(s.length===0||!a.dropItemsCallback){return}e.stopPropagation();var n=a.dropItemsCallback(t);a.waitDropProcessing=true;n.then((function(e){return __awaiter(a,void 0,void 0,(function(){return __generator(this,(function(i){this.dropItems(e.acceptDrop,t,e.model);this.waitDropProcessing=false;return[2]}))}))}))}));Ue.set(this,(function(e){if(e.size>1){var t=__spreadArray([],e.values(),true);var i=e.size-1;for(var r=0;r<i;r++){var s=t[r];__classPrivateFieldGet(a,Te,"f").get(s).item.selected=false}e.clear();e.add(t[i]);__classPrivateFieldGet(a,nt,"f").call(a)}}));Qe.set(this,(function(e,t){return function(i,r){var s=__classPrivateFieldGet(a,Te,"f").get(i.id);var n=s.item;var l=s.parentItem;var c=l.items.findIndex((function(e){return e.id===n.id}));b(l.items,c);if(t!==undefined){var f=t.index+r;if(l.id===e.id&&c<f){f--;t.index--}G(e.items,n,f)}else{e.items.push(n)}s.parentItem=e}}));Xe.set(this,(function(e){var t=e.items;if(!t){if(e.leaf!==true){e.items=[]}return}__classPrivateFieldGet(a,it,"f").call(a,t);t.forEach(__classPrivateFieldGet(a,$e,"f").call(a,e))}));$e.set(this,(function(e){return function(t){var i,r,s,n,l;__classPrivateFieldGet(a,Te,"f").set(t.id,{parentItem:e,item:t});if(__classPrivateFieldGet(a,et,"f").call(a,t)){__classPrivateFieldGet(a,Oe,"f").set(t.id,{parentItem:e,item:t})}(i=t.expanded)!==null&&i!==void 0?i:t.expanded=xi;(r=t.indeterminate)!==null&&r!==void 0?r:t.indeterminate=yi;(s=t.lazy)!==null&&s!==void 0?s:t.lazy=Mi;(n=t.order)!==null&&n!==void 0?n:t.order=Wi;(l=t.selected)!==null&&l!==void 0?l:t.selected=Si;if(t.selected){__classPrivateFieldGet(a,Ae,"f").add(t.id)}__classPrivateFieldGet(a,Xe,"f").call(a,t)}}));et.set(this,(function(e){return ui(e,a.checkbox)}));tt.set(this,(function(){return zi(a.filterType,a.filter)}));it.set(this,(function(e){if(a.dropMode==="above"&&a.sortItemsCallback){a.sortItemsCallback(e)}}));at.set(this,(function(){__classPrivateFieldGet(a,Te,"f").clear();__classPrivateFieldGet(a,Oe,"f").clear();__classPrivateFieldGet(a,Ae,"f").clear();__classPrivateFieldSet(a,Ee,{id:Yt,caption:Yt,items:a.model},"f");__classPrivateFieldGet(a,Xe,"f").call(a,__classPrivateFieldGet(a,Ee,"f"));__classPrivateFieldGet(a,ft,"f").call(a,"immediate");__classPrivateFieldGet(a,nt,"f").call(a);__classPrivateFieldGet(a,st,"f").call(a)}));rt.set(this,(function(e,t,i,r){var s=false;if(e.leaf!==true&&e.items!=null){var n=undefined;e.items.forEach((function(e){var l=__classPrivateFieldGet(a,rt,"f").call(a,e,t,i,r);s||(s=l);if(l){n=e.id}}));e.lastItemId=n}var l=s||wi(a.filterType,e,t);e.render=l;if(l&&e.id!==Yt){if(e.selected){i.add(e.id)}if(__classPrivateFieldGet(a,et,"f").call(a,e)){var c=__classPrivateFieldGet(a,Te,"f").get(e.id);r.set(e.id,c)}}return l}));st.set(this,(function(){__classPrivateFieldSet(a,je,true,"f")}));nt.set(this,(function(){__classPrivateFieldSet(a,De,true,"f")}));lt.set(this,(function(){var e=__classPrivateFieldGet(a,He,"f").call(a,__spreadArray([],__classPrivateFieldGet(a,Ae,"f").keys(),true));a.selectedItemsChange.emit(e)}));ct.set(this,(function(){var e=new Map(__classPrivateFieldGet(a,Oe,"f"));e.forEach((function(e){var t;var i;(t=(i=e.item).checked)!==null&&t!==void 0?t:i.checked=a.checked}));a.checkedItemsChange.emit(e)}));ft.set(this,(function(e){var t;__classPrivateFieldSet(a,Le,true,"f");if(e!==undefined){__classPrivateFieldSet(a,qe,(t=__classPrivateFieldGet(a,qe,"f"))!==null&&t!==void 0?t:e,"f")}}));ot.set(this,(function(e){if(e.size!==__classPrivateFieldGet(a,Oe,"f").size){__classPrivateFieldSet(a,je,true,"f")}else{__classPrivateFieldGet(a,Oe,"f").forEach((function(t,i){if(!e.has(i)){__classPrivateFieldSet(a,je,true,"f")}}))}__classPrivateFieldSet(a,Oe,e,"f")}));dt.set(this,(function(e){if(e.size!==__classPrivateFieldGet(a,Ae,"f").size){__classPrivateFieldSet(a,De,true,"f")}else{__classPrivateFieldGet(a,Ae,"f").forEach((function(t){if(!e.has(t)){__classPrivateFieldGet(a,Te,"f").get(t).item.selected=false;__classPrivateFieldSet(a,De,true,"f")}}))}__classPrivateFieldSet(a,Ae,e,"f")}));vt.set(this,(function(){if(a.filterType==="none"){var e=new Map;__classPrivateFieldGet(a,Te,"f").forEach((function(t,i){if(__classPrivateFieldGet(a,et,"f").call(a,t.item)){e.set(i,t)}}));__classPrivateFieldGet(a,ot,"f").call(a,e);__classPrivateFieldGet(a,ht,"f").call(a);__classPrivateFieldSet(a,qe,undefined,"f");return}clearTimeout(__classPrivateFieldGet(a,Ve,"f"));var t=a.filterDebounce>0&&(a.filterType==="caption"||a.filterType==="metadata");var i=function(){var e;var t=new Set;var i=new Map;if(a.filterType==="list"){__classPrivateFieldSet(a,Ye,(e=__classPrivateFieldGet(a,Ye,"f"))!==null&&e!==void 0?e:new Set,"f")}__classPrivateFieldGet(a,rt,"f").call(a,{id:Yt,caption:Yt,items:a.model},{defaultCheckbox:a.checkbox,defaultChecked:a.checked,filter:a.filter,filterOptions:a.filterOptions,filterSet:__classPrivateFieldGet(a,Ye,"f")},t,i);__classPrivateFieldGet(a,dt,"f").call(a,t);__classPrivateFieldGet(a,ot,"f").call(a,i);__classPrivateFieldGet(a,ht,"f").call(a)};if(t&&__classPrivateFieldGet(a,qe,"f")!=="immediate"){__classPrivateFieldSet(a,Ve,setTimeout((function(){__classPrivateFieldSet(a,qe,undefined,"f");i();c(a)}),a.filterDebounce),"f")}else{__classPrivateFieldSet(a,qe,undefined,"f");i()}}));ht.set(this,(function(){if(__classPrivateFieldGet(a,je,"f")){__classPrivateFieldGet(a,ct,"f").call(a);__classPrivateFieldSet(a,je,false,"f")}if(__classPrivateFieldGet(a,De,"f")){__classPrivateFieldSet(a,De,false,"f");__classPrivateFieldGet(a,lt,"f").call(a)}}));ut.set(this,(function(){var e=new Map;__classPrivateFieldGet(a,Ae,"f").forEach((function(t){var i=__classPrivateFieldGet(a,Te,"f").get(t);var r=i.item;e.set(t,{id:r.id,expanded:r.expanded,metadata:r.metadata,parentId:i.parentItem.id})}));return e}));t(this,e);this.checkedItemsChange=i(this,"checkedItemsChange",7);this.itemContextmenu=i(this,"itemContextmenu",7);this.itemOpenReference=i(this,"itemOpenReference",7);this.selectedItemsChange=i(this,"selectedItemsChange",7);this.waitDropProcessing=false;this.checkbox=false;this.checked=false;this.checkDroppableZoneCallback=undefined;this.dragDisabled=true;this.dropDisabled=true;this.dropItemsCallback=undefined;this.dropMode="above";this.editableItems=false;this.expandableButton="decorative";this.expandOnClick=true;this.filter=undefined;this.filterDebounce=250;this.filterList=undefined;this.filterOptions={};this.filterType="none";this.gxImageConstructor=undefined;this.gxSettings=undefined;this.getImagePathCallback=undefined;this.lazyLoadTreeItemsCallback=undefined;this.modifyItemCaptionCallback=undefined;this.multiSelection=false;this.model=[];this.renderItem=Ai;this.showLines="none";this.sortItemsCallback=Di;this.toggleCheckboxes=false;this.useGxRender=false}Object.defineProperty(e.prototype,"el",{get:function(){return a(this)},enumerable:false,configurable:true});e.prototype.filterChanged=function(){if(this.filterType==="caption"||this.filterType==="metadata"){__classPrivateFieldGet(this,ft,"f").call(this)}};e.prototype.filterDebounceChanged=function(){if(this.filterType==="caption"||this.filterType==="metadata"){__classPrivateFieldGet(this,ft,"f").call(this)}};e.prototype.filterListChanged=function(){__classPrivateFieldSet(this,Ye,new Set(this.filterList),"f");if(this.filterType==="list"){__classPrivateFieldGet(this,ft,"f").call(this)}};e.prototype.filterOptionsChanged=function(){__classPrivateFieldGet(this,ft,"f").call(this)};e.prototype.filterTypeChanged=function(e){if(e==="list"){__classPrivateFieldSet(this,Ye,new Set(this.filterList),"f")}else{__classPrivateFieldSet(this,Ye,undefined,"f")}__classPrivateFieldGet(this,ft,"f").call(this)};e.prototype.multiSelectionChanged=function(e){if(!e){__classPrivateFieldGet(this,Ue,"f").call(this,__classPrivateFieldGet(this,Ae,"f"))}};e.prototype.modelChanged=function(){__classPrivateFieldGet(this,at,"f").call(this)};e.prototype.dropItems=function(e,t,i){return __awaiter(this,void 0,void 0,(function(){var a,r,s,n,l;var f;return __generator(this,(function(o){if(!e){return[2]}a=t.newContainer.id;r=__classPrivateFieldGet(this,Te,"f").get(a);s=t.dropType;n=s==="above"?r.item:r.parentItem;if(t.dropInTheSameTree){l=undefined;if(s!=="above"){l={index:n.items.findIndex((function(e){return e.id===t.newContainer.id}))};if(s==="after"){l.index++}}t.draggedItems.forEach(__classPrivateFieldGet(this,Qe,"f").call(this,n,l));if(t.draggingSelectedItems){__classPrivateFieldGet(this,nt,"f").call(this)}}else{if(i==null){return[2]}(f=n.items).push.apply(f,i);i.forEach(__classPrivateFieldGet(this,$e,"f").call(this,n))}__classPrivateFieldGet(this,it,"f").call(this,n.items);n.expanded=true;__classPrivateFieldGet(this,st,"f").call(this);__classPrivateFieldGet(this,ft,"f").call(this);c(this);return[2]}))}))};e.prototype.getItemPath=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,Fi(e,__classPrivateFieldGet(this,Te,"f"))]}))}))};e.prototype.getItemsInfo=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,__classPrivateFieldGet(this,He,"f").call(this,e)]}))}))};e.prototype.loadLazyContent=function(e,t){return __awaiter(this,arguments,void 0,(function(e,t,i,a){var r;if(i===void 0){i=false}if(a===void 0){a=false}return __generator(this,(function(s){r=__classPrivateFieldGet(this,Te,"f").get(e).item;r.downloading=i;r.lazy=a;if(t==null){return[2]}r.items=t;__classPrivateFieldGet(this,it,"f").call(this,r.items);__classPrivateFieldGet(this,Xe,"f").call(this,r);__classPrivateFieldGet(this,st,"f").call(this);__classPrivateFieldGet(this,ft,"f").call(this,"immediate");c(this);return[2]}))}))};e.prototype.removeItems=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){t=Nt(e,__classPrivateFieldGet(this,Te,"f"),__classPrivateFieldGet(this,Oe,"f"),__classPrivateFieldGet(this,Ae,"f"));if(!__classPrivateFieldGet(this,tt,"f").call(this)){if(t.atLeastOneSelected){__classPrivateFieldGet(this,lt,"f").call(this)}if(t.atLeastOneCheckbox){__classPrivateFieldGet(this,st,"f").call(this)}}if(t.atLeastOneElement){c(this);__classPrivateFieldGet(this,ft,"f").call(this,"immediate")}return[2]}))}))};e.prototype.reloadItems=function(e,t,i){return __awaiter(this,void 0,void 0,(function(){var a;var r=this;return __generator(this,(function(s){switch(s.label){case 0:return[4,gi(this.el,e,__classPrivateFieldGet(this,Te,"f"),this.lazyLoadTreeItemsCallback,(function(e,t){return r.loadLazyContent(e,t)}),(function(e){return r.removeItems(e)}),t,i)];case 1:a=s.sent();return[2,a]}}))}))};e.prototype.scrollIntoVisible=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,a,r,s;var n=this;return __generator(this,(function(l){switch(l.label){case 0:i=typeof e==="string";return[4,i?Rt(e,__classPrivateFieldGet(this,Te,"f")):Zt(this.el,e,__classPrivateFieldGet(this,Te,"f"),__classPrivateFieldGet(this,Ee,"f"),this.lazyLoadTreeItemsCallback)];case 1:a=l.sent();if(!a){return[2,false]}r=i?e:e[e.length-1];s=__classPrivateFieldGet(this,Te,"f").get(r).parentItem;while(s!==__classPrivateFieldGet(this,Ee,"f")){s.expanded=true;s=__classPrivateFieldGet(this,Te,"f").get(s.id).parentItem}if(t){this.updateItemsProperties([r],t)}c(this);requestAnimationFrame((function(){__classPrivateFieldGet(n,Be,"f").scrollIntoVisible(r)}));return[2,true]}}))}))};e.prototype.toggleItems=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i;var a=this;return __generator(this,(function(r){if(!e){return[2,[]]}i=[];e.forEach((function(e){var r=__classPrivateFieldGet(a,Te,"f").get(e).item;if(r){r.expanded=t!==null&&t!==void 0?t:!r.expanded;i.push({id:r.id,expanded:r.expanded})}}));c(this);return[2,i]}))}))};e.prototype.updateAllItemsProperties=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){__spreadArray([],__classPrivateFieldGet(this,Te,"f").values(),true).forEach((function(t){if(e.expanded!=null){t.item.expanded=e.expanded}if(e.checked!=null){t.item.checked=e.checked;t.item.indeterminate=false}}));if(e.checked!=null){__classPrivateFieldGet(this,ft,"f").call(this)}c(this);return[2]}))}))};e.prototype.updateItemsProperties=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,a;var r=this;return __generator(this,(function(s){i=new Set(__classPrivateFieldGet(this,Ae,"f"));a=new Map(__classPrivateFieldGet(this,Oe,"f"));e.forEach((function(e){Pi(e,t,__classPrivateFieldGet(r,Te,"f"),i,a,r.checkbox)}));if(!this.multiSelection){__classPrivateFieldGet(this,Ue,"f").call(this,i)}if(__classPrivateFieldGet(this,tt,"f").call(this)){__classPrivateFieldGet(this,ft,"f").call(this)}else{__classPrivateFieldGet(this,ot,"f").call(this,a);__classPrivateFieldGet(this,dt,"f").call(this,i)}c(this);return[2]}))}))};e.prototype.updateValidDropZone=function(e,t,i,a,r){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(s){__classPrivateFieldGet(this,Be,"f").updateValidDropZone(e,t,i,a,r);return[2]}))}))};e.prototype.onCheckboxChange=function(e){e.stopPropagation();var t=e.detail;var i=t.id;var a=__classPrivateFieldGet(this,Oe,"f").get(i);if(!a){return}var r=a.item;r.checked=t.checked;r.indeterminate=t.indeterminate;__classPrivateFieldGet(this,st,"f").call(this);if(this.filterType==="checked"||this.filterType==="unchecked"){__classPrivateFieldGet(this,ft,"f").call(this)}c(this)};e.prototype.onLoadLazyContent=function(e){var t=this;if(!this.lazyLoadTreeItemsCallback){return}e.stopPropagation();var i=e.detail;var a=this.lazyLoadTreeItemsCallback(i);e.target.downloading=true;a.then((function(e){t.loadLazyContent(i,e)}))};e.prototype.onModifyCaption=function(e){var t=this;if(!this.modifyItemCaptionCallback){return}e.stopPropagation();var i=e.target;var a=e.detail.id;var r=__classPrivateFieldGet(this,Te,"f").get(a);var s=r.item;var n=e.detail.caption;var l=s.caption;s.caption=n;i.caption=n;var f=this.modifyItemCaptionCallback(a,n);f.then((function(e){if(e.success){__classPrivateFieldGet(t,it,"f").call(t,r.parentItem.items);__classPrivateFieldGet(t,ft,"f").call(t);c(t)}else{i.caption=l;s.caption=l}}))};e.prototype.onOpenReference=function(e){e.stopPropagation();this.itemOpenReference.emit(e.detail)};e.prototype.connectedCallback=function(){if(!k("getImagePathCallback","ch-tree-view-render")){ki(this)}this.el.setAttribute("role","tree")};e.prototype.componentWillLoad=function(){__classPrivateFieldGet(this,at,"f").call(this)};e.prototype.componentWillRender=function(){if(!__classPrivateFieldGet(this,De,"f")&&!__classPrivateFieldGet(this,je,"f")&&!__classPrivateFieldGet(this,Le,"f")){return}if(__classPrivateFieldGet(this,Le,"f")){__classPrivateFieldGet(this,vt,"f").call(this);__classPrivateFieldSet(this,Le,false,"f");return}__classPrivateFieldGet(this,ht,"f").call(this)};e.prototype.render=function(){var e=this;return n(l,{key:"6831005449f059f6b5a00bff018a8cfee1a0975a","aria-multiselectable":this.multiSelection.toString()},n("ch-tree-view",{key:"90f0b7a7aec028c5098c288c0116bfb429eee908",multiSelection:this.multiSelection,selectedItemsCallback:__classPrivateFieldGet(this,ut,"f"),waitDropProcessing:this.waitDropProcessing,onDroppableZoneEnter:__classPrivateFieldGet(this,Ne,"f"),onExpandedItemChange:__classPrivateFieldGet(this,Re,"f"),onItemContextmenu:__classPrivateFieldGet(this,Ze,"f"),onItemsDropped:__classPrivateFieldGet(this,Ke,"f"),onSelectedItemsChange:__classPrivateFieldGet(this,Je,"f"),ref:function(t){return __classPrivateFieldSet(e,Be,t,"f")}},this.model.map((function(t,i){return e.renderItem(t,e,__classPrivateFieldGet(e,tt,"f").call(e),e.showLines!=="none"&&i===e.model.length-1,0,e.dropMode!=="above"&&e.dropDisabled!==true,e.useGxRender)}))))};Object.defineProperty(e,"watchers",{get:function(){return{filter:["filterChanged"],filterDebounce:["filterDebounceChanged"],filterList:["filterListChanged"],filterOptions:["filterOptionsChanged"],filterType:["filterTypeChanged"],multiSelection:["multiSelectionChanged"],model:["modelChanged"]}},enumerable:false,configurable:true});return e}(),Te=new WeakMap,Oe=new WeakMap,Ae=new WeakMap,De=new WeakMap,je=new WeakMap,Ee=new WeakMap,Le=new WeakMap,qe=new WeakMap,Ve=new WeakMap,Ye=new WeakMap,Be=new WeakMap,He=new WeakMap,Ne=new WeakMap,Je=new WeakMap,Re=new WeakMap,Ze=new WeakMap,Ke=new WeakMap,Ue=new WeakMap,Qe=new WeakMap,Xe=new WeakMap,$e=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakMap,at=new WeakMap,rt=new WeakMap,st=new WeakMap,nt=new WeakMap,lt=new WeakMap,ct=new WeakMap,ft=new WeakMap,ot=new WeakMap,dt=new WeakMap,vt=new WeakMap,ht=new WeakMap,ut=new WeakMap,_t));ji.style=Gi}}}));
//# sourceMappingURL=p-cdd637f2.system.entry.js.map