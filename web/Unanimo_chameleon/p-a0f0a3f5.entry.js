import{r as e,g as t,h as i,H as s}from"./p-7af91c05.js";import{f as o}from"./p-5f934da7.js";const n=":where(button,a){all:unset;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}:host{--ch-tooltip-separation:0px;--ch-tooltip-separation-x:var(--ch-tooltip-separation);--ch-tooltip-separation-y:var(--ch-tooltip-separation);display:contents}ch-popover{--ch-popover-separation-x:var(--ch-tooltip-separation-x);--ch-popover-separation-y:var(--ch-tooltip-separation-y);-webkit-animation:delay-visibility var(--ch-tooltip-delay) linear;animation:delay-visibility var(--ch-tooltip-delay) linear}ch-popover:not(.hydrated){display:none;opacity:0}@-webkit-keyframes delay-visibility{0%,100%{opacity:0}}@keyframes delay-visibility{0%,100%{opacity:0}}";const a=n;const h={passive:true};const c="aria-describedby";const l="aria-label";const r="tooltip";let d=0;const p=class{constructor(t){e(this,t);this.visible=false;this.actionElement=undefined;this.actionElementAccessibleName=undefined;this.blockAlign="outside-end";this.delay=100;this.inlineAlign="center"}#e;#t=true;#i;#s;get el(){return t(this)}visibleChanged(e){if(e){this.#o();this.#n()}else{this.#a();this.#h()}}actionElementChanged(){this.#c();this.#t=true;this.#l();this.#r()}actionElementAccessibleNameChanged(){if(this.actionElementAccessibleName){this.#d()}else{this.#l()}}#p=()=>{this.visible=true};#b=()=>{const e=o()[0]===this.#u()&&this.#i.matches(":focus-visible");if(!e){this.visible=false}};#h=()=>{this.#i.addEventListener("focus",this.#p,h);this.#i.addEventListener("mouseenter",this.#p,h)};#n=()=>{this.#i.addEventListener("focusout",this.#b,h);this.#i.addEventListener("mouseleave",this.#b,h)};#o=()=>{this.#i?.removeEventListener("focus",this.#p);this.#i?.removeEventListener("mouseenter",this.#p)};#a=()=>{this.#i?.removeEventListener("focusout",this.#b);this.#i?.removeEventListener("mouseleave",this.#b)};#f=()=>this.#i?.setAttribute(c,this.#e);#d=()=>{if(this.actionElementAccessibleName){this.#i?.setAttribute(l,this.actionElementAccessibleName)}};#r=()=>this.#i?.removeAttribute(c);#l=()=>this.#i?.removeAttribute(l);#u=()=>{if(this.actionElement===null){return this.el.parentElement}return this.actionElement??this.#s};#c=()=>{this.#o();this.#a()};#m=()=>this.actionElement===undefined;connectedCallback(){this.#e??=`ch-tooltip-${d++}`}componentDidRender(){if(this.#t){this.#t=false;this.#i=this.#u();this.#h();this.#f();this.#d()}}disconnectedCallback(){this.#c();this.#r();this.#l()}render(){const e=this.#m();return i(s,{key:"d6d7e9f2b7f5ef79b00907acd04d45610c50c6c6",id:!e?this.#e:undefined,role:!e?r:undefined,"aria-hidden":!e&&!this.visible?"true":undefined},e&&i("button",{key:"9812e49a64ba7d9ea6be8f1fad9ced1ccfa581ab",part:"action",type:"button",ref:e=>this.#s=e},i("slot",{key:"6149c610abbe73aecbdc12199334c8079a1fe0d3",name:"action"})),this.visible&&i("ch-popover",{key:"7cb7fe7f4c7c9c3b144407830629f31b3dadeec1",id:e?this.#e:undefined,role:e?r:undefined,style:{"--ch-tooltip-delay":`${this.delay}ms`},part:"window",actionElement:this.#u(),blockAlign:this.blockAlign,closeOnClickOutside:true,show:true,inlineAlign:this.inlineAlign,mode:"manual",onPopoverClosed:this.#b},i("slot",{key:"c2bc889d9607530c9f98b71461d3a2ed5f64e6b1"})))}static get watchers(){return{visible:["visibleChanged"],actionElement:["actionElementChanged"],actionElementAccessibleName:["actionElementAccessibleNameChanged"]}}};p.style=a;export{p as ch_tooltip};
//# sourceMappingURL=p-a0f0a3f5.entry.js.map