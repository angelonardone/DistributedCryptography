/*mustache.js - Logic-less {{mustache}} templates with JavaScript
 http://github.com/janl/mustache.js
 modernizr 3.6.0 (Custom Build) | MIT *
 https://modernizr.com/download/?-csstransitions-flexbox-history-domprefixes-setclasses-testallprops-testprop ! modernizr v3.6.0
 Build https://modernizr.com/download?-csstransitions-flexbox-history-domprefixes-setclasses-testallprops-testprop-dontmin

 Copyright (c)
  Faruk Ates
  Paul Irish
  Alex Sexton
  Ryan Seddon
  Patrick Kettner
  Stu Cox
  Richard Herrera

 MIT License
 {
  "name": "History API",
  "property": "history",
  "caniuse": "history",
  "tags": ["history"],
  "authors": ["Hay Kranen", "Alexander Farkas"],
  "notes": [{
    "name": "W3C Spec",
    "href": "https://www.w3.org/TR/html51/browsers.html#the-history-interface"
  }, {
    "name": "MDN documentation",
    "href": "https://developer.mozilla.org/en-US/docs/Web/API/window.history"
  }],
  "polyfills": ["historyjs", "html5historyapi"]
}
! {
  "name": "Flexbox",
  "property": "flexbox",
  "caniuse": "flexbox",
  "tags": ["css"],
  "notes": [{
    "name": "The _new_ flexbox",
    "href": "http://dev.w3.org/csswg/css3-flexbox"
  }],
  "warnings": [
    "A `true` result for this detect does not imply that the `flex-wrap` property is supported; see the `flexwrap` detect."
  ]
}
! {
  "name": "CSS Transitions",
  "property": "csstransitions",
  "caniuse": "css-transitions",
  "tags": ["css"]
}
!*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(f){return f.raw=f};$jscomp.createTemplateTagFirstArgWithRaw=function(f,n){f.raw=n;return f};$jscomp.arrayIteratorImpl=function(f){var n=0;return function(){return n<f.length?{done:!1,value:f[n++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.makeIterator=function(f){var n="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];return n?n.call(f):$jscomp.arrayIterator(f)};
$jscomp.arrayFromIterator=function(f){for(var n,g=[];!(n=f.next()).done;)g.push(n.value);return g};$jscomp.arrayFromIterable=function(f){return f instanceof Array?f:$jscomp.arrayFromIterator($jscomp.makeIterator(f))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,n,g){if(f==Array.prototype||f==Object.prototype)return f;f[n]=g.value;return f};$jscomp.getGlobal=function(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<f.length;++n){var g=f[n];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(f,n){var g=$jscomp.propertyToPolyfillSymbol[n];if(null==g)return f[n];g=f[g];return void 0!==g?g:f[n]};
$jscomp.polyfill=function(f,n,g,m){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(f,n,g,m):$jscomp.polyfillUnisolated(f,n,g,m))};$jscomp.polyfillUnisolated=function(f,n,g,m){g=$jscomp.global;f=f.split(".");for(m=0;m<f.length-1;m++){var a=f[m];if(!(a in g))return;g=g[a]}f=f[f.length-1];m=g[f];n=n(m);n!=m&&null!=n&&$jscomp.defineProperty(g,f,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(f,n,g,m){var a=f.split(".");f=1===a.length;m=a[0];m=!f&&m in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var b=0;b<a.length-1;b++){var c=a[b];if(!(c in m))return;m=m[c]}a=a[a.length-1];g=$jscomp.IS_SYMBOL_NATIVE&&"es6"===g?m[a]:null;n=n(g);null!=n&&(f?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:n}):n!==g&&($jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+a,a=
$jscomp.propertyToPolyfillSymbol[a],$jscomp.defineProperty(m,a,{configurable:!0,writable:!0,value:n})))};$jscomp.polyfill("Array.from",function(f){return f?f:function(n,g,m){g=null!=g?g:function(d){return d};var a=[],b="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];if("function"==typeof b){n=b.call(n);for(var c=0;!(b=n.next()).done;)a.push(g.call(m,b.value,c++))}else for(b=n.length,c=0;c<b;c++)a.push(g.call(m,n[c],c));return a}},"es6","es3");
$jscomp.checkStringArgs=function(f,n,g){if(null==f)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return f+""};
$jscomp.polyfill("String.prototype.startsWith",function(f){return f?f:function(n,g){var m=$jscomp.checkStringArgs(this,n,"startsWith");n+="";var a=m.length,b=n.length;g=Math.max(0,Math.min(g|0,m.length));for(var c=0;c<b&&g<a;)if(m[g++]!=n[c++])return!1;return c>=b}},"es6","es3");$jscomp.findInternal=function(f,n,g){f instanceof String&&(f=String(f));for(var m=f.length,a=0;a<m;a++){var b=f[a];if(n.call(g,b,a,f))return{i:a,v:b}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(n,g){return $jscomp.findInternal(this,n,g).v}},"es6","es3");$jscomp.polyfill("String.prototype.endsWith",function(f){return f?f:function(n,g){var m=$jscomp.checkStringArgs(this,n,"endsWith");n+="";void 0===g&&(g=m.length);g=Math.max(0,Math.min(g|0,m.length));for(var a=n.length;0<a&&0<g;)if(m[--g]!=n[--a])return!1;return 0>=a}},"es6","es3");
$jscomp.polyfill("Math.trunc",function(f){return f?f:function(n){n=Number(n);if(isNaN(n)||Infinity===n||-Infinity===n||0===n)return n;var g=Math.floor(Math.abs(n));return 0>n?-g:g}},"es6","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(f){if(f)return f;var n=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};n.prototype.toString=function(){return this.$jscomp$symbol$id_};var g=0,m=function(a){if(this instanceof m)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(a||"")+"_"+g++,a)};return m},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(f){if(f)return f;f=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<n.length;g++){var m=$jscomp.global[n[g]];"function"===typeof m&&"function"!=typeof m.prototype[f]&&$jscomp.defineProperty(m.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return f},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(f){f={next:f};f[Symbol.iterator]=function(){return this};return f};$jscomp.iteratorFromArray=function(f,n){f instanceof String&&(f+="");var g=0,m={next:function(){if(g<f.length){var a=g++;return{value:n(a,f[a]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill("Array.prototype.values",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(n,g){return g})}},"es8","es3");$jscomp.polyfill("Object.is",function(f){return f?f:function(n,g){return n===g?0!==n||1/n===1/g:n!==n&&g!==g}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(f){return f?f:function(n,g){var m=this;m instanceof String&&(m=String(m));var a=m.length;g=g||0;for(0>g&&(g=Math.max(g+a,0));g<a;g++){var b=m[g];if(b===n||Object.is(b,n))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(f){return f?f:function(n,g){return-1!==$jscomp.checkStringArgs(this,n,"includes").indexOf(n,g||0)}},"es6","es3");$jscomp.owns=function(f,n){return Object.prototype.hasOwnProperty.call(f,n)};
$jscomp.polyfill("Object.entries",function(f){return f?f:function(n){var g=[],m;for(m in n)$jscomp.owns(n,m)&&g.push([m,n[m]]);return g}},"es8","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(f){function n(){this.batch_=null}function g(c){return c instanceof a?c:new a(function(d,e){d(c)})}if(f&&!$jscomp.FORCE_POLYFILL_PROMISE)return f;n.prototype.asyncExecute=function(c){if(null==this.batch_){this.batch_=[];var d=this;this.asyncExecuteFunction(function(){d.executeBatch_()})}this.batch_.push(c)};var m=$jscomp.global.setTimeout;n.prototype.asyncExecuteFunction=function(c){m(c,0)};n.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var c=
this.batch_;this.batch_=[];for(var d=0;d<c.length;++d){var e=c[d];c[d]=null;try{e()}catch(h){this.asyncThrow_(h)}}}this.batch_=null};n.prototype.asyncThrow_=function(c){this.asyncExecuteFunction(function(){throw c;})};var a=function(c){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var d=this.createResolveAndReject_();try{c(d.resolve,d.reject)}catch(e){d.reject(e)}};a.prototype.createResolveAndReject_=function(){function c(h){return function(r){e||(e=!0,h.call(d,r))}}var d=this,e=!1;
return{resolve:c(this.resolveTo_),reject:c(this.reject_)}};a.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof a)this.settleSameAsPromise_(c);else{a:switch(typeof c){case "object":var d=null!=c;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};a.prototype.resolveToNonPromiseObj_=function(c){var d=void 0;try{d=c.then}catch(e){this.reject_(e);return}"function"==typeof d?
this.settleSameAsThenable_(d,c):this.fulfill_(c)};a.prototype.reject_=function(c){this.settle_(2,c)};a.prototype.fulfill_=function(c){this.settle_(1,c)};a.prototype.settle_=function(c,d){if(0!=this.state_)throw Error("Cannot settle("+c+", "+d+"): Promise already settled in state"+this.state_);this.state_=c;this.result_=d;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var c=0;c<this.onSettledCallbacks_.length;++c)b.asyncExecute(this.onSettledCallbacks_[c]);
this.onSettledCallbacks_=null}};var b=new n;a.prototype.settleSameAsPromise_=function(c){var d=this.createResolveAndReject_();c.callWhenSettled_(d.resolve,d.reject)};a.prototype.settleSameAsThenable_=function(c,d){var e=this.createResolveAndReject_();try{c.call(d,e.resolve,e.reject)}catch(h){e.reject(h)}};a.prototype.then=function(c,d){function e(x,D){return"function"==typeof x?function(k){try{h(x(k))}catch(p){r(p)}}:D}var h,r,v=new a(function(x,D){h=x;r=D});this.callWhenSettled_(e(c,h),e(d,r));return v};
a.prototype.catch=function(c){return this.then(void 0,c)};a.prototype.callWhenSettled_=function(c,d){function e(){switch(h.state_){case 1:c(h.result_);break;case 2:d(h.result_);break;default:throw Error("Unexpected state: "+h.state_);}}var h=this;null==this.onSettledCallbacks_?b.asyncExecute(e):this.onSettledCallbacks_.push(e)};a.resolve=g;a.reject=function(c){return new a(function(d,e){e(c)})};a.race=function(c){return new a(function(d,e){for(var h=$jscomp.makeIterator(c),r=h.next();!r.done;r=h.next())g(r.value).callWhenSettled_(d,
e)})};a.all=function(c){var d=$jscomp.makeIterator(c),e=d.next();return e.done?g([]):new a(function(h,r){function v(k){return function(p){x[k]=p;D--;0==D&&h(x)}}var x=[],D=0;do x.push(void 0),D++,g(e.value).callWhenSettled_(v(x.length-1),r),e=d.next();while(!e.done)})};return a},"es6","es3");
(function(f,n){"object"===typeof exports&&exports&&"string"!==typeof exports.nodeName?n(exports):"function"===typeof define&&define.amd?define(["exports"],n):(f.Mustache={},n(f.Mustache))})(this,function(f){function n(u){return"function"===typeof u}function g(u){return u.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function m(u,y){return null!=u&&"object"===typeof u&&y in u}function a(u,y){function H(ea){"string"===typeof ea&&(ea=ea.split(w,2));if(!v(ea)||2!==ea.length)throw Error("Invalid tags: "+
ea);O=new RegExp(g(ea[0])+"\\s*");M=new RegExp("\\s*"+g(ea[1]));X=new RegExp("\\s*"+g("}"+ea[1]))}if(!u)return[];var E=[],J=[],G=[],I=!1,L=!1,O,M,X;H(y||f.tags);u=new d(u);for(var U,aa,da;!u.eos();){y=u.pos;if(aa=u.scanUntil(O)){da=0;for(var ha=aa.length;da<ha;++da)if(U=aa.charAt(da),x.call(D,U)?L=!0:G.push(J.length),J.push(["text",U,y,y+1]),y+=1,"\n"===U){if(I&&!L)for(;G.length;)delete J[G.pop()];else G=[];L=I=!1}}if(!u.scan(O))break;I=!0;U=u.scan(B)||"name";u.scan(p);"="===U?(aa=u.scanUntil(q),
u.scan(q),u.scanUntil(M)):"{"===U?(aa=u.scanUntil(X),u.scan(C),u.scanUntil(M),U="&"):aa=u.scanUntil(M);if(!u.scan(M))throw Error("Unclosed tag at "+u.pos);da=[U,aa,y,u.pos];J.push(da);if("#"===U||"^"===U)E.push(da);else if("/"===U){U=E.pop();if(!U)throw Error('Unopened section "'+aa+'" at '+y);if(U[1]!==aa)throw Error('Unclosed section "'+U[1]+'" at '+y);}else"name"===U||"{"===U||"&"===U?L=!0:"="===U&&H(aa)}if(U=E.pop())throw Error('Unclosed section "'+U[1]+'" at '+u.pos);return c(b(J))}function b(u){for(var y=
[],H,E,J=0,G=u.length;J<G;++J)if(H=u[J])"text"===H[0]&&E&&"text"===E[0]?(E[1]+=H[1],E[3]=H[3]):(y.push(H),E=H);return y}function c(u){for(var y=[],H=y,E=[],J,G=0,I=u.length;G<I;++G)switch(J=u[G],J[0]){case "#":case "^":H.push(J);E.push(J);H=J[4]=[];break;case "/":H=E.pop();H[5]=J[2];H=0<E.length?E[E.length-1][4]:y;break;default:H.push(J)}return y}function d(u){this.tail=this.string=u;this.pos=0}function e(u,y){this.view=u;this.cache={".":this.view};this.parent=y}function h(){this.cache={}}var r=Object.prototype.toString,
v=Array.isArray||function(u){return"[object Array]"===r.call(u)},x=RegExp.prototype.test,D=/\S/,k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},p=/\s*/,w=/\s+/,q=/\s*=/,C=/\s*\}/,B=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail};d.prototype.scan=function(u){u=this.tail.match(u);if(!u||0!==u.index)return"";u=u[0];this.tail=this.tail.substring(u.length);this.pos+=u.length;return u};d.prototype.scanUntil=function(u){u=this.tail.search(u);
switch(u){case -1:var y=this.tail;this.tail="";break;case 0:y="";break;default:y=this.tail.substring(0,u),this.tail=this.tail.substring(u)}this.pos+=y.length;return y};e.prototype.push=function(u){return new e(u,this)};e.prototype.lookup=function(u){var y=this.cache;if(y.hasOwnProperty(u))var H=y[u];else{for(var E=this,J,G,I,L=!1;E;){if(0<u.indexOf("."))for(J=E.view,G=u.split("."),I=0;null!=J&&I<G.length;)I===G.length-1&&(L=m(J,G[I])||null!=J&&"object"!==typeof J&&J.hasOwnProperty&&J.hasOwnProperty(G[I])),
J=J[G[I++]];else J=E.view[u],L=m(E.view,u);if(L){H=J;break}E=E.parent}y[u]=H}n(H)&&(H=H.call(this.view));return H};h.prototype.clearCache=function(){this.cache={}};h.prototype.parse=function(u,y){var H=this.cache,E=u+":"+(y||f.tags).join(":"),J=H[E];null==J&&(J=H[E]=a(u,y));return J};h.prototype.render=function(u,y,H,E){var J=this.parse(u,E);y=y instanceof e?y:new e(y);return this.renderTokens(J,y,H,u,E)};h.prototype.renderTokens=function(u,y,H,E,J){for(var G="",I,L,O,M=0,X=u.length;M<X;++M)O=void 0,
I=u[M],L=I[0],"#"===L?O=this.renderSection(I,y,H,E):"^"===L?O=this.renderInverted(I,y,H,E):">"===L?O=this.renderPartial(I,y,H,J):"&"===L?O=this.unescapedValue(I,y):"name"===L?O=this.escapedValue(I,y):"text"===L&&(O=this.rawValue(I)),void 0!==O&&(G+=O);return G};h.prototype.renderSection=function(u,y,H,E){function J(X){return G.render(X,y,H)}var G=this,I="",L=y.lookup(u[1]);if(L){if(v(L))for(var O=0,M=L.length;O<M;++O)I+=this.renderTokens(u[4],y.push(L[O]),H,E);else if("object"===typeof L||"string"===
typeof L||"number"===typeof L)I+=this.renderTokens(u[4],y.push(L),H,E);else if(n(L)){if("string"!==typeof E)throw Error("Cannot use higher-order sections without the original template");L=L.call(y.view,E.slice(u[3],u[5]),J);null!=L&&(I+=L)}else I+=this.renderTokens(u[4],y,H,E);return I}};h.prototype.renderInverted=function(u,y,H,E){var J=y.lookup(u[1]);if(!J||v(J)&&0===J.length)return this.renderTokens(u[4],y,H,E)};h.prototype.renderPartial=function(u,y,H,E){if(H&&(u=n(H)?H(u[1]):H[u[1]],null!=u))return this.renderTokens(this.parse(u,
E),y,H,u)};h.prototype.unescapedValue=function(u,y){u=y.lookup(u[1]);if(null!=u)return u};h.prototype.escapedValue=function(u,y){u=y.lookup(u[1]);if(null!=u)return f.escape(u)};h.prototype.rawValue=function(u){return u[1]};f.name="mustache.js";f.version="3.0.1";f.tags=["{{","}}"];var N=new h;f.clearCache=function(){return N.clearCache()};f.parse=function(u,y){return N.parse(u,y)};f.render=function(u,y,H,E){if("string"!==typeof u)throw y=TypeError,u=v(u)?"array":typeof u,new y('Invalid template! Template should be a "string" but "'+
u+'" was given as the first argument for mustache#render(template, view, partials)');return N.render(u,y,H,E)};f.to_html=function(u,y,H,E){u=f.render(u,y,H);if(n(E))E(u);else return u};f.escape=function(u){return String(u).replace(/[&<>"'`=\/]/g,function(y){return k[y]})};f.Scanner=d;f.Context=e;f.Writer=h;return f});(function(){window.onpageshow=function(f){f.persisted&&window.location.reload()}})();
var gx=function(f){var n=/^(?:gx\.O\.)(.+)$/,g=/^(?:.+)?\((?:gx\.O\.)([a-zA-Z0-9_]+)(?:,)?(?:.*)\)$/,m=function(){return!1};return{$:f.noConflict(),O:null,pO:null,languageCode:"eng",dateFormat:"MDY",timeFormat:12,blankWhenEmpty:!1,centuryFirstYear:40,decimalPoint:".",thousandSeparator:",",staticDirectory:"/",basePath:"",servletBasePath:"",datepickerImage:null,clientImages:{},blankImage:null,ascImage:null,descImage:null,expandImage:null,collapseImage:null,downloadImage:null,indicatorImage:null,resizeImage:null,
msg:{},NULL_TIMEZONEOFFSET:0,emptyFn:function(){},falseFn:m,trueFn:function(){return!0},getNotificationDelay:function(){return void 0===gx.NotificationDelay?400:gx.NotificationDelay},numericLenDec:function(a){var b=a.split(".");a=2===b.length?b[0]:a;b=2===b.length?b[1]:"";a=(a.match(/9|Z|#|\?|\\/g)||[]).length;b=(b.match(/9|Z|#|\?|\\/g)||[]).length;return{Integers:a,Decimals:b}},rtPicture:function(a,b){return b&&b.getAttribute("data-gx-rt-picture")||a&&a.pic||""},dom:{_form:null,_avoidLeaksDiv:null,
id:function(a){return void 0==a.id||""==a.id?a.name:a.id},byId:function(a,b){return"string"===typeof a?(b=b||document,b.getElementById(a)):a},byName:function(a){return a?document.getElementsByName(a):[]},getOrCreatebyCss:function(a,b){b=b.trim().split(" ");a=document.body;b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next()){c=c.value;var d=a.querySelector(c);d||(c=c.split(/[\[\]]/)[0],d=document.createElement(c),a.appendChild(d));a=d}return a},toggleAttribute:function(a,b,c){"function"===
typeof a.toggleAttribute?a.toggleAttribute(b,c):c?a.setAttribute(b,""):a.removeAttribute(b,"")},byTag:function(a,b){b=b||document;return b.getElementsByTagName(a)},byClass:function(a,b,c){return!b&&(c=document||c,c.getElementsByClassName)?c.getElementsByClassName(a):f((b||"")+"."+a,c).toArray()},bySelector:function(a){return f(a).toArray()},getAttributeNames:function(a){return"function"===typeof a.getAttributeNames?a.getAttributeNames():Array.from(a.attributes).map(function(b){return b.name})},scripts:function(a){var b=
document.scripts;b||(b=document.getElementsByTagName("script"));if("undefined"!=typeof b){for(var c=[],d=b.length,e=0;e<d;e++)if(!a||null==b[e].getAttribute("data-gx-external-script")){var h=b[e].attributes.src;h&&h.value&&(h=h.value,"//:"!=h&&c.push(h))}return c}return[]},getIntersectionObserver:function(a){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?a&&a(window.IntersectionObserver):gx.http.loadScript(gx.util.resourceUrl(gx.basePath+
gx.staticDirectory+"intersection-observer.js",!1),function(){a&&a(window.IntersectionObserver)})},_init:function(){gx.evt.processing=!1;gx.evt.userReadyCnt=1;gx.evt._userReady=!1;gx.evt.on_ready(this,function(){var a,b=gx.util.browser,c=[];if(document.querySelectorAll)c=document.querySelectorAll("input[type='hidden']");else{var d=gx.dom.byTag("input");var e=0;for(a=d.length;e<a;e++)"hidden"==d[e].getAttribute("type")&&c.push(d[e])}e=0;for(a=c.length;e<a;e++)c[e].setAttribute("autocomplete","off");
f('input[type="file"]').on("click",function(){gx.fx.obs.notify("gx.validation")});if(b.isChrome())for(b=document.querySelectorAll("select"),e=0,a=b.length;e<a;e++)b[e].value||(c=b[e].querySelectorAll("option[selected]"))&&c.length&&(b[e].value=c[0].value);f('input[type="file"]').on("click",function(){gx.fx.obs.notify("gx.validation")})});this.TRANSITION_END_EVENT=gx.util.browser.isWebkit()?"webkitTransitionEnd":gx.util.browser.isOpera()?"oTransitionEnd":"transitionend";this.ANIMATION_END_EVENT=gx.util.browser.isWebkit()?
"webkitAnimationEnd":gx.util.browser.isOpera()?"oAnimationEnd":"animationend"}},evt:{enter:!1,lastKey:-1,lastControl:null,lastEvent:null,dummyCtrl:{},keyListeners:{},shiftPressed:!1,execLoad:!0,autoSkip:!1,controlKeys:[3,6,8,9,12,13,14,16,17,18,19,20,27,32,33,34,35,36,37,38,39,40,44,45,46],triggerKeys:[13,32],processing:!1,skipPromptCtrl:!0,touchTimer:null,userReadyCnt:0,_userReady:!1,userReadyThreshold:2E3,userReadyThresholdFast:400,hooks:[],types:{VALUECHANGED:1,VALUECHANGING:2},promptFocus:function(a){!0!==
gx.evt.evtPromptMouseDown&&(a=gx.evt.source(a),a=f("[data-gx-attached-ctrl]",a)[0])&&(a=(a.getAttribute("data-gx-attached-ctrl").split(" ")||[]).pop(),a=gx.O.getValidStructId(a),a>=gx.csv.lastId&&(gx.csv.lastId=a,gx.O.toValid=gx.csv.lastId+1,gx.csv.validateAll()));gx.evt.evtPromptMouseDown=!1},promptMousedown:function(){gx.evt.evtPromptMouseDown=!0},serialRunner:function(){var a=[];return{addTask:function(b){a.push(b);if(1===a.length)a[0]()},signalEndTask:function(){a.shift();if(0<a.length)a[0]()}}},
addHook:function(a,b,c,d){this.hooks.push({c:a,e:b,f:c,o:d})},removeHookByKey:function(a){f.each(gx.evt.hooks,function(b,c){c.o&&c.o.hookKey&&a===c.o.hookKey&&(gx.evt.detach(c.e,c.o,c.f),gx.evt.hooks[b]=void 0)});gx.evt.hooks=gx.evt.hooks.filter(function(b){return b})},attach:function(a,b,c,d,e){e=e||{};if("string"==typeof b){var h=c;d&&(h=c.closure(d));var r=gx.evt.hooks.length;if(e.single){var v=h,x=!1,D;h=function(){x||(D&&clearTimeout(D),gx.evt.detach(a,b,v,e),v.apply(this,arguments),gx.evt.hooks.splice(r,
1),x=!0)};e.timeout&&(D=setTimeout(h,e.timeout))}a.addEventListener?a.addEventListener(b,h,e.useCapture||!1):a.attachEvent?a.attachEvent("on"+b,h):a["on"+b]=h;this.addHook(a,b,h,e)}else if(gx.lang.isArray(b)){h=0;for(var k=b.length;h<k;h++)this.attach(a,b[h],c,d,e)}},on_ready:function(a,b){gx.fx.obs.addObserver("gx.onload",a,b)},onload:function(){gx.objectLoad().done(function(){gx.spa.start({listeners:{onnavigatestart:function(){gx.dom.addClass(document.body,"gx-spa-navigating")},onnavigate:function(){gx.dom.removeClass(document.body,
"gx-spa-navigating")},onbeforesend:function(a,b,c){gx.pO.MasterPage&&a.req.setRequestHeader(c,gx.pO.MasterPage.ServerClass)},onbeforeprocessresponse:function(a,b,c,d,e,h){gx.reinit(!h)},oncontentreplace:function(a,b,c,d,e,h,r,v){a=gx.lang.getType(d);h=(h=h==r?h:r)?gx.lang.getType(h.toLowerCase()):!1;var x=gx.ajax.getJsonResponse();x&&gx.fn.setJsonHiddens(null,x.gxHiddens,!1);a.prototype=new gx.GxObject;gx.setParentObj(new a);v?gx.setMasterPage(e):h&&gx.setMasterPage(new h);gx.ajax.clearJsonResponse();
x?gx.ajax.setJsonResponse({response:x,isPostBack:!1,afterCmpLoaded:function(){v&&(e.restoreTargetComponents(),e.restoreExoEventHandlers());gx.objectLoad(x.gxGrids,x.gxHiddens).done(function(){gx.pO.SetStandaloneVars()})},gxObject:gx.O}).done(function(){gx.fn.setFocusAfterLoad(!0)}):gx.objectLoad()}}});gx.livePrevWS._init()})},onready:function(a){if(gx.lang.emptyObject(a))if("complete"==document.readyState)gx.evt.onload();else setTimeout(function(){gx.evt.onready(null)},250);else if(gx.util.browser.isIE()&&
"complete"==document.readyState)gx.evt.onload()},_init:function(){gx.evt.oldDoPostDelay=gx.getNotificationDelay()+100;gx.evt.userReadyThresholdFast=gx.util.browser.isIE()?2E3:gx.evt.userReadyThresholdFast;document.gxReadyState="loading";gx.lang.doCallTimeout(function(){gx.evt.userReadyThreshold=gx.evt.userReadyThresholdFast},gx.evt,[],gx.evt.userReadyThreshold);gx.util.browser.isIE()&&(gx.util.browser.isCompatMode()||8>=document.documentMode||8>=gx.util.browser.ieVersion()&&!gx.util.browser.isWinCE())?
this.attach(document,"readystatechange",this.onready):9<=gx.util.browser.ieVersion()&&!gx.util.browser.isWinCE()||gx.util.browser.isFirefox()||gx.util.browser.isWebkit()||gx.util.browser.isOperaMini()?this.attach(document,"DOMContentLoaded",this.onload):gx.util.browser.isBlackBerry()?this.attach(window,"load",this.onload):gx.wi(function(){this.onready(null)},gx.evt);gx.wi(function(){this.attach(document,["touchstart"],this.ontouchstart);this.attach(document,"mousedown",this.onmousedown);this.attach(document,
["mousemove","touchmove"],this.onmousemove);this.attach(document,["mouseup","touchend"],this.onmouseup);this.attach(document,"click",this.onclick);this.attach(document,"dblclick",this.ondblclick);this.attach(window,"blur",this.onwindowblur);gx.dbg.performance&&!gx.util.browser.isBlackBerry()&&this.attach(window,"load",function(){gx.dbg.logPerf("onload","Page Loaded");gx.dbg.printPerformanceLog()})},gx.evt)}},define:function(a,b,c){var d=window||this,e=a.split("."),h=e.length;for(a=0;a<h-1;a++)"undefined"==
typeof d[e[a]]&&(d[e[a]]={}),d=d[e[a]];d[e[h-1]]=c;b||(d[e[h-1]].prototype=new gx.GxObject)},setParentObj:function(a){gx.pO=a;gx.O=gx.pO;gx.AjaxSecurity=gx.pO.AjaxSecurity;gx.OnSessionTimeout=gx.pO.OnSessionTimeout;gx.fx.obs.notify(gx.PARENT_OBJECT_EVT)},createParentObj:function(a){if(!gx.spa||!gx.spa.started){var b;a instanceof gx.GxObject||(b=new a);b&&this.setParentObj(b)}},setExecutableComponent:function(a){gx.spa&&gx.spa.started||gx.wi(function(){null==gx.pO&&(gx.setParentObj(gx.createComponent(a,
"")),gx.fn.objectOnload(void 0,!0))},this)},setMasterPage:function(a){gx.wpo(function(){null!=gx.pO&&(gx.pO.MasterPage=a,gx.fx.obs.notify(gx.SETMASTERPAGE_EVT))})},createMasterPage:function(a){gx.wpo(function(){var b;gx.spa.isNavigating()||(a instanceof gx.GxObject||(b=new a),b&&this.setMasterPage(b))},this)},addComponent:function(a,b){null!=gx.pO&&gx.pO.setWebComponent(a,b)},createComponent:function(a,b,c){var d=null;a=gx.lang.getType(a);if(null!=a){a.prototype=new gx.GxObject;var e=gx.csv.cmpCtx;
gx.csv.cmpCtx=b;d=new a(b);c&&d.setContainer(c);gx.csv.cmpCtx=e;d.serviceUrl=gx.fn.getControlValue(d.CmpContext+"_CMPPGM")}return d},getObj:function(a,b){return""==a?1==b?gx.pO.MasterPage:gx.pO:gx.pO.getWebComponent(a)},setGxO:function(){if(1==arguments.length&&"object"==typeof arguments[0])gx.O=arguments[0];else{var a=arguments[0];var b=arguments[1];gx.O=this.getObj(a,b)||gx.pO}gx.csv.cmpCtx=gx.O.CmpContext;return gx.O},setVar:function(a,b){gx.O.setVariable(a,b)},getVar:function(a){return gx.O.getVariable(a)},
prefixVar:function(a){return"gx.O."+a},unprefixVar:function(a){var b=n;b=b.exec(a);null!=b&&b[1]?a=b[1]:(b=g,b=b.exec(a),null!=b&&b[1]&&(a=b[1]));return a},getMessage:function(a){return void 0==gx.msg[a]?a:gx.msg[a]},setLanguageCode:function(a){gx.languageCode=a},setDateFormat:function(a){gx.dateFormat=a},setTimeFormat:function(a){gx.timeFormat=a},setCenturyFirstYear:function(a){gx.centuryFirstYear=a},setBlankWhenEmptyDate:function(a){gx.blankWhenEmpty=a},setDecimalPoint:function(a){gx.decimalPoint=
a},setThousandSeparator:function(a){gx.thousandSeparator=a},setStaticDirectory:function(a){gx.staticDirectory=a;if(""==gx.staticDirectory)gx.staticDirectory="/";else{var b=gx.staticDirectory.length;a=!gx.isabsoluteurl(a)&&"/"!=gx.staticDirectory.charAt(0);b="/"!=gx.staticDirectory.charAt(b-1);gx.staticDirectory=(a?"/":"")+gx.staticDirectory+(b?"/":"")}},getThemeElement:function(){return gx.dom.byId("gxtheme_css_reference")},updateTheme:function(){var a=gx.fn.getHidden("GX_THEME");a&&a!=this.theme&&
(this.theme=a,(a=gx.getThemeElement())&&0>a.href.search("/"+this.theme+".css")&&(a.href=a.href.replace(/[^/]*.css/,this.theme+".css")))},setTheme:function(a){var b=gx.util.browser,c=b.isIE();b=b.ieVersion();var d=gx.dom.fixes;this.theme=gx.fn.getHidden("GX_THEME");this.theme||(this.theme="");try{void 0===a&&d.resetFixesStyleElement();gx.HTML5&&d.html5(a);if(void 0===a){c&&(f(document.documentElement).addClass("ie"),f(document.documentElement).addClass("ie"+b),gx.runtimeTemplates&&!Modernizr.flexbox&&
f(document.documentElement).addClass("gx-align-fallback"));if(c&&10==b){var e=document.createElement("style");e.innerHTML="input::-ms-clear {display: none;}";document.body.appendChild(e)}d.setPopupMinWidth()}d.fixTableResets(a)}catch(h){gx.dbg.logEx(h,"gxapi.js","setTheme")}},typedOld:function(a,b,c){switch(c){case "int":return this.OldInteger(a,b);case "decimal":return this.OldDecimal(a,b,!0);case "date":return this.OldDate(a,b);case "dtime":return this.OldDateTime(a,b);default:return this.Old(a,
b)}},isInputEnabled:function(a){return a&&gx.evt.lastEvt==a?!0:!(gx.evt.processing&&!gx.csv.isvalidating()||gx.spa.isNavigating())},types:{numeric:0,character:1,date:2,dateTime:3,blob:4,varChar:5,longVarChar:6,bool:7,geolocation:8},domains:{url:"Url",email:"Email",phone:"Phone",address:"Address",geolocation:"Geolocation",component:"Component",feed:"Feed"},gen:{net:!1,netcore:!1,isDotNet:function(){return this.net},isDotNetCore:function(){return this.netcore},isRuby:m,isJava:function(){return!this.net&&
!this.netcore},resolveObjClass:function(a){var b=a;if(gx.gen.isDotNet()||gx.gen.isDotNetCore())b=a.replace(/\.aspx$/,"");gx.gen.isJava()&&gx.pO&&gx.pO.PackageName&&gx.text.startsWith(a,gx.pO.PackageName)&&(b=a.substring(gx.pO.PackageName.length+1));return b}},util:function(){var a=/^gx-image:\/\/(.*)/;return{executionContext:{getContext:function(){return gx.http.currentUrl()},changedContext:function(b){return b!==gx.util.executionContext.getContext()}},contentTypes:{txt:"text/plain",rtx:"text/richtext",
htm:"text/html",html:"text/html",xml:"text/xml",aif:"audio/x-aiff",au:"audio/basic",wav:"audio/wav",bmp:"image/bmp",gif:"image/gif",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",jfif:"image/pjpeg",tif:"image/tiff",tiff:"image/tiff",png:"image/x-png",mpg:"video/mpeg",mpeg:"video/mpeg",mov:"video/quicktime",qt:"video/quicktime",avi:"video/x-msvideo",exe:"application/octet-stream",dll:"application/x-msdownload",ps:"application/postscript",pdf:"application/pdf",tgz:"application/x-compressed",zip:"application/x-zip-compressed",
gz:"application/x-gzip"},compare:function(b,c,d){if(typeof b!=typeof d)return!1;if("string"==typeof b&&"like"==c)return c=d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),c=gx.text.replaceAll(gx.text.replaceAll(c,"%",".*"),"_","."),(new RegExp(c,"i")).test(b);switch(c){case ">":return b>d;case ">=":return b>=d;case "<":return b<d;case "<=":return b<=d;case "<>":return b!=d;default:return b==d}},isKnownContentType:function(b){for(var c in this.contentTypes)if(this.contentTypes[c]==b)return!0;return!1},
getContentTypeFromExt:function(b){b=b.split(/[#?]/)[0].split(".").pop().trim();return this.getContentType(b)},getContentType:function(b){if(gx.lang.emptyObject(b))return"text/html";b=b.toLowerCase();b=gx.text.trim(b);if(this.isKnownContentType(b))return b;var c=b.lastIndexOf(".");-1!=c&&(b=b.substring(c+1));b=this.contentTypes[b];return gx.lang.emptyObject(b)?"text/html":b},getFileName:function(b){var c=b.lastIndexOf("/"),d=b.lastIndexOf("\\");c=c>d?c:d;d=b.lastIndexOf(".");if(!b)return b;if(0>d||
c>d)d=b.length;return b.substring(c+1,d)},getFileType:function(b){var c=b.lastIndexOf("/"),d=b.lastIndexOf("\\"),e=b.lastIndexOf(".");return 0>e||e<c||e<d?"":b.substring(e+1)},getWindowInfo:function(){var b="",c=!0,d=!1;try{if(d=window.location!=window.parent.location?!0:!1)try{c=window.frameElement.id||window.top.document.body,b=window.name}catch(e){c=!1}}catch(e){}return{insideIframe:d,canAccessFrame:c,frameId:b}},browser:function(){var b=navigator.userAgent,c=/; rv.([0-9]+)/,d,e;return{w3c:!0,
ie5:!0,ie:-1!=b.indexOf("MSIE")||-1!=b.indexOf("Trident"),edge:-1!=b.indexOf("Edge"),ff:-1!=b.indexOf("Firefox"),winCE:-1!=b.indexOf("Windows CE"),iphone:-1!=b.indexOf("iPhone"),ipad:-1!=b.indexOf("iPad"),ipod:-1!=b.indexOf("iPod"),blackBerry:-1!=b.indexOf("BlackBerry"),operaMini:-1!=b.indexOf("Opera Mini"),opera:-1!=b.indexOf("Opera"),chrome:-1!=b.indexOf("Chrome"),android:-1!=b.indexOf("Android"),webkit:-1!=b.search(/webkit/ig),safari:-1!=b.indexOf("Safari")&&-1===b.indexOf("Chrome"),get GX_TAB_ID_HEADER(){return"X-Gx-Tabid"},
get tabId(){if(!gx.util_storage||!gx.util_storage.isSupported())return"";e=gx.util_storage.get_string("Gx-Tabid");e||(e=gx.guid.generate(),gx.util_storage.set_string("Gx-Tabid",e));return e},isIEStrict:function(){return this.ie},isIE:function(){return this.ie||this.edge},isEdge:function(){return this.edge},isSafari:function(){return this.safari},isFirefox:function(){return this.ff},isChrome:function(){return this.chrome},isWinCE:function(){return this.winCE},isIPhone:function(){return this.iphone},
isIPad:function(){return this.ipad},isAndroid:function(){return this.android},isBlackBerry:function(){return this.blackBerry},isOperaMini:function(){return this.operaMini},isOpera:function(){return this.opera},isWebkit:function(){return this.webkit},isSmartDevice:function(){return this.isWinCE()||this.isIPhone()||this.isBlackBerry()||this.isOperaMini()||this.isAndroid()},isCompatMode:function(){return"BackCompat"==document.compatMode},isOldIE:function(h){return gx.util.browser.isIE()&&gx.util.browser.ieVersion()<=
(h||8)},ieVersion:function(){var h=function(){if(this.ie)try{var r=b.indexOf("MSIE");if(0<=r){var v=b.indexOf(";",r),x=b.substring(r+5,v);return parseFloat(x,10)}var D=b.match(c);if(1<D.length)return parseFloat(D[1],10)}catch(k){gx.dbg.logEx(k,"gxapi.js","ieVersion")}else if(this.edge&&(D=b.match(/ Edge\/([0-9]+)\./),1<D.length))return parseFloat(D[1],10);return-1};d||(d=h.call(this));return d},chromeVersion:function(){if(this.isChrome()){var h=b.match(/Chrome\/([0-9]+)/);if(1<h.length)return parseFloat(h[1],
10)}},setupIE:function(){9<=this.ieVersion()&&!this.isCompatMode()&&"undefined"!==typeof Range&&!Range.prototype.createContextualFragment&&(Range.prototype.createContextualFragment=function(h){var r=document.createDocumentFragment(),v=document.createElement("div");r.appendChild(v);v.outerHTML=h;return r});"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},_init:function(){this.isWinCE()||(this.w3c=document.getElementById?!0:!1,this.ie5=
this.ie&&document.getElementById&&document.all?!0:!1);this.setupIE()}}}(),addOnce:function(b,c,d){void 0==b[d]&&(b[d]=c)},inArray:function(b,c){if(null==b||!gx.lang.isArray(c))return!1;if("function"==typeof c.indexOf)return-1!=c.indexOf(b);for(var d=c.length,e=0;e<d;e++)if(c[e]==b)return!0;return!1},pushOnceSorted:function(b,c){for(var d=!0,e=0,h=c.length;e<h;e++){if(b==c[e]){d=!1;break}if(b<c[e]){c.splice(e,0,b);d=!1;break}}d&&c.push(b)},lastArray:function(b){return 0<b.length?b[b.length-1]:null},
noParmsUrl:function(b){var c=b.indexOf("?");-1!=c&&(b=b.substring(0,c));return b},resolveUrl:function(b){if(!b)return b;b=gx.util.imageUrl(b);return gx.isabsoluteurl(b)?b:gx.isRelativeToHost(b)?0!=b.toLowerCase().indexOf("/"+gx.basePath.toLowerCase())?gx.util.resourceUrl(gx.basePath+b,!1):b:gx.util.resourceUrl(gx.basePath+gx.staticDirectory+b,!1)},imageName:function(b){return(b=a.exec(b))?b[1].replaceAll(".","_"):null},imageUrl:function(b){var c=a.exec(b);return c?gx.uc.getComputedImagePath(c[1].replaceAll(".",
"_")):b},resourceUrl:function(){var b;return function(c,d){b||(b=new RegExp(gx.basePath+"(/|$)","i"));if("undefined"==typeof c)return"";if(-1!=c.indexOf("://")||"."==c.charAt(0))return gx.text.startsWith(c,gx.basePath)?c.substring(gx.basePath.length):c;var e="/"!=gx.basePath.charAt(gx.basePath.length-1),h=""==gx.basePath?0:c.search(b);if(0==h&&!d)return("/"==c.charAt(0)?"":"/")+c;if(-1!=h||d){d=-1!=h&&0<gx.basePath.length?gx.text.replaceAll(c.substring(h+gx.basePath.length),"\\","/"):c;if("/"==c.charAt(0))return location.protocol+
"//"+location.host+c;c=0<gx.basePath.length&&"/"!=gx.basePath.charAt(0);e=e&&"/"!=d.charAt(0);return location.protocol+"//"+location.host+(c?"/":"")+gx.basePath+(e?"/":"")+d}return c}}(),sameAppUrl:function(b){b=new this.Url(b);return b.isRelative()?!0:b.isSameApp(location.href)},removeBaseUrl:function(b){var c="/"!=gx.staticDirectory.charAt(gx.staticDirectory.length-1),d=0<gx.basePath.length;var e="/"==gx.staticDirectory.charAt(0)?gx.staticDirectory.substring(1):gx.staticDirectory;e=(new RegExp("(?:/)?(?:"+
gx.basePath+(d?"/":"")+"(?:"+e+(c?"/":"")+")?)?((?:[\\S]*))")).exec(b);null!=e&&e[1]&&(b=e[1]);return b},getIFrameEmptySrc:function(){return"https:"==location.protocol&&gx.util.browser.isIE()&&6>=gx.util.browser.ieVersion()?"gx_blank.html":"about:blank"},Url:function(){var b=/^(([^:\/\?#]+):)?(\/\/([^\/\?#]*))?([^\?#]*)(\?([^#]*))?(#(.*))?$/,c=/^(([^@]+)@)?([^:]+)(:(.+))?$/,d=function(e){this.url=e;this.user=this.hash=this.query=this.path=this.port=this.host=this.protocol="";this.isRelative=function(){return gx.lang.emptyObject(this.host)};
this.isSameApp=function(h){h=new gx.util.Url(h);return this.protocol==h.protocol&&this.host==h.host};(function(h,r){var v=b;v=v.exec(r);if(r=!gx.lang.emptyObject(v))if(h.protocol=v[2]?v[2]:"",r=v[4]?v[4]:"",h.path=v[5]?v[5]:"",h.query=v[7]?v[7]:"",h.hash=v[9]?v[9]:"",v=c,v=v.exec(r),r=!gx.lang.emptyObject(v))h.user=v[2]?v[2]:"",h.host=v[3]?v[3]:"",h.port=v[5]?v[5]:""})(this,e)};d.parseWithAnchor=function(e){var h=document.createElement("a");h.href=e;!h.protocol&&gx.util.browser.isIE()&&(h.href=h.href);
return h};return d}(),regExp:{isMatch:function(b,c){return null!==(new RegExp(c)).exec(b)},replace:function(b,c,d){return b.replace(c,d)},split:function(b,c){return b.split(c)},matches:function(b,c){b=(new RegExp(c)).exec(b);return null!==b?b:[]}},autoRefresh:{arTimer:null,getProps:function(){var b=gx.fn.getHidden("_GxRefreshTimeout");null!=b&&(b=gx.json.evalJSON(b),b.Time=parseInt(b.Time));return b},install:function(){var b=this.getProps();null!=b&&(this.create(),"focus"==b.Type&&gx.evt.attach(window,
"blur",this.destroy))},create:function(){if(null==this.arTimer){var b=this.getProps();null!=b&&(this.arTimer=setTimeout(function(){gx.http.reload()},1E3*b.Time))}},destroy:function(){null!=gx.util.autoRefresh.arTimer&&(window.clearTimeout(gx.util.autoRefresh.arTimer),gx.util.autoRefresh.arTimer=null)}},accessKey:function(b){var c="";if(-1!=b.indexOf("&"))for(var d=b.length,e=0;e<d-1;e++)if("&"==b[e]&&"&"!=b[e+1]){c+=b[e+1];break}return c},accessKeyCaption:function(b){var c="";if(-1==b.indexOf("&"))return b;
for(var d=b.length,e=0;e<d-1;e++)if("&"==b[e]&&"&"!=b[e+1]){c+=b.substring(e+1);break}else c+=b[e];return c},invalidFunc:function(b){throw"gxInvalidFunc: "+b;},urlValue:function(b){var c=b;"string"!=typeof c&&(c=gx.fn.getControlValueInt(b));return encodeURIComponent(c)},help:function(b){open(b,"gxHelpWindow","toolbar=no,location=no,directories=no,status=yes,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no")},_init:function(){this.browser._init()}}}(),guid:{generate:function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,
function(a){return(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)})}},lang:{inherits:function(a,b,c){var d=a.prototype;a.prototype=new b;for(var e in d)"undefined"==typeof a.prototype[e]&&(a.prototype[e]=d[e]);"undefined"==typeof a.prototype.base&&(a.prototype.base=b);!0===c&&(a.prototype.constructor=function(){b.prototype.constructor.apply(this,arguments);d.constructor.apply(this,arguments)})},apply:function(a,b){if(a&&b&&"object"===typeof b)for(var c in b)a[c]=b[c];return a},
isEmpty:function(a){return a instanceof gx.date.gxdate?0==(new gx.date.gxdate("")).compare(a):"number"==typeof a?0==a:"undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal?gx.num.compare(a,0):""==a},isBigDecimal:function(a){return void 0!==gx.num.dec&&a instanceof gx.num.dec.bigDecimal},instanceOf:function(a,b){if(null==a||null==b)return!1;if(a instanceof b||b==String&&"string"==typeof a||b==Number&&("number"==typeof a||"undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)||
b==Array&&gx.lang.isArray(a)||b==Function&&"function"==typeof a)return!0;if("string"==typeof a||"number"==typeof a||gx.lang.isArray(a))return!1;for(a=a.base;"undefined"!=typeof a;){if(a==b)return!0;a=a.base}return!1},clone:function(a){var b={},c;for(c in a)b[c]=a[c];return b},cloneDeep:function(a){if(gx.lang.isArray(a)){var b=[];a.forEach(function(e,h){b[h]=gx.lang.cloneDeep(e)})}else if(a instanceof gx.date.gxdate)b=gx.json.serializeGXdateJson(a);else{b={};for(var c in a)if(Object.hasOwnProperty.call(a,
c)){var d=a[c];"function"!==typeof d&&(b[c]=d instanceof Object?gx.lang.cloneDeep(d):d)}}return b},isDateType:function(a){return"date"==a||"dtime"==a},isNumericType:function(a){return"int"==a||"decimal"==a},isBooleanType:function(a){return"boolean"==a||"bool"==a},isFixedCharacterType:function(a){return"char"==a||"bits"==a},isCharacterType:function(a){return"char"==a||"svchar"==a||"bits"==a},isArray:function(a){return a&&"number"==typeof a.length&&"function"==typeof a.splice},isVstruct:function(a){return a.v2v&&
a.gxvar},booleanValue:function(a){return 1==a||0==a?a:"string"==typeof a&&"true"==a.toLowerCase()?!0:!1},gxBoolean:function(a){if("undefined"==typeof a)return!1;if("boolean"==typeof a)return a;if("number"==typeof a){if(0==a)return!1}else if("string"==typeof a&&(""==a||"false"==a.toLowerCase()||"0"==a.replace(/^ */,"").replace(/ *$/,"")))return!1;return!0},emptyNum:function(a){return a&&0===a||!a},emptyObj:function(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},emptyObject:function(a){return void 0===
a||null==a||""==a||"number"==typeof a&&isNaN(a)?!0:!1},emptyforType:function(a,b){return b&&void 0==a?"int"===b?0:"char"===b?"":"date"===b||"dtime"===b?gx.date.nullDate():a:a},supEval:function(a,b){var c=null;c=b instanceof String||"string"==typeof b?a[b]:b;return function(){return c.apply(a,arguments)}},getType:function(a){var b=null;try{for(var c=0,d=a.split("."),e=d.length;null===b&&c<e;)b=this.getTypeImpl(window,d,c++,e)}catch(h){gx.dbg.logEx(h,"gxapi.js","getType")}return b},getTypeImpl:function(a,
b,c,d){for(var e=null;c<d;c++)if(a[b[c]])a=a[b[c]];else break;c===d&&a&&"function"===typeof a&&(e=a);return e},doEval:function(a,b){b=b||window;return b.execScript?b.execScript(a):eval.call?eval.call(b,a):eval(a)},doCall:function(){try{for(var a=arguments[0],b=[],c=arguments.length,d=1;d<c;d++)b.push(arguments[d]);return a.apply(this,b)}catch(e){gx.dbg.logEx(e,"gxapi.js","doCall")}},doExecTimeout:function(a){clearTimeout(a.t);a.f.call()},doCallTimeout:function(a,b,c,d){a=a.closure(b,c);d=setTimeout(a,
d);return{f:a,t:d}},requestAnimationFrame:function(a,b){a=b?a.closure(b):a;window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,10)},htmlDecode:function(){var a=document.createElement("div");return function(b){b&&"string"===typeof b&&(b=escape(b).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),a.innerHTML=b,b=f(a).text(),f(a).text(""));return unescape(b)}}(),arrayUnique:function(a,b){a=a.concat();for(var c=0;c<a.length;++c)for(var d=c+1;d<a.length;++d)(b&&b(a[c],
a[d])||a[c]===a[d])&&a.splice(d--,1);return a},objToArray:function(){var a=function(b){return[b]};return function(b){return f.map(b,a)}}()},cache:function(){var a=!1;return{exceptionsRegEx:!1,remoteFiles:{},inlineCode:{},isCacheable:function(b){return this.exceptionsRegEx?!!b&&-1==b.search(this.exceptionsRegEx):!0},addRemoteFile:function(b){this.isCacheable(b)&&(b=gx.util.noParmsUrl(b),b=gx.util.resourceUrl(b,!0),this.remoteFiles[b]=!0)},addLoadedFile:function(b){this.isCacheable(b)&&(b=gx.util.noParmsUrl(b),
b=gx.util.resourceUrl(b,!0),this.remoteFiles[b]=!0)},removeAllRemoteFiles:function(){this.remoteFiles={}},removeRemoteFiles:function(b){var c;if(b)for(c in this.remoteFiles)b.exec(c)&&(this.remoteFiles[c]=!1)},removeRemoteFile:function(b){b=gx.util.noParmsUrl(b);b=gx.util.resourceUrl(b,!0);this.remoteFiles[b]=!1},fileLoaded:function(b){b=gx.util.noParmsUrl(b);b=gx.util.resourceUrl(b,!0);return this.remoteFiles[b]?!0:!1},updateStyles:function(b,c){for(var d=[],e=b.length,h=0;h<e;h++){var r=b[h];if(!gx.lang.emptyObject(r)){for(var v=
!1,x=c.length,D=0;D<x;D++)if(r==c[D]){v=!0;break}v||d.push(r)}}b=gx.staticDirectory;"/"==b.charAt(0)&&(b=b.substring(1));e=d.length;for(c=0;c<e;c++)h=d[c],"/"!=h.charAt(0)&&(h=b+h),this.removeRemoteFile(h)},addInlineCode:function(b){this.inlineCode[b]=!0},deleteInlineCode:function(b){delete this.inlineCode[b]},codeLoaded:function(b){return this.inlineCode[b]?!0:!1},_init:function(){if(!a){a=!0;var b=gx.staticDirectory;"/"==b.charAt(0)&&(b=b.substring(1));for(var c=gx.dom.scripts(!0),d=c.length,e=
0;e<d;e++){var h=c[e];gx.lang.emptyObject(h)||("/"==h.charAt(0)||gx.isabsoluteurl(h)||(h=b+h),this.addRemoteFile(h))}c=gx.dom.styles();d=c.length;for(e=0;e<d;e++)h=c[e],gx.lang.emptyObject(h)||("/"==h.charAt(0)||gx.isabsoluteurl(h)||(h=b+h),this.addRemoteFile(h))}}}}(),json:{_nonSerializables:[],setNonSerializable:function(a){this.isNonSerializable(a)||this._nonSerializables.push(a)},isNonSerializable:function(a){for(var b=this._nonSerializables.length,c=0;c<b;c++)if(this._nonSerializables[c]==a)return!0;
return!1},evalJSON:function(a,b){try{return window.JSON&&!b?void 0===a?a:JSON.parse(a):eval("("+a+")")}catch(c){gx.dbg.logEx(c,"gxapi.js","evalJSON")}return a},evalValidJSON:function(a){return eval("("+a+")")},serializeGXdateJson:function(a){return a instanceof gx.date.gxdate?(a.TimeFmt=24,a.getStringWithFmt("Y4MD").replaceAll("/","-")+"T"+(a.HasTimePart?a.getTimeString(!0,!0,!0,0<a.Value.getMilliseconds()):"00:00:00")):null},serializeSDTJson:function(a,b,c){a=gx.lang.cloneDeep(a);a=gx.O.applySDTMapping(a,
b,!1);return gx.json.serializeJson(a,c,function(d){return d instanceof gx.date.gxdate?'"'+gx.json.serializeGXdateJson(d)+'"':null})},serializeJson:function(a,b,c){if(b&&window.JSON)return JSON.stringify(a);var d=this.objToJson(a);if(null===d)d=this.arrayToJson(a);else return d;if(null===d){if("function"==typeof a)return null;d=[];for(var e in a)if(b||!this.isNonSerializable(e)){var h=this.objToJson(e,!0);if(null!==h){var r=this.serializeJson(a[e]);c&&(r=c(a[e])||r);"string"==typeof r&&d.push(h+":"+
r)}}return"{"+d.join(",")+"}"}return d},objToJson:function(a,b){var c=typeof a;if(b){if(!gx.lang.emptyObject(a)){if("string"==c)return gx.text.escapeString(a);if("number"==c)return'"'+a+'"';if("undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)return'"'+a.toString()+'"'}}else{if("undefined"==c)return"null";if("string"==c)return gx.text.escapeString(a);if("number"==c||"boolean"==c)return a.toString();if("undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)return'"'+a.toString()+
'"';if(null===a)return"null";if("function"==typeof a.json&&(b=a.json(),a!==b))return this.serializeJson(b)}return null},arrayToJson:function(a){if(Array.isArray(a)){for(var b=[],c=a.length,d=0;d<c;d++){var e=this.serializeJson(a[d]);"string"!=typeof e&&(e="undefined");b.push(e)}return"["+b.join(",")+"]"}return null},SDTFromJson:function(a,b,c,d){(c=gx.json.objFromJson(a,c,d))&&gx.O.applySDTMapping(a,b,!0);return c},objFromJson:function(a,b,c){try{var d=function(r,v){if(gx.lang.isArray(r))r.forEach(function(D,
k){D instanceof Object?(v[k]=v[k]||{},d(D,v[k])):v[k]=D});else for(var x in r)v[x]=r[x]},e=this.evalValidJSON(b);if(Array.isArray(a)&&Array.isArray(e))for(;a.length>e.length;)a.shift();else for(var h in a)"function"!=typeof a[h]&&delete a[h];d(e,a);return!0}catch(r){return gx.dbg.logEx(r,"gxapi.js","objFromJson"),c&&c.push({Id:"FromJson Error",Description:gx.dbg.exTxt(r),Type:0}),!1}}},dbg:{lastTime:0,enabled:!1,performance:!1,dbgWin:null,outputFunc:null,hshTimes:null,performanceLog:[],_init:function(){this.hshTimes=
[];this.hshTimes.onload=(new Date).getTime()}},stackId:function(a){return"stack_"+gx.util.getWindowInfo().frameId+a},stackSupported:function(){return(gx.evt.clinav||"true"==gx.fn.getHidden("GX_CLI_NAV"))&&gx.call_stack_storage.supported},csv:{},http:{currentUrl:function(){return""+location.origin+location.pathname},loadScript:function(a,b,c){var d=b,e=!1,h=!1,r;if("string"!==typeof a){var v=a.callback;e=a.isExternal;h=a.isModule;var x=a.attris;a=a.url;d=function(){v&&v();b()}}var D=gx.dom.byTag("head")[0],
k=f("script[src='"+a+"']"),p=!0;if(0<k.length&&!c)if(e)k.remove();else{var w=k.get(0);p=!1}c=function(q){var C=function(){q();w.removeAttribute("data-gx-loading-script")};"function"==typeof q&&(w.addEventListener?gx.evt.attach(w,["load","error"],C,{userCapture:!1}):w.onreadystatechange=function(){"loaded"!=w.readyState&&"complete"!=w.readyState||C()})};if(w)null!==w.getAttribute("data-gx-loading-script")?c(d):d();else{w=document.createElement("script");w.type=h?"module":"text/javascript";w.src=a;
if(x)for(r in x)x.hasOwnProperty(r)&&w.setAttribute(r,x[r]);d&&w.setAttribute("async","");e&&w.setAttribute("data-gx-external-script","");c(d);p&&(D.appendChild(w),w.setAttribute("data-gx-loading-script",""))}}},storage:function(a){this._prefix=a;this.supported=!1;this.isSupported=function(){return this.supported};this.set_string=function(b,c){this.supported&&(this._store[this._prefix+b]=c)};this.get_string=function(b){return this.supported?this._store[this._prefix+b]:null};this.set=function(b,c){this.set_string(b,
gx.json.serializeJson(c))};this.get=function(b){return(b=this.get_string(b))?gx.json.evalJSON(b):null};this.remove=function(b){this.supported&&this._store.removeItem(this._prefix+b)};try{if("undefined"!=typeof window.sessionStorage)try{this._store=window.sessionStorage,window.sessionStorage.setItem("storage.test",!0),window.sessionStorage.removeItem("storage.test"),this.supported=!0}catch(b){gx.http.setCookie("GXLocalStorageSupport","false",1,!1)}}catch(b){gx.dbg.logEx(b,"gxapi.js","storage")}},_setBasePath:function(){for(var a=
gx.dom.scripts(),b=null,c=0,d=a.length;c<d;c++)if(0<=a[c].indexOf("gxgral.js")||0<=a[c].indexOf("gxcore.js")||0<=a[c].indexOf("gxapiSD.js")){b=a[c];break}a=c="";if(!gx.isRelativeToHost(b)||gx.isabsoluteurl(b))c=location.pathname.lastIndexOf("/"),c=1<c?location.pathname.substring(1,c):"";else{b=b.split("/");d=location.pathname.split("/");b.splice(b.length-1,1);d.splice(d.length-1,1);for(var e=0,h=d.length;e<h;e++)if(d[e]==b[e])c=c+(""==c?"":"/")+d[e];else if(gx.gen.isJava()&&"servlet"==d[e])a=d[e];
else break}gx.basePath=c;gx.servletBasePath=a},objectLoad:function(a,b){var c=f.Deferred();if(!gx.evt.execLoad)return c.resolve(),c.promise();var d=function(){gx.sec.loadKey();void 0===gx.runtimeTemplates&&(gx.runtimeTemplates=0<f("div[data-abstract-form]").length);var e=!0;gx.setTheme();gx.html.applyCustomHTMLAttributes();gx.fx.obs.addObserver("webcom.render",this,function(h){if(h=h.getContainer()){gx.setTheme(h);gx.html.applyCustomHTMLAttributes(h);var r=function(){"undefined"!=typeof gx.pendingCmps&&
(--gx.pendingCmps,0===gx.pendingCmps&&gx.fx.obs.notify("webcom.all_rendered"))};e||(gx.pendingCmps=gx.pendingCmps||0,gx.pendingCmps+=1,gx.plugdesign.applyTemplateObject({selector:"#"+h.id,observerKey:h.id,deferred:!0}).then(r))}});gx.fx.obs.addObserver("grid.onafterrender",this,function(h,r){r||gx.dom.fixes.fixTableResets(h.container)});delete gx.evt.redirecting;gx.ajax._init();gx.grid._init();gx.evt.attach(window,"pagehide",gx.evt.onunload);gx.fn.setFocusInit();gx.dom.fixes.createLegacyNotification();
gx.cache._init();gx.fn.installComponents(!0,b);gx.http.loadStyles();a&&gx.fn.loadJsonGrids(a,!1);gx.plugdesign.init().done(function(){if("undefined"!=typeof gx.StorageTimeZone&&gx.StorageTimeZone!=gx.NULL_TIMEZONEOFFSET){var h=jstz.determine().name();!gx.lang.emptyObject(h)&&gx.http.getCookie("GxTZOffset")!=h&&gx.http.setCookie("GxTZOffset",h,365,!1,"/")&&gx.config.timezone.reload&&gx.http.reload()}gx.evt.attach(window,"load",gx.http.applyDeferredStyles);gx.fn.objectOnload();gx.goReady(function(){gx.evt.setReady(!0,
"goReady")});document.gxReadyState="complete";gx.util.autoRefresh.install();1!=gx.applyingStyles&&gx.lang.requestAnimationFrame(function(){gx.fn.setOpacity("reset","body")});gx.fx.obs.notify("gx.onload");f(document).ready(function(r){gx.dom.indexElements()});gx.evt.userOnload();gx.fn.setFocusOnload();gx.fx.delayedSuggest();gx.http.doCommands();e=!1;c.resolve()})};gx.popup?gx.goInteractive():gx.http.loadScript(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"gxi.js",!1),function(){gx.goInteractive()});
gx.wpo(function(){d()});return c.promise()},objectUnload:function(a){gx.fx.obs.notify("gx.onunload");gx.http.saveState(!0);gx.evt.clearHooks();gx.fx.notifications.deinit();gx.fx.obs.removeAll();gx.util.autoRefresh.destroy();gx.fn.objectOnUnload(a);gx.plugdesign.deinit();gx._deinit();f(document).off("keypress keyup input");gx.evt.detach(document,"keydown",gx.evt.onkeypress_hdlr);gx.fn.clearPromptlisteners();gx.evt.userReadyCnt=0},_init_interactive:function(){gx.evt.dispatcher.initialize();gx.base64._init();
gx.sec._init();gx.geolocation._init();gx.popup._init();gx.livePrevWS._init()},_init:function(){gx.wi(gx._init_interactive,gx);gx.lang.apply(this,{oldValues:[],oldKeyValues:[],newRows:[],suggestControls:{},disabledControls:[],usrPtys:[],usrFocusControl:"",currentRows:[],attachedControls:[],theme:""});gx.dbg._init();gx.dom._init();gx.util._init();gx.evt._init();gx._setBasePath();gx.date._init();gx.html.controls._init();gx.call_stack_storage=new gx.storage("gx_call_stack");gx.util_storage=new gx.storage("gx_util_storage")},
_deinit:function(){if(gx.popup.ispopup()&&gx.evt.execLoad||gx.dom.shouldPurge()){gx.dom.purgeElement(document.body);gx.dom.purgeElement(gx.dom.form());for(var a=["onblur","onclick","onfocus","onchange"],b=gx.fn.getFormElements(),c=0,d=b.length;c<d;c++)gx.dom.purgeElement(b[c],a);b=gx.dom.byTag("span");c=0;for(d=b.length;c<d;c++)gx.dom.purgeElement(b[c],a);b=gx.dom.byTag("img");c=0;for(d=b.length;c<d;c++)gx.dom.purgeElement(b[c],a)}gx.dom._deinit();gx.csv._deinit();gx.evt._deinit();gx.grid._deinit();
gx.printing._deinit();gx.core.audio._deinit();gx.O=null;gx.pO=null},reinit:function(a){gx.pO.clean(a);gx.objectUnload(a);gx._init()}}}(jQuery);gx.$.extend(gx.dbg,gxdbg);Object.defineProperty(gx.evt,"userReady",{get:function(){return gx._isReadyUI()}});
gx.plugdesign=function(f){var n={},g=!1,m,a,b=1,c={},d={},e=function(r,v){return function(x){var D=r[x.property],k;D&&(k=D[x.control.id]);!k&&D&&(k=D[x.control.name]);k&&(D=!0===k.fn.call(k.template,x.control,x.value),v&&(x.cancel=D))}},h=function(r,v){v=v||{};!0===v.deferred&&window.requestIdleCallback?window.requestIdleCallback(r):gx.lang.requestAnimationFrame(r)};return{init:function(){gx.plugdesign.initialized=!0;gx.fx.obs.addObserver("gx.plugdesign.onafterapplytemplate",this,gx.plugdesign.fixBootstrapGridLayout.closure(this));
gx.fx.obs.addObserver("gx.control.onbeforepropertychange",this,gx.plugdesign.onBeforePropertyChange);gx.fx.obs.addObserver("gx.control.onafterpropertychange",this,gx.plugdesign.onAfterPropertyChange);return gx.plugdesign.applyTemplateObject()},deinit:function(){gx.fx.obs.deleteObserver("gx.control.onbeforepropertychange",this,gx.plugdesign.onBeforePropertyChange);gx.fx.obs.deleteObserver("gx.control.onafterpropertychange",this,gx.plugdesign.onAfterPropertyChange);gx.plugdesign.initialized=!1;delete gx.runtimeTemplates},
onBeforePropertyChange:e(c,!0),onAfterPropertyChange:e(d,!1),registerTemplate:function(r){n[r.name]=r},unRegisterTemplate:function(r){delete n[r];gx.plugdesign.definition.templates=f.grep(gx.plugdesign.definition.templates,function(v){return v!==r})},getDOMContext:function(r,v,x,D,k,p){var w;v={};p&&(v.text=f(r).text());p=0;for(w=r.attributes.length;p<w;p++){var q=r.attributes[p];v[q.name]=q.value}v.el=r;x&&(v.outerHTML=r.outerHTML);D&&(v.innerHTML=r.innerHTML);k&&(v=k.call(this,v,r)||v);return v},
assingUserAPI:function(r,v){v.fnc_isRO=r.fnc_isRO},getElements:function(r,v,x,D){r="function"==typeof r.selector?r.selector(v?v:""):v&&!r.global?f(v).find(r.selector):f(r.selector);return x?r.not(x):r},shouldApplyOnElement:function(r,v){return"function"==typeof v.selector?this.getElements(v).is(r):f(r).is(v.selector)},applyTemplateOnElement:function(r,v,x){x=x||{};var D=f.Deferred();h(function(){if("string"==typeof r&&(r=n[r],!r)){D.resolve();return}if(!v.parentNode)return D.resolve(),!1;if(!0!==
x.checkInclusion||this.shouldApplyOnElement(v,r)){var k=gx.plugdesign.getDOMContext(v,k,r.outerHTML,r.innerHTML,r.setContext);r.apply(v,k);r.initialize&&r.initialize(k);if(r.listeners){var p=r.listeners,w;k="function"==typeof p.control?p.control(k):p.control;if(p.before)for(w in p.before)p.before.hasOwnProperty(w)&&(c[w]||(c[w]={}),c[w][k]={id:k,fn:p.before[w],template:r});if(p.after)for(w in p.after)p.after.hasOwnProperty(w)&&(d[w]||(d[w]={}),d[w][k]={id:k,fn:p.after[w],template:r})}}D.resolve()}.closure(this),
x);return D},applyTemplateSelection:function(r,v,x,D){D=D||{};var k=f.Deferred(),p=[],w="data-gx-tpl-applied-"+r.name,q=this.getElements(r,v,x,D);!0===r.onDemandInvoke||r.reDraw||(q=q.not("["+w+"]"));q.each(function(C,B){if(B)if("function"==typeof r.reDraw&&null!==B.getAttribute(w)){var N=gx.plugdesign.getDOMContext(B,N,!1,!1,r.setContext);r.reDraw(N)}else p.push(gx.plugdesign.applyTemplateOnElement(r,B,D))});f.when.apply(f,p).done(function(){r.outerHTML&&(q=this.getElements(r,v,x,D));q.attr(w,"");
k.resolve()}.closure(this));return k},applyClassMapOnElement:function(r,v){var x,D;r.initialize&&(x=gx.plugdesign.getDOMContext(v,x,!1,!1,r.setContext));if(Array.isArray(r.cssClass)){var k=0;for(D=r.cssClass.length;k<D;k++)gx.dom.addClass(v,r.cssClass[k])}else gx.dom.addClass(v,r.cssClass);r.initialize&&r.initialize(x)},applyClassSelection:function(r,v,x,D){var k=function(p){"Class"==p.property&&gx.dom.matchesSelector(p.control,r.selector)&&gx.plugdesign.applyClassMapOnElement(r,p.control)};this.getElements(r,
v,x,D).each(function(p,w){w&&(gx.plugdesign.applyClassMapOnElement(r,w),gx.plugdesign.assingUserAPI(r,w),gx.fx.obs.addObserver("gx.control.onafterpropertychange",this,k,{unique:!1,observerKey:D.observerKey}))})},controlValueChanged:function(r,v){r&&gx.lang.requestAnimationFrame(function(){gx.fx.obs.notify("gx.control.onafterpropertychange",[{control:r,property:"Value",value:v}])})},applyControlValue:function(r,v){gx.fn.setControlValue(r.id,v);gx.html.onchange(r,v)},applyTemplates:function(r,v,x,D,
k){k=k||{};var p=f.Deferred();if(0===r.length)return p.resolve();r=f.map(r,function(w){var q=f.Deferred();"string"==typeof w?w=n[w]:(w.name=w.name||"auto-generated-"+b++,w=new gx.plugdesign.Template(w));if(!D||"function"==typeof D&&D(w)){var C=function(){gx.plugdesign.applyTemplateSelection(w,v,x,k).done(function(){q.resolve()})};!0===k.deferred?h(C):(C(),q.resolve())}else q.resolve();return q});!0===k.deferred?f.when.apply(f,r).done(function(){p.resolve()}):p.resolve();return p},applyClassMaps:function(r,
v,x,D,k){var p=f.Deferred(),w=function(C,B){gx.plugdesign.applyClassSelection(B,v,x,k)},q=function(){r=f.grep(r,D||gx.trueFn);f.each(r,w);p.resolve()};!0===k.deferred?h(q):q();return p},applyTemplateObject:function(r){r=r||{};var v=r.selector,x=r.excluded,D=r.templateSelector,k=r.classMapSelector,p=f.Deferred(),w=f.Deferred();D=D||function(y){return!0!==y.onDemandInvoke};if(!gx.runtimeTemplates||!gx.plugdesign.initialized)return p.resolve().promise();if(g){var q=this.applyTemplates(m,v,x,D,r);var C=
this.applyClassMaps(a,v,x,k,r);p.resolve()}else{var B=gx.plugdesign.definition;B.css&&f.each(B.css,function(y,H){gx.http.loadStyle(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+H+"?"+gx.gxBuild,!1),!1,!0)});var N=[];B.js&&f.each(B.js,function(y,H){N.push(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+H+"?"+gx.gxBuild,!1))});var u=jQuery;jQuery=gx.$;gx.http.loadScripts(N,function(){g=!0;m=B.templates||[];a=B.class_maps||[];q=this.applyTemplates(m,v,x,D,r);C=this.applyClassMaps(a,v,x,void 0,
r);jQuery=u;p.resolve()}.closure(this))}f.when.apply(f,[p,q,C]).done(function(){gx.fx.obs.notify("gx.plugdesign.onafterapplytemplate",[r]);w.resolve()});return w.promise()},fixBootstrapGridLayout:function(){0===f(".container-fluid, .container").length&&f(".row").first().parent().toggleClass("container-fluid",!0)},Template:function(){var r=function(v){var x,D=[];v=v||{};if(v.name){if(v.selector){if(v.listeners){var k=v.listeners;if(!k.control&&(k.before||k.after)){gx.dbg.write("If a visible or enabled handler is specified, a control must be specified too",
!0);return}}this.preProcessTemplate=function(){var p=this.template,w=/\{\{\$(\w+)\$\}\}/g,q,C=0;for(D=[];null!==(q=w.exec(p));)D[C]=q[1],p=p.replace(q[0],'<span id="hook_'+C+'"></span>'),C++;return p};this.postProcessTemplate=function(p){var w;if(D){var q=0;for(w=D.length;q<w;q++){var C=p[D[q]];var B=f("#hook_"+q);C&&B.after(C);B.remove()}}};this.apply=function(p,w){var q=gx.util.browser.isIE(),C=!1;!x&&this.template&&(x=this.preProcessTemplate(),Mustache.parse(x));if(x){var B=Mustache.render(x,w);
if("inner"==this.applyTo){if(q)for(;p.firstChild;)p.removeChild(p.firstChild);p.innerHTML=B}else C=p===document.activeElement,p.parentNode&&!q?p.outerHTML=B:f(p).replaceWith(B);this.postProcessTemplate(w);C&&gx.fn.setFocus(p)}};gx.lang.apply(this,v);return this}gx.dbg.write("A selector must be specified",!0)}else gx.dbg.write("A name must be specified",!0)};r.prototype={name:"",selector:"",template:"",applyTo:"outer",outerHTML:!1,innerHTML:!1,global:!1,onDemandInvoke:!1,setContext:gx.emptyFn,initialize:gx.emptyFn,
listeners:{}};return r}()}}(gx.$);
gx.plugdesign.definition={css:[],js:[],templates:"labels atts-vars readonly-atts-vars checkbox radio-button prompt prompt-trigger datepicker geolocation multimedia-upload navbar navbar-textblock-link navbar-textblock-text textarea-auto-expand image usercontrol errorviewer password-atts-vars".split(" "),class_maps:[{selector:".control-group",cssClass:"form-group"},{selector:'.gx-attribute > input:not(.GeoLocOption):not([type="image"]):not([type="checkbox"]), .gx-attribute > select, .gx-attribute > textarea,.gx-attribute > .input-group > input, .gx-attribute > .input-group > select, .gx-attribute > .input-group > textarea, .gx-attribute > .dp_container input',cssClass:"form-control"},
{selector:"form",cssClass:"form-horizontal"},{selector:"div.gx-standard-grid > table",cssClass:"table-responsive",global:!0,first:!0},{selector:'.gx-button input, input[type="button"][data-gx-button], .gx-grid-paging-bar button',cssClass:["btn","btn-default"],first:!0},{selector:'.gx-navbar .gx-button input, .gx-navbar input[type="button"]',cssClass:"navbar-btn"},{selector:".BtnEnter",cssClass:"btn-primary",first:!0},{selector:".BtnDelete",cssClass:"btn-danger",first:!0},{selector:".Container",cssClass:"container",
first:!0},{selector:"#MAINTABLE_MPAGE.PromptMainTable:not(.ContainerFluid)",cssClass:"ContainerFluid"},{selector:".ContainerFluid",cssClass:"container-fluid",first:!0},{selector:".ReadonlyResponsiveImageAttribute, .ResponsiveImage",cssClass:"img-responsive",first:!0},{selector:".BtnTextBlock > a",cssClass:["btn","btn-default"],first:!0}]};
gx.html=function(f){var n=/<style[^>]*>([\s\S]*?)<\/style>/i,g=/<style[^>]*>([\s\S]*?)<\/style>/ig,m=/<style[^>]*data-gx-href="(.*)"\s*>\s*@import\s*url\("(.*)"\)\s*layer\((.*)\).*/i,a=/<link ([^>]*rel=['"]?stylesheet['"]?[^>]*)>/i,b=/<link ([^>]*rel=['"]?shortcut icon['"]?[^>]*)>/i,c=/<link ([^>]*rel=['"]?stylesheet['"]?[^>]*)>/ig,d=/<script[^>]*>[\s\S]*?(<script[^>]*>[\s\S]*?<.?\/script>)/i,e=/(<script[^>]*>\s*)\r?\n?\x3c!--\s*\r?\n?(.*)\r?\n?\s*\/\/--\x3e\s*\r?\n?(<.?\/script>)/ig,h=/<script([^>]*)>([\s\S]*?)<\/script>/i,
r=/data-gx-external-script/,v=/type="module"/,x=/href=(['"]?)([^'">]*)\1/i,D=/id=(['"]?)([^'">]*)\1/i,k=/src=(['"]?)([\s\S]*)\?([^"']*)\1/i,p=/src=(['"]?)([^"']*)\1/i,w=/<div><input type="hidden" name="GXState" value="{.*}"><\/div>/g;return{STYLE_ELEMENT_HREF:"data-gx-href",encodeCaseFormat:function(q,C,B){C==gx.html.controls.formats.TEXT?q=gx.html.encode(q,!1,B):C==gx.html.controls.formats.TEXT_W_SPACES&&(q=gx.html.encode(q,!0,B));return q},setGXImageCSSClass:function(q,C){var B=q.jquery?q:f(q),
N=B.attr("data-gx-image-class");q=f(q)[0];N&&B.removeClass(N);q.classList&&[].concat($jscomp.arrayFromIterable(q.classList)).forEach(function(u){u.startsWith("GX_Image_")&&q.classList.remove(u)});B.addClass(C);B.attr("data-gx-image-class",C)},applyCustomHTMLAttributes:function(q){q=q?f(q):f(document);q.find("input[data-msk-att], textarea[data-msk-att]").each(function(C,B){C=f(B);B=C.attr("data-msk-att");C.attr(B,C.attr("data-"+B))});q.find("img[data-gx-image-uri]").each(function(C,B){C=f(B);B=C.attr("data-gx-image-uri");
(B=gx.util.imageName(B))&&gx.html.setGXImageCSSClass(C,"GX_Image_"+B+"_Class")})},encode:function(q,C,B){var N=["<",">","&"],u=["&lt;","&gt;","&amp;"];C&&(N.push(" "),u.push("&nbsp;"));B&&(N.push("\n"),u.push("<br/>"),N.push("\r"),u.push(""));return gx.text.charReplace(q,N,u)},getHidden:function(q,C){return'<input type="hidden" id="'+q+'" name="'+q+'" value="'+C+'">'},viewportWidth:function(){var q=document.documentElement;return q&&q.clientHeight?Math.max(q.clientWidth,document.body.clientWidth):
document.body.clientWidth},viewportHeight:function(){var q=document.documentElement;return q&&q.clientHeight?Math.max(q.clientHeight,document.body.clientHeight)-5:document.body.clientHeight-5},cleanHtmlRefs:function(q,C){(void 0===C||C)&&(q=q.replace(g,""));q=q.replace(c,"");for(C=[];C;)if(C=q.match(h)){var B=this.nestedScripts(C,q);0<B&&(C=new RegExp("<script([^>]*)>(([\\s\\S]*?<script[^>]*>[\\s\\S]*?<.?/script>[\\s\\S]*?){X})<.?/script>".replace("{X}","{"+B+"}"),"i"),C=q.match(C));(B=C.lastIndex)||
(B=C.index+C[0].length);q=q.substring(0,C.index)+q.substring(B)}else break;return q},setOuterHtml:function(q,C){q.outerHTML=C},setInnerHtml:function(q,C,B,N,u){var y=gx.dom.styles(),H=gx.GxObject.WEBCOMPONENT_BODY_CLASS_NAME;gx.dom.shouldPurge()&&gx.dom.purge(q,!0);var E=f(q).children("."+H).get(0);!E&&N&&(E=document.createElement("div"),gx.dom.addClass(E,H),gx.dom.addClass(E,"Form-fx"),q.appendChild(E));N&&!gx.O.DSO&&gx.pO.fullAjax&&E&&gx.dom.hasClass(E,H)&&!gx.dom.hasClass(q,"transitioning")?(q=
document.createElement("div"),q.innerHTML=this.cleanHtmlRefs(C,u),gx.dom.replaceWithFx(E,q.children[0])):f(q).html(this.cleanHtmlRefs(C,u));gx.util.browser.isIE()&&gx.cache.updateStyles(y,gx.dom.styles());1==B&&this.processCode(C,!1)},setInnerText:function(q,C,B,N){var u=f(q);null!=q.nodeValue?q.nodeValue=C:gx.util.browser.isChrome()||null==q.innerText?gx.util.browser.isFirefox()||gx.util.browser.isChrome()?u.html(gx.html.encodeCaseFormat(C,B,N)):"TEXT"==q.tagName&&null!=q.innerHTML?u.html(C):u.html("<text>"+
C+"</text>"):q.innerText=C},nodesFromText:function(q){var C=document.createElement("div");C.style.visibility="hidden";C.style.display="none";document.body.appendChild(C);gx.dom.shouldPurge()&&gx.dom.purge(C,!0);C.innerHTML=q;q=[];for(var B=C.childNodes.length,N=0;N<B;N++)q.push(C.childNodes[N].cloneNode(!0));gx.dom.removeControlSafe(C);return q},onTypeAvailable:function(q,C,B,N){try{var u=500,y=gx.gen.resolveObjClass(q);try{var H=window.eval(y)}catch(E){}(H=H||eval(y))?B instanceof Array?C.apply(this,
B):C():N<u&&setTimeout(function(){gx.html.onTypeAvailable(q,C,B,N+1)},0)}catch(E){N<u&&setTimeout(function(){gx.html.onTypeAvailable(q,C,B,N+1)},150)}},processCSS:function(q){if(""!=q){var C=document.createElement("style");C.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(C);C.styleSheet?C.styleSheet.cssText=q:(q=document.createTextNode(q),C.appendChild(q))}},nestedScripts:function(q,C){q=q[0].match(d);for(var B=0;q;)C=C.replace(q[1],""),B++,q=(q=C.match(h))?q[0].match(d):
null;return B},processCode:function(q,C,B,N,u,y,H){var E=q,J=[],G=!1,I=[],L=[],O=[],M="",X=[];M=[];if(""!=q){if(void 0===y||y)for(;M;){if(M=q.match(n))(y=M.lastIndex)||(y=M.index+M[0].length),q=q.substring(y);else break;O.push(M[1])}q=E;for(M=[];M;){if(M=q.match(m))(y=M.lastIndex)||(y=M.index+M[0].length),q=q.substring(y);else break;y=M[3];var U=M[2];var aa=M[1];y&&!gx.cache.fileLoaded(U)&&(gx.http.loadStyle(U,gx.emptyFn,!0,aa,y),gx.cache.addRemoteFile(U))}q=E;for(M=[];M;){if(M=q.match(a))(y=M.lastIndex)||
(y=M.index+M[0].length),q=q.substring(y);else break;y=M[1].match(x);aa=M[1].match(D);y&&!gx.cache.fileLoaded(y[2])&&(L.push({href:y[2],id:aa&&2<aa.length?aa[2]:null}),gx.cache.addRemoteFile(y[2]))}q=E;for(M=[];M;){if(M=q.match(b))(y=M.lastIndex)||(y=M.index+M[0].length),q=q.substring(y);else break;f("head link[rel='shortcut icon'").remove();f(document.head).append(M[0])}q=E.replace(w,"");q=E;gx.util.browser.isIE()&&(q=q.replace(e,"$1$2$3"));for(M=[];M;){if(M=q.match(h))E=this.nestedScripts(M,q),0<
E&&(M=new RegExp("<script([^>]*)>(([\\s\\S]*?<script[^>]*>[\\s\\S]*?<.?/script>[\\s\\S]*?){X})<.?/script>".replace("{X}","{"+E+"}"),"i"),M=q.match(M)),(y=M.lastIndex)||(y=M.index+M[0].length),q=q.substring(y);else break;void 0!=M[1]&&""!=M[1]?(y=M[1].match(k),E=!!M[1].match(r),U=!!M[1].match(v),null==y&&(y=M[1].match(p)),y&&!gx.cache.fileLoaded(y[2])?(aa=y[2],gx.lang.emptyObject(y[3])||(aa+="?"+y[3]),J.push({url:aa,isExternal:E,isModule:U,callback:E?void 0:function(ea,ja){return function(){gx.cache.addRemoteFile(ea)}}(y[2],
E)})):y&&gx.cache.fileLoaded(y[2])?G=!0:!y&&M[2]&&I.push(M[2])):M[2]&&I.push(M[2])}if(1!=C){M=I.join(";");""!=M&&gx.lang.doEval(M);if("function"==typeof B)gx.http.loadScripts(J,function(ea,ja){ja instanceof Array?ea.apply(this,ja):ea()}.closure(this,[B,N]),void 0,H);else{C={method:"GET",useCash:!0};C.load=function(ea,ja){gx.lang.supEval(this,X.push(ja))}.closure(this);C.mimetype="text/plain";C.sync=!0;var da=J.length;for(q=0;q<da;q++)C.url=J[q].url,gx.http.doCall(C)}gx.fn.setOpacity(0,document.body);
M=X.join("");""!=M&&gx.lang.doEval(M);J=document.getElementsByTagName("style");C=L.length;var ha=0;for(q=0;q<C;q++){H=!1;I=J.length;for(M=0;M<I;M++)J[q]&&L[q].href==(J[M].styleSheet&&J[M].styleSheet.cssText?J[M].styleSheet.cssText:J[M].innerHTML)&&(H=!0);H||((H=gx.dom.byId(L[q].id))?(I=document.createElement("link"),ha++,1===ha&&(gx.fn.setOpacity(0,document.body),gx.applyingStyles=!0),I.id=H.id,I.rel=H.rel,I.type=H.type,I.onload=function(ea){ha--;0===ha&&gx.lang.requestAnimationFrame(function(){gx.fn.setOpacity("reset",
document.body);gx.applyingStyles=!1})},I.href=L[q].href,H.parentElement.replaceChild(I,H)):gx.http.loadStyle(L[q].href,gx.emptyFn,!1,L[q].id))}gx.lang.doCallTimeout(function(){0<ha&&(gx.fn.setOpacity("reset",document.body),gx.applyingStyles=!1)},this,[],gx.html.MAX_STYLE_LOAD_DELAY);M=O.join("");gx.html.processCSS(M);gx.applyingStyles||gx.fn.setOpacity("reset",document.body);if(0==da&&"function"==typeof B)if(G&&u)gx.html.onTypeAvailable(u,B,N,0);else N instanceof Array?B.apply(this,N):B()}}},getFieldLabel:function(q,
C){var B=q.id,N=q.previousSibling;if(!N||"LABEL"!==N.tagName||N.htmlFor!==B){if("INPUT"==q.tagName||"SELECT"==q.tagName||"TEXTAREA"==q.tagName)var u=q.id;else"SPAN"==q.tagName?(u=f(q).attr("data-gx-enabled-id"))||0!==B.indexOf("span_")||(u=B.substring(5)):gx.dom.hasClass(q,gx.uc.gxCssClass)&&(u=gx.uc.CtrlId(q.id));gx.dom.hasClass(q,gx.html.multimediaUpload.gxCssClass)&&(u=gx.html.multimediaUpload.CtrlId(q.id));if(u)return f("label[for='"+u+"']",C).get(0)}},multimediaUpload:{gxPreviewHTMLAtt:"data-gx-preview-image",
gxCssClass:"gx-multimedia-upload",setPreviewAtt:function(q,C){(q="object"===typeof q?q:gx.dom.el(q))&&q.setAttribute(gx.html.multimediaUpload.gxPreviewHTMLAtt,C)},getPreviewAtt:function(q){return(q="object"===typeof q?q:gx.dom.el(q))?q.getAttribute(gx.html.multimediaUpload.gxPreviewHTMLAtt):""},getInputFileEl:function(q){return f("#"+q+"[type='file']")[0]},CtrlId:function(q){return q.replace(/_ct$/,"")},resolveFileName:function(q,C){return q||C||""},onOptionChange:function(q){q=this.getElements(q);
var C=q.fileField,B=q.uriField;q.uriOption.checked?(gx.dom.removeClass(C,"field-selected"),gx.dom.addClass(B,"field-selected")):(gx.dom.removeClass(B,"field-selected"),gx.dom.addClass(C,"field-selected"))},imageLoadHandler:function(q,C){var B=function(u){var y="IMG"==u.tagName?"src":"href";return!u[y]||u[y]==document.location.href||"/"==u[y].charAt(u[y].length-1)};gx.dom.removeClass(C,"gx-multimedia-unknown");gx.dom.removeClass(C,"gx-multimedia-download");!q||B(q)?gx.dom.addClass(C,"gx-multimedia-empty"):
gx.dom.removeClass(C,"gx-multimedia-empty");B(q)&&C&&!B(C)&&(gx.dom.removeClass(C,"gx-multimedia-empty"),("IMG"!==q.tagName||B(q))&&gx.dom.addClass(C,"gx-multimedia-download"));if(gx.util.browser.isIE()&&q&&"IMG"==q.tagName){C=f(q);B=parseInt(C.css("maxWidth"));var N=parseInt(C.css("maxHeight"));B<q.width&&(C.css("height",gx.dom.addUnits(B*q.height/q.width)),C.css("width",gx.dom.addUnits(B)));N<q.height&&(C.css("width",gx.dom.addUnits(N*q.width/q.height)),C.css("height",gx.dom.addUnits(N)))}},dialogCloseHandler:function(q,
C,B){B=this.getElements(q);C.style.display="none";q.appendChild(C);B.uriOption.checked?this.refreshPreviewImg(q,B.uriField):this.refreshPreviewImg(q,B.fileField);B.action.focus();gx.fx.obs.deleteObserver("gx.keypress",this,this.keypressHandler)},prevImgClickHandler:function(q,C){q=q||event;var B=gx.evt.source(q);0<f(B).closest(".gx-multimedia-empty").length&&this.actionClickHandler(q,C)},actionClickHandler:function(q,C){var B=gx.html.multimediaUpload.isModal;q=q||event;q.preventDefault?q.preventDefault():
q.returnValue=!1;q=this.getElements(C);var N=q.button[1];q.fieldsCt.style.display="block";var u=130,y=500,H=!0;gx.util.browser.isIE()&&gx.util.browser.isCompatMode()&&(C.style.position="static",q.fileField.style.marginTop="0",q.uriField.style.marginTop="0",u=230);gx.runtimeTemplates&&(H=!1,f(window).width()<y&&(y=f(window).width()-20,u=170));C=gx.popup.openDialog({parentElement:C,w:y,h:u,contentHtml:q.fieldsCt,title:"",showParentPopups:!1,showCloseButton:!0,resizable:H,isModal:void 0===B||B,callbacks:{beforeClose:this.dialogCloseHandler.closure(this,
[C,q.fieldsCt,N])}});q.fileOption.focus();gx.evt.attach(N,"click",C.close,C,{single:!0});gx.fx.obs.addObserver("gx.keypress",this,this.keypressHandler)},clearActionHandler:function(q,C){q=q||event;q.preventDefault?q.preventDefault():q.returnValue=!1;q=this.getElements(C);q.uriField.value="";q.fileField.value="";q.uriOption.checked=!1;q.fileOption.checked=!0;gx.fx.obs.notify("gx.multimedia.clear",[C]);this.clearPreviewImg(C);this.imageLoadHandler(q.previewImg,q.previewLink)},keypressHandler:function(q){13==
q.event.keyCode&&(q.cancel=!0,gx.popup.currentPopup.close())},tapHandler:function(q){this.getElements(q).action.focus()},getElements:function(q){q=gx.dom.byId(q);var C=f(q);q=C.find(".change-action")[0];var B=C.find(".clear-action")[0],N=null,u=f(B).next()[0];C=C.find(".fields-ct");u&&("A"==u.tagName?(N=u,u=u.firstChild):"IMG"!=u.tagName&&(u=null));return{previewLink:N,action:q,clearAction:B,previewImg:u,fieldsCt:C[0],uriField:C.find("input[type='text']")[0],fileField:C.find("input[type='file']")[0],
uriOption:C.find("input[type='radio'][value='uri']")[0],fileOption:C.find("input[type='radio'][value='file']")[0],button:C.find("input[type='button']")}},getContainer:function(q){for(q=gx.dom.byId(q);q;){if(gx.dom.hasClass(q,gx.html.multimediaUpload.gxCssClass))return q;q=q.parentNode}return null},setPreviewImage:function(q,C){q=gx.dom.byId(q);var B=this.getElements(q);0>gx.util.Url.parseWithAnchor(C).protocol.search(/^https?:/)&&B.uriOption.checked||(this.clearPreviewImg(q),B.previewImg&&gx.text.startsWith(gx.util.getContentTypeFromExt(C),
"image")&&("IMG"==B.previewImg.tagName&&(B.previewImg.src=C),this.imageLoadHandler(B.previewImg,B.previewLink)))},setPreviewLink:function(q,C){q=gx.dom.byId(q);q=this.getElements(q);q.previewLink&&C&&q.previewLink&&(q.previewLink.href=C);this.imageLoadHandler(q.previewImg,q.previewLink)},clearPreviewImg:function(q){q=gx.dom.byId(q);(q=this.getElements(q))&&q.previewImg&&q.previewLink&&(q.previewImg.src="",q.previewLink.href="")},refreshPreviewImg:function(q,C){q=gx.dom.byId(q);var B=this.getElements(q);
if(B.previewImg&&"INPUT"==C.tagName){this.setPreviewAtt(q,"");if(C==B.fileField){var N;if(C.files&&(N=C.files[0]))if(N.type.match(/image.*/)){var u=new FileReader;u.onload=function(y,H,E){H.src=y.target.result;E.href=y.target.result;this.setPreviewAtt(q,y.target.result)}.closure(this,[B.previewImg,B.previewLink],!0);u.readAsDataURL(N)}else{B.previewLink.href="#";B.previewLink.className="gx-multimedia-download";this.clearPreviewImg(q);return}C.gxctrldeleted&&this.clearPreviewImg(q)}else C==B.uriField&&
(B.previewImg.src=C.value,B.previewLink.href=C.value);this.imageLoadHandler(B.previewImg,B.previewLink)}},setType:function(q,C){q=gx.dom.byId(q);var B=this.getElements(q);B.fileOption.checked=C;B.uriOption.checked=!C;C&&(B.uriField.value="");this.onOptionChange(q)},getOptionValue:function(q){q=gx.dom.byId(q);return this.getElements(q).fileOption.checked?"file":"uri"},createControl:function(q){q=gx.dom.byId(q);if(!q._created){q._created=!0;var C=this.getElements(q);gx.dom.addClass(C.fileField,"field-selected");
C.action.setAttribute("gxfocusable","1");var B=document.createElement("input");B.type="button";B.className="BtnCancel";B.value=gx.getMessage("GXM_cancel");B.onclick=function(){gx.fn.closeWindow([])};C.fieldsCt.appendChild(B);B=document.createElement("input");B.type="button";B.className="BtnEnter";B.value=gx.getMessage("GXM_uploadconfirmoption");C.fieldsCt.appendChild(B);B=this.imageLoadHandler.closure(this,[C.previewImg,C.previewLink]);var N=this.onOptionChange.closure(this,[q]);B();C.previewImg&&
gx.evt.attach(C.previewImg,"load",B);N();gx.evt.attach(C.uriOption,"click",N);gx.evt.attach(C.fileOption,"click",N);gx.evt.attach(C.action,"click",this.actionClickHandler.closure(this,[q],!0));gx.evt.attach(C.previewImg.parentNode,"click",this.prevImgClickHandler.closure(this,[q],!0));gx.evt.attach(C.clearAction,"click",this.clearActionHandler.closure(this,[q],!0));gx.evt.attach(q,"touchstart",this.tapHandler.closure(this,[q]))}}},controls:function(){var q={},C={label:'<label class="gx-label {{className}} control-label" {{{additionalAtts}}} for="{{relatedElement}}">{{caption}}</label>',
radio:['<span class="{{className}}" style="{{style}}">',"{{#values}}",'<label for="{{itemId}}"><input type="radio" id="{{itemId}}" name="{{id}}" value="{{itemValue}}" title="{{title}}"data-gxoch0="{{data-gxoch0}}"{{#isSelected}} checked{{/isSelected}}{{#isDisabled}} disabled{{/isDisabled}}{{{extraAttributes}}}>{{itemDesc}}</label>',"{{/values}}","</span>"]},B=function(u,y){var H=gx.lang.isArray(C[u])?C[u].join(""):C[u];q[u]||(q[u]=!0,Mustache.parse(H));return Mustache.render(H,y)},N=/"/g;return{applyTemplate:B,
types:{singleLineEdit:1,multipleLineEdit:2,blob:3,radio:4,comboBox:5,listBox:6,checkBox:7,image:8,textBlock:9,button:10,grid:11,userControl:12,userControlContainer:13,webComponent:14,embeddedPage:15,table:16,row:17,cell:18,group:19,multimedia:20,video:21,audio:22,div:23,responsiveRow:24,responsiveCell:25,label:26,divEnd:27,formGroup:28,formGroupEnd:29},formats:{TEXT:0,HTML:1,RAW_HTML:2,TEXT_W_SPACES:3},isMultiSelection:function(u){return"combo"==u||"dyncombo"==u||"listbx"==u||"dynlistbx"==u?!0:!1},
eventJSCode:function(u,y,H,E,J){var G="";if(4==u&&H)G=H;else if(1==u)G="gx.fn.closeWindow();";else if(7==u)u="",E&&J&&(u=",'"+E.gridName+"','"+J.gxId+"'"),G="gx.evt.execCliEvt( "+y+u+",this);";else if(6==u||5==u)G="gx.evt.execEvt("+y+",this,"+E.gridId+");";return G},onJsEventAttributes:function(u,y,H){var E=gx.GxObject,J=" "+E.GX_EVENT_DATA_ATTR+'="'+u+'"',G="";4===u&&(G=" "+E.GX_EVENT_CODE_DATA_ATTR+'="'+u+'"');H?J=y?J+(" "+E.GX_EVENT_CONDITION_DATA_ATTR+'="'+H+'"'+G):J+G:y&&(J+=G);return J+" "},
startAnchor:function(u,y,H,E,J,G){G=G?' class="'+G+'"':"";u=this.onJsEventAttributes(u,y,H);if(H||y)return'<a href="javascript:void(0)"'+u+G+">";if(E){var I="";y=E.replace(/(\\")/ig,"\\u0022");I+='<a href="'+y+'"';""!=J&&(I+=' target="'+J+'"');I+=G+">"}return I},endAnchor:function(u,y,H,E){(y||H||E)&&u.append("</a>")},onJSEvent_impl:function(u,y,H){var E=[];""!=H&&E.push('jsevent="'+H+'" ');E.push(u+'="if( ');""!=y?E.push("gx.evt.jsEvent(this)) {"+y+'} else return false;"'):E.push('!gx.evt.jsEvent(this)) return false;"');
return E.join("")},onJSEvent:function(u,y,H,E){u.append(" ");u.append(this.onJSEvent_impl(y,H,E))},htmlControl:function(u,y,H,E,J){this.id=u||"";this.width=y||0;this.widthUnit="px";this.height=H||0;this.heightUnit="px";this.cssClass=E||"";this.style=this.ownCssClass=this.roClass="";this.title=J||"";this.value="";this.type=-1;this.dataType="";this.enabled=this.visible=!0;this.rtEnabled=!1;this.jsEvent=this.linkTarget=this.link="";this.hasJsLink=!1;this.extraAttributes="";this.column=this.row=this.grid=
null;this.gridRow=this.gridId="";this.buffer=new gx.text.stringBuffer;this.getHtml=function(){this.buffer.clear();this._getHtml();return this.buffer.toString()};this.append=function(G){return this.buffer.append(G)};this.tagAtt=function(G,I){I=I.toString();I=0<=I.indexOf('"')?I.replace(N,"&quot;"):I;return this.buffer.append(" "+G+(I?'="'+I+'"':""))};this.persistValue=function(){var G=this.getVStruct();!gx.lang.emptyNum(this.column.gxId)&&G&&(this._persistValue?this._persistValue():G.v2v&&G.v2v(this.value))};
this.setIndividualProp=function(G,I){this[G]="enabled"==G||"visible"==G||"isPassword"==G||"autoComplete"==G||"hasJsLink"==G?gx.lang.gxBoolean(I):I};this.setGridData=function(G){this.grid=G.grid;this.row=G.row;this.gridId=G.gridId;this.gridRow=G.gridRow};this.getGridData=function(){return{grid:this.grid,row:this.row,gridId:this.gridId,gridRow:this.gridRow}};this.getVStruct=function(){return this.grid.parentObject.GXValidFnc[this.column.gxId]};this.getEventContext=function(){var G=this.grid.parentObject;
return gx.json.serializeJson([G.CmpContext,G.IsMasterPage])}},singleLineEdit:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.singleLineEdit;this.maxLength="";this.isPassword=!1;this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na,l,t,A,z,F,K,P,R,S,W,Q,V,T,ca,Z,fa,oa,pa,ia,qa){this.id=G;this.inputType=t;this.step=A;this.title=U;this.placeholder=aa;this.width=z;this.widthUnit=F;this.height=17==K?0:K;this.heightUnit=P;this.maxLength=R;this.visible=0!=ba;this.enabled=
0!=na;this.rtEnabled=0!=l;this.isPassword=0!=S;this.format=W;this.link=M;this.linkTarget=X;this.style=ja;this.cssClass=ea;this.roClass=ka;this.columnClass=la;this.columnHeaderClass=Y;this.vStruct=gx.O.getValidStructFld(this.column.htmlName);pa&&(this.rtEnabled||this.enabled)&&(I=qa);this.formattedValue=""===qa?"":gx.lang.emptyObject(I)?gx.applyPicture(this.vStruct,gx.html.encodeCaseFormat(qa||"",W)):gx.html.encodeCaseFormat(I,W);this.extraAttributes=L;this.jsScrCode=ha;this.usrOnclick=da;this.eventName=
O;this.parentId=Q;this.hasTheme=V;this.autoComplete=0!=T;this.autoCorrection=0!=ca;this.value=qa||"";this.domainName=fa;this.rtPicture=ia};this._getHtml=function(){var G="",I=this.getVStruct();0==this.width&&(this.width=this.colSize?this.colSize:this.maxLength,this.widthUnit="chr");0<this.width&&("chr"==this.widthUnit?G=' size="'+this.width+'"':this.style=this.style+";width: "+this.width+this.widthUnit+";");0<this.height&&"row"!=this.heightUnit&&(this.style=this.style+";height: "+this.height+this.heightUnit+
";");var L=this.style;this.style+=this.visible?"":";display:none;";if(this.rtEnabled||this.enabled){if(this.dataType==gx.types.date||this.dataType==gx.types.dateTime)this.append("<div"),this.tagAtt("id",this.id+"_dp_container"),""!=this.column.align&&this.tagAtt("data-align",this.column.align),this.tagAtt("class","dp_container"),""!=this.style&&this.tagAtt("style","white-space:nowrap;display:inline;width:auto;"),this.append(">");this.row.ownerGrid.isFreestyle||void 0!==this.column.titleformat&&this.column.titleformat!=
gx.html.controls.formats.TEXT||this.append('<label for="'+this.id+'" style="display:none">'+this.column.title+"</label>");this.append("<input");if(1==this.isPassword)this.tagAtt("type","password");else{this.tagAtt("type",this.inputType);if(this.step&&("number"==this.inputType||"range"==this.inputType)){this.tagAtt("step",this.step);var O=Math.pow(10,this.maxLength)-1;this.tagAtt("min",-1*O);this.tagAtt("max",O);"search"==this.inputType&&(this.extraAttributes+=' onsearch="this.onchange();"')}this.dataType==
gx.types.geolocation&&(this.extraAttributes+=" data-gx-geolocation")}this.tagAtt("id",this.id);this.tagAtt("name",this.id);this.tagAtt("value",this.dataType==gx.types.numeric?gx.text.ltrim(this.formattedValue):this.formattedValue);this.append(G);""!=this.title&&this.tagAtt("title",this.title);""!=this.placeholder&&this.tagAtt("placeholder",this.placeholder);this.autoComplete||this.tagAtt("autocomplete","off");this.tagAtt("spellcheck",this.autoCorrection.toString());"date"!=this.inputType&&"datetime"!=
this.inputType&&"datetime-local"!=this.inputType&&this.tagAtt("maxlength",this.maxLength);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.rtPicture&&this.tagAtt("data-gx-rt-picture",this.rtPicture);G=this.style;""!=this.column.align&&(G+=";text-align:"+this.column.align);O=!this.enabled&&this.rtEnabled?";display:none;":"";G+=O;""!=G&&this.tagAtt("style",G);this.append(this.extraAttributes);gx.fn.controlFiresEvent(I)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,I.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,
this.getEventContext()));this.append(">");this.dataType==gx.types.date||this.dataType==gx.types.dateTime?(G=this.grid.parentObject.getValidStructFld(this.id),void 0!=G.dp&&(0==G.dp.f&&(this.append("<img"),this.tagAtt("src",gx.ajax.getImageUrl(gx,"datepickerImage")),this.tagAtt("id",this.id+"_dp_trigger"),O=!this.enabled&&this.rtEnabled||!this.visible?";display:none;":"",this.tagAtt("style","cursor: pointer"+O),this.append(">")),this.append("</div>"),this.grid.addDatepickerToSetup({CtrlId:this.id,
Grid:this.gridId,Row:this.gridRow}))):gx.html.controls.specificDomainCtrls(this)}if(!this.enabled){this.rtEnabled||this.grid.addHiddenControl(this.id,this.dataType==gx.types.date||this.dataType==gx.types.dateTime?this.formattedValue:this.value);O=this.hasTheme?gx.fn.prefixROClass(0==this.parentId?this.cssClass:this.roClass):this.cssClass;G="";this.format!=gx.html.controls.formats.RAW_HTML&&(L+=this.visible?"":";display:none;",this.append("<span"),this.append(this.extraAttributes),""!=O&&this.tagAtt("class",
O),""!=L&&this.tagAtt("style",L),this.tagAtt("data-gx-readonly",""),""!=this.title&&this.tagAtt("title",this.title),this.tagAtt("id","span_"+this.id),this.tagAtt("data-gx-enabled-id",this.id),G=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row),L=gx.html.controls.startAnchor(this.jsScrCode,G,this.usrOnclick,this.link,this.linkTarget),gx.fn.controlFiresEvent(I)&&(L||this.tagAtt("tabindex","0"),this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,I.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,
this.getEventContext())),this.append(">"),this.append(L));if(this.isPassword)for(I=gx.lang.emptyObject(this.maxLength)?3:parseInt(this.maxLength),L=0;L<I;L++)this.append("*");else this.append(this.formattedValue);this.format!=gx.html.controls.formats.RAW_HTML&&(gx.html.controls.endAnchor(this,G,this.usrOnclick,this.link),this.append("</span>"));this.format==gx.html.controls.formats.RAW_HTML&&gx.html.processCode(this.buffer.toString(),!1);gx.html.controls.specificDomainCtrls(this)}}},multipleLineEdit:function(u,
y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.multipleLineEdit;this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na,l,t,A,z,F,K,P,R,S,W,Q){this.id=G;this.visible=0!=M;this.enabled=0!=X;this.rtEnabled=0!=U;this.width=aa;this.widthUnit=da;this.height=ha;this.heightUnit=ea;this.style=ka;this.cssClass=la;this.columnClass=Y;this.columnHeaderClass=ba;this.maxLength=na;this.extraAttributes=L;this.autoresize=0!=l;this.format=O;this.link=I;this.linkTarget=A;this.placeholder=
z;this.value=Q||"";this.autoCorrection=0!=F;this.domainName=P;this.maxTextLines=t;this.jsScrCode=S;this.title=W};this._getHtml=function(){var G=this.getVStruct();this.style+=!this.visible||!this.enabled&&this.rtEnabled?";display:none;":"";if(this.rtEnabled||this.enabled)this.row.ownerGrid.isFreestyle||void 0!==this.column.titleformat&&this.column.titleformat!=gx.html.controls.formats.TEXT||this.append('<label for="'+this.id+'" style="display:none">'+this.column.title+"</label>"),this.append("<textarea"),
""!=this.placeholder&&this.tagAtt("placeholder",this.placeholder),this.tagAtt("spellcheck",this.autoCorrection.toString()),"chr"==this.widthUnit?this.tagAtt("cols",this.width):this.style=this.style+";width: "+this.width+this.widthUnit,1<this.maxTextLines&&this.tagAtt("data-gx-text-maxlines",this.maxTextLines),"row"==this.heightUnit?this.tagAtt("rows",this.height):this.style=this.style+";height: "+this.height+this.heightUnit,this.tagAtt("id",this.id),this.tagAtt("name",this.id),this.tagAtt("maxlength",
this.maxLength),""!=this.title&&this.tagAtt("title",this.title),this.append('onkeyup = "return gx.evt.checkMaxLength(this,'+this.maxLength+',event);"'),this.append('onkeydown = "return gx.evt.checkMaxLength(this,'+this.maxLength+',event);"'),""!=this.cssClass&&this.tagAtt("class",this.cssClass),""!=this.style&&this.tagAtt("style",this.style),""!=this.title&&this.tagAtt("title",this.title),this.append(this.extraAttributes),this.append(">"),this.append(gx.html.encodeCaseFormat(this.value,gx.html.controls.formats.TEXT,
!1)),this.append("</textarea>");if(!this.enabled){var I=this.visible?"":"display:none;";this.autoresize||(I+='overflow="hidden";');this.rtEnabled||this.grid.addHiddenControl(this.id,this.value);this.cssClass=gx.fn.prefixROClass(this.cssClass);this.append("<span ");this.append(this.extraAttributes);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=I&&this.tagAtt("style",I);this.tagAtt("data-gx-readonly","");""!=this.title&&this.tagAtt("title",this.title);this.tagAtt("id","span_"+this.id);I=
gx.html.controls.startAnchor(this.jsScrCode,!!G.evt,"",this.link,this.linkTarget);G.evt&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,G.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),I||this.tagAtt("tabindex","0"));this.format===gx.html.controls.formats.TEXT_W_SPACES&&this.tagAtt("data-text-format",gx.html.controls.formats.TEXT_W_SPACES);this.append(">");this.append(I);this.append(gx.html.encodeCaseFormat(this.value,this.format,!0));gx.html.controls.endAnchor(this,
!!G.evt,"",this.link);gx.html.controls.specificDomainCtrls(this);this.append("</span>")}}},blob:function(u,y,H,E,J,G,I){this.base(u,y,H,E,J);this.type=gx.html.controls.types.blob;this.display=G||0;this.contentType=I||"text/html";this.parameters=this.url="";this.setProperties=function(L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na,l,t,A,z,F,K,P,R,S,W,Q,V,T,ca,Z){this.id=L;this.value=O;this.contentType=M||"text/html";this.linkTarget=U;this.parameters=aa;this.display=da;this.visible=0!=ea;this.enabled=0!=ha;
this.alt=ja;this.title=ka;this.borderWidth=la;this.autoresize=0!=Y;this.width=ba;this.widthUnit=na;this.height=l;this.heightUnit=t;this.vSpace=A;this.hSpace=z;this.jsScrCode=F;this.usrOnclick=K;this.eventName=P;this.style=R;this.cssClass=S;this.columnClass=W;this.columnHeaderClass=Q;this.extraAttributes=V;this.extraDisplayAttributes=T;this.jsDynCode=ca;this.url=gx.util.resolveUrl(Z)};this._getHtml=function(){this.style+=this.visible?"":";display:none;";this.append('<div class="gx-tbldsp-container"');
this.tagAtt("border",0);this.tagAtt("data-cellpadding",0);this.tagAtt("data-cellspacing",0);this.tagAtt("style","margin:"+this.vSpace+"px "+this.hSpace+"px;");this.tagAtt("title",gx.lang.emptyObject(this.title)?this.id:this.title);this.append("><div>");var L=-1!=this.contentType.toLowerCase().indexOf("image/");if(0==this.display){if(L){this.append("<img");this.tagAtt("alt",this.alt);if(""==this.url||this.url==gx.util.resourceUrl(gx.basePath+gx.staticDirectory))this.url=gx.ajax.getImageUrl(gx,"blankImage");
this.tagAtt("src",this.url)}else this.append("<object"),this.tagAtt("type",this.contentType),""==this.url&&(this.url="about:blank"),this.tagAtt("data",this.url);this.tagAtt("id","Object_"+this.id);this.style+="display:block;";0==this.width||this.autoresize||(this.style=this.style+"width:"+this.width+this.widthUnit+";");0==this.height||this.autoresize||(this.style=this.style+"height:"+this.height+this.heightUnit+";");this.tagAtt("style",this.style);var O=""!=this.cssClass?"BlobContent"+this.cssClass:
this.cssClass;this.enabled||(O=gx.fn.prefixROClass(O));this.tagAtt("class",O);this.append(this.extraDisplayAttributes);this.append(">");L?this.append("</img>"):(this.append(this.parameters),this.append("</object>"))}else 1==this.display&&(this.append("<a"),this.tagAtt("id","Link_"+this.id),this.style=""!=this.url?this.style+"display:block;":this.style+"display:none;",this.tagAtt("style",this.style),this.tagAtt("href",this.url),this.tagAtt("type",this.contentType),""!=this.linkTarget&&this.tagAtt("target",
this.linkTarget),this.append("><img"),this.tagAtt("border","0"),this.tagAtt("src",gx.ajax.getImageUrl(gx,"downloadImage")),this.append("></a>"));this.append("</div><div>");if(this.enabled){var M="";gx.lang.emptyObject(this.value)||(gx.dom.form().encoding="multipart/form-data");O=gx.dom.byId(this.id);this.grid&&this.grid.parentObject.isTransaction()&&O&&this.value===O.value?(L=this.id+"_hook",this.append("<div"),this.tagAtt("id",L),this.append(">"),this.append("</div>"),this.grid.addControlToReuse({el:O,
hookId:L})):(this.append("<input"),this.tagAtt("type","file"),this.tagAtt("id",this.id),this.tagAtt("name",this.id),this.visible||(M+="display:none;"),0!=this.width&&(M=M+"width:"+this.width+";"),this.tagAtt("style",M),this.tagAtt("value",this.value),O=""!=this.cssClass?"BlobInput"+this.cssClass:this.cssClass,this.enabled||(O=gx.fn.prefixROClass(O)),this.tagAtt("class",O),L&&this.tagAtt("accept",this.contentType),this.append(this.extraAttributes),this.append(">"))}this.append("</div></div>")}},radio:function(u,
y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.radio;this.vertical=!0;this.possibleValues=[];this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba){this.possibleValues=G.v||[];this.id=I;this.title=L;this.visible=0!=O;this.enabled=0!=M;this.columns=X;this.orientation=U;this.style=aa;this.cssClass=da;this.columnClass=ha;this.columnHeaderClass=ea;this.jsScrCode=ja;this.usrOnclick=ka;this.eventName=la;this.extraAttributes=Y;this.value=ba};this._getHtml=function(){this.dataType==
gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()));var G=[];G.push(this.enabled?this.cssClass:gx.fn.prefixROClass(this.cssClass));G.push("gx-radio-button");1==this.orientation&&G.push("gx-radio-button-vertical");G=G.join(" ");var I=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row);this.style+=this.visible?"":";display:none;";this.append(B("radio",{id:this.id,className:G,style:this.style,title:this.title,isDisabled:!this.enabled,extraAttributes:this.extraAttributes,
gxoch0:gx.html.controls.onJSEvent_impl("data-gxoch0",I,this.usrOnclick),values:f.map(this.possibleValues,function(L,O){return{itemId:this.id+"_"+O,itemValue:L[0],itemDesc:L[1],isSelected:gx.text.trim(this.value.toString())==gx.text.trim(L[0].toString())}}.closure(this))}))}},comboBox:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.comboBox;this.rows=1;this.possibleValues=[];this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na,l,t,A,z,F,K,P,R){this.possibleValues=
G.v||[];this.id=I;this.title=aa;this.visible=0!=da;this.enabled=0!=ha;this.rtEnabled=0!=ea;this.rows=L;this.format=ja;this.width=ka;this.widthUnit=la;this.height=Y;this.heightUnit=ba;this.style=na;this.cssClass=l;this.columnClass=t;this.columnHeaderClass=A;this.formattedValue=F;this.jsScrCode=M;this.usrOnclick=O;this.eventName=X;this.extraAttributes=z;this.value=R;this.rawValue=G};this._getHtml=function(){this.dataType==gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()));0<this.width&&
(this.style=this.style+";width: "+this.width+this.widthUnit);0<this.height&&(this.style=this.style+";height: "+this.height+this.heightUnit);var G=this.style+" ;overflow:hidden;",I=this.enabled||this.rtEnabled;this.style+=!this.visible||!this.enabled&&this.rtEnabled?";display:none;":"";if(I){var L=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row);this.append("<select");1<this.rows&&this.tagAtt("size",this.rows);this.tagAtt("id",this.id);this.tagAtt("name",this.id);
""!=this.title&&this.tagAtt("title",this.title);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.enabled||(this.append(" disabled"),gx.util.addOnce(gx.disabledControls,this.id,this.id));this.append(this.extraAttributes);gx.html.controls.onJSEvent(this,"data-gxoch0",L,this.usrOnclick);this.append(">");L=this.possibleValues.length;for(var O=0;O<L;O++){var M=this.possibleValues[O];this.append("<option");this.tagAtt("value",M[0]);gx.text.trim(M[0].toString())==
gx.text.trim(gx.lang.htmlDecode(this.value.toString()))&&this.append(" selected");this.append(">");this.append(M[1]);this.append("</option>")}this.append("</select>")}if(!this.enabled){this.rtEnabled||this.grid.addHiddenControl(this.id,this.value);L=gx.fn.prefixROClass(this.cssClass);G+=this.visible?"":";display:none;";this.append("<span ");this.tagAtt("id","span_"+this.id);""!=this.title&&this.tagAtt("title",this.title);""!=L&&this.tagAtt("class",L);""!=G&&this.tagAtt("style",G);gx.O.DSO&&this.tagAtt("data-gx-readonly",
"");I||this.tagAtt(gx.GxObject.GX_DATA_RAW_VALUE_ATTR,gx.json.serializeJson(this.rawValue));this.append(this.extraAttributes);this.append(">");L=this.possibleValues.length;for(O=0;O<L;O++)if(M=this.possibleValues[O],gx.text.trim(M[0].toString())==gx.text.trim(gx.lang.htmlDecode(this.value.toString()))){this.append(M[1]);break}this.append("</span>")}}},listBox:function(u,y,H,E,J,G){this.base(u,y,H,E,J);this.type=gx.html.controls.types.listBox;this.rows=G},checkBox:function(u,y,H,E,J,G,I,L){this.base(u,
y,H,E,J);this.type=gx.html.controls.types.checkBox;this.caption=G||"";this.checkedValue=I;this.uncheckedValue=L;this.setProperties=function(O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba){this.id=O;this.title=M;this.visible=0!=U;this.enabled=0!=aa;this.checkedValue=da;this.caption=ha;this.style=ea;this.cssClass=ja;this.columnClass=ka;this.columnHeaderClass=la;this.extraAttributes=Y;this.value=ba;this.labelCaption=X};this._getHtml=function(){var O=this.getVStruct();this.dataType==gx.types.numeric&&(this.value=
gx.text.trim(this.value.toString()),this.checkedValue=gx.text.trim(this.checkedValue.toString()));var M=this.cssClass;this.enabled||(M=gx.fn.prefixROClass(this.cssClass));this.style+=this.visible?"":";display:none;";this.append("<label");this.tagAtt("for",this.id);""!=M&&this.tagAtt("class",M);""!=this.style&&this.tagAtt("style",this.style);this.append("><input");this.tagAtt("id",this.id);this.tagAtt("type","checkbox");this.tagAtt("name",this.id);this.value.toString()==this.checkedValue.toString()?
(this.append(" checked"),this.tagAtt("value",this.checkedValue)):this.tagAtt("value",this.uncheckedValue);""!=this.title&&this.tagAtt("title",this.title);this.enabled||this.append(" disabled");this.append(this.extraAttributes);gx.fn.controlFiresEvent(O)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,O.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()));this.append(">");this.append(this.caption);this.append("</label>")}},imageReadOnly:function(u,y,H,E,J){this.base(u,
y,H,E,J);this.type=gx.html.controls.types.image;this.alt="";this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na,l,t,A,z,F,K,P,R,S,W,Q,V,T,ca){this.id=G;this.accessKey=O;this.visible=0!=X;this.enabled=0!=U;this.alt=aa;this.title=da;this.borderWidth=ha;this.autoresize=0!=ea;this.width=ja;this.widthUnit=ka;this.height=la;this.heightUnit=Y;this.vSpace=ba;this.hSpace=na;this.link=I;this.linkTarget=L;this.jsScrCode=l;this.usrOnclick=t;this.eventName=A;this.style=z;this.cssClass=F;this.columnClass=
K;this.columnHeaderClass=P;this.align=R;this.extraAttributes=S;this.useMap=W;this.jsDynCode=Q;this.imgSrcSet=V;this.value=this.imageUrl=ca;this.sLoading=T};this._getHtml=function(){var G=this,I=gx.TabFocusOnPrompt?gx.fn.attachedControls():[],L=this.getVStruct(),O=I.find(function(M){return M.id===L.fld&&!0===M.info.isPrompt});O&&(I=O.info.controls||[],I=I.map(function(M){return G.grid.parentObject.getValidStruct(M).fld+"_"+G.gridRow}));this.grid.addHiddenControl(this.id,this.imageUrl);""!=this.eventName&&
gx.text.endsWith(this.eventName,".'")&&(this.eventName=this.eventName.replace(".'","."+this.gridRow+"'"));O=gx.util.accessKey(this.title);this.title=gx.util.accessKeyCaption(this.title);""!=O&&(this.accessKey=O);this.style+=this.visible?"":";display:none;";O=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,this.jsDynCode,this.grid,this.row);this.enabled&&""!=this.link&&this.append(gx.html.controls.startAnchor(this.jsScrCode,O,this.usrOnclick,this.link,this.linkTarget,"gx-image-link"));this.append("<img");
this.tagAtt("src",this.value);this.imgSrcSet&&this.tagAtt("srcset",this.imgSrcSet);this.enabled||(this.cssClass=(this.cssClass||"")+" gx-disabled");""!=this.accessKey&&this.tagAtt("accesskey",this.accessKey);this.tagAtt("id",this.id);0!=this.vSpace&&this.tagAtt("vspace",this.vSpace);0!=this.hSpace&&this.tagAtt("hspace",this.hSpace);""!=this.align&&this.tagAtt("align",this.align);if(""==this.cssClass||0<this.borderWidth)this.tagAtt("border",this.borderWidth),""!=this.cssClass&&(this.style=this.style+
";border-width: "+this.borderWidth);this.tagAtt("alt",this.alt||this.title);I&&this.tagAtt("data-gx-attached-ctrl",I.join(" "));""!=this.title&&this.tagAtt("title",this.title);0<this.width&&(this.style=this.style+";width: "+this.width+this.widthUnit);0<this.height&&(this.style=this.style+";height: "+this.height+this.heightUnit);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);""!=this.useMap&&this.tagAtt("usemap",this.useMap);"lazy"!==this.sLoading&&
"eager"!==this.sLoading||this.tagAtt("loading",this.sLoading);this.extraAttributes&&this.append(this.extraAttributes);L.evt&&(this.tagAtt("tabindex","0"),this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,L.fld),this.tagAtt(gx.GxObject.GX_EVENT_DATA_ATTR,""),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.usrOnclick&&this.tagAtt(gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR,this.usrOnclick));this.append(">");this.enabled&&""!=this.link&&""==O&&gx.html.controls.endAnchor(this,
O,this.usrOnclick,this.link)};this._persistValue=function(){var G=this.getVStruct();G.v2v&&G.v2v(this.imageUrl)}},multimedia:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.multimedia;this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na,l,t,A,z,F,K){this.id=G;this.text=I;this.display=0!=L;this.visible=0!=O;this.enabled=0!=M;this.autoresize=0!=X;this.width=U;this.widthUnit=aa;this.height=da;this.heightUnit=ha;this.jsScrCode=ea;this.usrOnclick=ja;this.eventName=
ka;this.style=la;this.cssClass=Y;this.columnClass=ba;this.columnHeaderClass=na;this.extraInputAttributes=l;this.jsDynCode=A;this.readOnly=0!=z;this.isBlob=gx.lang.gxBoolean(F);this.multimediaUrl=K;this.value=gx.util.resolveUrl(K)};this.startMultimediaUploadControl=function(G,I,L,O){return['<div id="',G,'_ct" class="',gx.html.multimediaUpload.gxCssClass,'" style="',(O||"")+(I?"":"display:none;"),'" ',gx.html.multimediaUpload.gxPreviewHTMLAtt,'="',this.value,'" ">'].join("")};this.endMultimediaUploadControl=
function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba){L=[];O=gx.html.multimediaUpload.getInputFileEl(this.id);M="checked";X="";U=G.match(/([\w]+)(_(\d{4})+)$/);U=U[1]+"_GXI"+U[2];if(Y||void 0===Y)M="",X="checked",I="";Y=['<div id="',G,'_ct_fields" class="fields-ct">','<label class="option">','<input name="',G,'Option" type="radio" value="file" ',X,"/>",gx.getMessage("GXM_uploadfileoption"),"</label>",'<label class="option">','<input name="',G,'Option" type="radio" value="uri" ',M,"/>",gx.getMessage("GXM_uploadurioption"),
"</label>",'<input type="text" class="field ',ea,'" id="',U,'" name="',U,'" value="',I,'" ',ka," />"];L.push(Y.join(""));Y=O?['<div id="',G,'_hook"></div>']:['<input type="file" class="field ',ea,'" id="',G,'" name="',G,'" accept="',ba,'" ',ka,"/>"];L.push(Y.join(""));Y=["</div>","</div>"];L.push(Y.join(""));return L.join("")};this.getPreviewHtml=function(){var G=gx.fn.prefixROClass(this.cssClass||""),I=this.value,L=I?' href="'+I+'"':"",O=this.readOnly||!this.enabled,M=O?this.id:"";return(gx.text.startsWith(gx.util.getContentTypeFromExt(I),
"image")||!O&&""===I?["<a",' class="'," gx-multimedia-ro",'"',' target ="_blank"',L,">",'<img id = "Object_',this.id,'" class = "',G,'" alt = "',this.alt,'" src = "',I,'" />','<span id="',M,'" class="',this.placeHolderClass,'"></span>',"</a>"]:["<a",I?" download":"",' class="'," gx-multimedia-ro",'"',' target = "_blank"',L,">",'<span id = "',M,'" class = "',G," ",this.placeHolderClass,'" title = "',gx.getMessage("GXM_multimediaalttext"),'"></span>',"</a>"]).join("")};this._getHtml=function(){!this.readOnly&&
this.enabled?(this.append(this.startMultimediaUploadControl(this.id,this.visible,this.width,this.style)),this.append('<a class="action change-action" gxfocusable="1" href=""'+this.extraInputAttributes+">"+gx.getMessage("GXM_multimediachange")+"</a>"),this.append('<a gxfocusable="1" href="" class="action clear-action"></a>')):this.grid.addHiddenControl(this.id,this.multimediaUrl);this.append(this.getPreviewHtml());if(!this.readOnly&&this.enabled){this.append(this.endMultimediaUploadControl(this.id,
this.value,"",this.width,this.widthUnit,this.height,this.heightUnit,this.usrOnclick,this.eventName,this.style,this.cssClass,"",this.extraInputAttributes,this.readOnly,this.isBlob,this.accept));var G=gx.html.multimediaUpload.getInputFileEl(this.id);this.grid&&this.grid.parentObject.isTransaction()&&G&&this.grid.addControlToReuse({el:G,hookId:this.id+"_hook"})}};this._persistValue=function(){var G=this.getVStruct();G.v2v&&G.v2v(gx.html.multimediaUpload.getPreviewAtt(this.id+"_ct")||this.multimediaUrl)}},
image:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.image;this.alt="";this.innerImage=new gx.html.controls.imageReadOnly;this.placeHolderClass="gx-image-placeholder";this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na,l,t,A,z,F,K,P,R,S,W,Q,V,T,ca,Z,fa,oa,pa){this.id=G;this.accessKey=O;this.visible=0!=X;this.enabled=0!=U;this.alt=aa;this.title=da;this.borderWidth=ha;this.autoresize=0!=ea;this.width=ja;this.widthUnit=ka;this.height=la;this.heightUnit=Y;
this.vSpace=ba;this.hSpace=na;this.link=I;this.linkTarget=L;this.jsScrCode=l;this.usrOnclick=t;this.eventName=A;this.style=z;this.cssClass=F;this.columnClass=K;this.columnHeaderClass=P;this.align=R;this.extraInputAttributes=S;this.extraImageAttributes=W;this.useMap=Q;this.jsDynCode=V;this.readOnly=0!=T;this.isBlob=gx.lang.gxBoolean(ca);this.isAttribute=gx.lang.gxBoolean(Z);this.imgSrcSet=fa;this.multimediaUrl=pa;this.value=gx.util.resolveUrl(pa);this.themeName=M;this.className=F;this.sLoading=oa;
Z&&(this.className=gx.fn.prefixROClass(F));G=this.getGridData();this.updateinnerImageProperties();this.innerImage.setGridData(G);this.innerImage.column=this.column};this.updateinnerImageProperties=function(){this.innerImage.setProperties(this.id,this.link,this.linkTarget,this.accessKey,this.themeName,this.visible,this.enabled,this.alt,this.title,this.borderWidth,this.autoresize,this.width,this.widthUnit,this.height,this.heightUnit,this.vSpace,this.hSpace,this.jsScrCode,this.usrOnclick,this.eventName,
this.style,this.className,this.columnClass,this.columnHeaderClass,this.align,this.extraImageAttributes,this.useMap,this.jsDynCode,this.imgSrcSet,this.sLoading,this.value)};this.getPreviewHtml=function(){var G=this.value,I=gx.fn.prefixROClass(this.cssClass||"");return['<a target="_blank" class="gx-multimedia-ro"><img id="Object_',this.id,'" class="',I,'" alt="',this.alt,'" src="',G,'" /><span class="',this.placeHolderClass,'"></span></a>'].join("")};this._getHtml=function(){if(this.readOnly||!this.enabled)this.buffer=
this.innerImage.buffer,this.updateinnerImageProperties(),this.innerImage._getHtml();else{this.append(this.startMultimediaUploadControl(this.id,this.visible,this.width,this.style));this.append('<a class="action change-action" gxfocusable="1" href=""'+this.extraInputAttributes+">"+gx.getMessage("GXM_multimediachange")+"</a>");this.append('<a gxfocusable="1" href="" class="action clear-action"></a>');this.append(this.getPreviewHtml());this.append(this.endMultimediaUploadControl(this.id,this.value,this.title,
this.width,this.widthUnit,this.height,this.heightUnit,this.usrOnclick,this.eventName,this.style,this.cssClass,this.align,this.extraInputAttributes,this.readOnly,this.isBlob,"image/*"));var G=gx.html.multimediaUpload.getInputFileEl(this.id);this.grid&&this.grid.parentObject.isTransaction()&&G&&this.grid.addControlToReuse({el:G,hookId:this.id+"_hook"})}}},video:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.video;this.accept="video/*";this.placeHolderClass="gx-video-placeholder"},
audio:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.audio;this.accept="audio/*";this.placeHolderClass="gx-audio-placeholder"},file:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.audio;this.placeHolderClass="gx-download-placeholder"},textBlock:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.textBlock;this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la){this.id=G;this.visible=0!=ha;this.enabled=0!=ea;this.rtEnabled=
0!=ja;this.format=ka;this.title=da;this.link=I;this.linkTarget=L;this.jsScrCode=aa;this.usrOnclick=O;this.eventName=M;this.extraAttributes=X;this.cssClass=U;this.value=gx.text.replaceAll(la,"","'")};this._getHtml=function(){var G=this.getVStruct(),I=this.enabled||this.rtEnabled;if(this.format!=gx.html.controls.formats.RAW_HTML){if(this.format==gx.html.controls.formats.HTML){var L=(this.visible?";display:inline;":";display:none;")+this.extraAttributes;this.append("<div ")}else L=(this.visible?"":
";display:none;")+this.extraAttributes,this.append("<span ");this.tagAtt("id",this.id);this.enabled||(this.cssClass=(this.cssClass||"")+" gx-disabled");""!=this.cssClass&&this.tagAtt("class",this.cssClass);this.tagAtt("data-gxformat",this.format);""!=L&&this.tagAtt("style",L);""!=this.title&&this.tagAtt("title",this.title);gx.fn.controlFiresEvent(G)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,G.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),"textblock"!==
G.ctrltype&&this.tagAtt("tabindex","0"));this.append(">")}I?(L=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row),this.append(gx.html.controls.startAnchor(this.jsScrCode,L,this.usrOnclick,this.link,this.linkTarget))):L="";this.append(gx.html.encodeCaseFormat(this.value,this.format));I&&gx.html.controls.endAnchor(this,L,this.usrOnclick,this.link);this.format==gx.html.controls.formats.HTML?this.append("</div>"):this.format!=gx.html.controls.formats.RAW_HTML&&this.append("</span>");
this.format==gx.html.controls.formats.RAW_HTML&&gx.html.processCode(this.buffer.toString(),!1)}},label:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.label;this.setProperties=function(G,I,L,O,M,X){this.referencedEl=G;this.labelCaption=I;this.labelClass=L;this.extraStyle=X;this.addAttributes=[0===O?"data-gx-sr-only":"",this.extraStyle?'style="'+this.extraStyle+'"':""].join(" ")};this._getHtml=function(){this.append(B("label",{caption:this.labelCaption,className:this.labelClass,
additionalAtts:this.addAttributes,relatedElement:this.referencedEl}))}},button:function(u,y,H,E,J,G){this.base(u,y,H,E,J);this.type=gx.html.controls.types.button;this.caption="";this.buttonStyle=G||"rounded";this.setProperties=function(I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na){this.reset=ba;this.id=I;this.title=X;this.accessKey=U;this.style=aa;this.cssClass=da;this.visible=0!=ha;this.enabled=0!=ea;this.buttonStyle=ja;this.jsScrCode=M;this.usrOnclick=O;this.eventName=ka+(5==this.jsScrCode?"+'"+this.gridRow+
"'":"");this.extraAttributes=la;this.jsCode=L;this.jsDynCode=Y;this.caption=na};this._getHtml=function(){var I=this.getVStruct();this.style+=this.visible?"":";display:none;";var L="BaseRBtn R"+this.cssClass;"rounded"==this.buttonStyle&&(this.cssClass="BtnText",this.append("<span "),this.tagAtt("onclick","gx.evt.doClick('"+this.id+"', event);"),""!=this.style&&this.tagAtt("style",this.style),this.tagAtt("class",L),this.append('><span class="BtnLeft"><span class="BtnRight"><span class="BtnBackground">'));
this.append("<input");L="button";1==this.reset?L="submit":0==this.reset&&(L="reset");this.tagAtt("type",L);L=gx.util.accessKey(this.caption);this.caption=gx.util.accessKeyCaption(this.caption);""==L&&(L=gx.util.accessKey(this.title),this.title=gx.util.accessKeyCaption(this.title));""!=L&&(this.accessKey=L);this.tagAtt("name",this.id);this.tagAtt("id",this.id);this.tagAtt("value",this.caption);""!=this.title&&this.tagAtt("title",this.title);""!=this.accessKey&&this.tagAtt("accesskey",this.accessKey);
this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.enabled||this.append(" disabled");this.append(gx.html.controls.onJsEventAttributes(this.jsScrCode,this.jsCode,this.usrOnclick));this.append(this.extraAttributes);gx.fn.controlFiresEvent(I)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,I.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()));this.append(">");"rounded"==this.buttonStyle&&this.append("</span></span></span></span>")}},
grid:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.grid;this.containerName="";this.setProperties=function(G){this.containerName=G;this.id=this.grid.gxComponentContext+this.containerName+"Div_"+this.gridRow};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.append("></div>")}},userControl:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.userControl;this.containerName="";this.setProperties=function(G,I){this.id=this.containerName=
G;this.visible=0!=I};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("class",gx.uc.gxCssClass);this.append("></div>");this.grid.addUsercontrolToDraw({r:this.gridRow,c:this.column})}},userControlContainer:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.userControlContainer;this.containerName=this.parentName="";this.setProperties=function(G,I){this.parentName=G;this.containerName=I;this.id=this.parentName+this.containerName+"_"+this.gridRow};
this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("style","display:none;");this.tagAtt("class","gx_usercontrol_child");this.append(">")}},webComponent:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.webComponent;this.content=this.controlName="";this.setProperties=function(G){this.controlName=G;var I=this.grid.parentObject.getComponentData(this.controlName);G=I.Prefix;var L=this.grid.gxComponentContext+"gxHTMLWrp"+G+this.gridRow,O=gx.dom.byId(L),
M="";this.grid.addOldComponent(this.gridRow,this.grid.gxComponentContext+G+this.gridRow);if(null!=O)I=L+"_hook",this.grid.addComponentToDraw({create:!1,existingEl:I,el:L,p:this.grid.gxComponentContext+G+this.gridRow}),L=I;else if(!gx.lang.emptyObject(gx.csv.lastEvtResponse)&&!gx.lang.emptyObject(gx.csv.lastEvtResponse.gxComponents))if(O=gx.csv.lastEvtResponse.gxComponents[L],gx.lang.emptyObject(O))M="";else{M=gx.html.cleanHtmlRefs(O);var X=gx.fn.getHidden(this.grid.gxComponentContext+G+this.gridRow);
X||(X=I.GXClass);gx.lang.emptyObject(X)||this.grid.addComponentToDraw({load:!0,n:X.toLowerCase(),p:this.grid.gxComponentContext+G+this.gridRow,c:O})}this.id=L;this.content=M};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("class",gx.GxObject.WEBCOMPONENT_CLASS_NAME);this.append(">");this.append(this.content);this.append("</div>")}},embeddedPage:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.embeddedPage;this.align="center";this.scrollbars=
"auto";this.borderStyle="1";this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea){this.id=G;this.value=I;this.visible=0!=L;this.width=O;this.widthUnit=M;this.height=X;this.heightUnit=U;this.borderStyle=aa;this.align=da;this.title=ha;this.scrollbars=ea};this._getHtml=function(){this.style+=this.visible?"":";display:none;";this.append("<iframe");this.tagAtt("frameborder",this.borderStyle);this.tagAtt("align",this.align);this.tagAtt("scrolling",this.scrollbars);0<this.height&&this.tagAtt("height",this.height+
this.heightUnit);0<this.width&&this.tagAtt("width",this.width+this.widthUnit);""!=this.title&&this.tagAtt("title",this.title);""!=this.id&&(this.tagAtt("id",this.id),this.tagAtt("name",this.id));""!=this.value&&this.tagAtt("src",this.value);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.append(">");this.append("</iframe>")}},table:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.table;this.backColor=this.cellPadding=
this.cellSpacing="";this.setProperties=function(G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka,la,Y,ba,na){this.id=G;this.visible=0!=I;this.cssClass=L;this.background=O;this.backColor=M;this.borderColor=X;this.align=U;this.title=aa;this.borderWidth=da;this.cellPadding=ha;this.cellSpacing=ea;this.height=ja;this.width=ka;this.rules=la;this.heightUnit=Y;this.widthUnit=ba;this.style="";this.header=na};this._getHtml=function(){var G=this.getVStruct();this.style+=this.visible?"":";display:none;";""!=this.background&&
(this.background=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+this.background,!0),this.style=this.style+"background-image: url("+this.background+");");if(""!=this.backColor){var I=parseInt(this.backColor);I=isNaN(I)?this.backColor:gx.color.html(I).Html;this.style=this.style+"background-color: "+I+";"}""!=this.borderColor&&(I=parseInt(this.borderColor),I=isNaN(I)?this.borderColor:gx.color.html(I).Html,this.style=this.style+"border-color: "+I+";");""!=this.borderWidth&&(this.style=this.style+
"border-width: "+this.borderWidth+";");""!=this.height&&(this.style=this.style+"height: "+this.height+this.heightUnit+";");""!=this.width&&(this.style=this.style+"width: "+this.width+this.widthUnit+";");this.append("<table");this.tagAtt("id",this.id);this.tagAtt("align",this.align);""!=this.borderWidth&&this.tagAtt("border",this.borderWidth);""!==this.cellSpacing&&this.tagAtt("data-cellspacing",this.cellSpacing);""!==this.cellPadding&&this.tagAtt("data-cellpadding",this.cellPadding);""!=this.rules&&
"none"!=this.rules&&this.tagAtt("rules",this.rules);""!=this.title&&this.tagAtt("title",this.title);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);G.evt&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,G.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.tagAtt("tabindex","0"));this.append(">");""!=this.header&&(this.append("<caption>"),this.append(this.header),this.append("</caption>"))}},row:function(u,
y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.row;this.verticalAlign=this.align=this.borderColor=this.backColor="";this.isFreestyleRow=!1;this.oncontextmenu="";this.setProperties=function(G,I,L){I&&(this.cssClass=this.ownCssClass?I+(this.ownCssClass?" "+this.ownCssClass:""):I);this.style=L};this._getHtml=function(){this.append("<tr");""!=this.id&&this.tagAtt("id",this.id);this.isFreestyleRow&&this.tagAtt("data-gxrow",this.gridRow);""!=this.backColor&&(this.style=this.style+"background-color:"+
this.backColor+";");""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.style&&this.tagAtt("style",this.style);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.oncontextmenu&&this.tagAtt("oncontextmenu",this.oncontextmenu);this.append(">")}},cell:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.cell;this.className=
this.rowSpan=this.colSpan=this.verticalAlign=this.align=this.borderColor=this.backColor=this.background=this.style="";this.setProperties=function(G,I,L){this.background=G;this.cssClass=L;I&&""!=I&&0<I.indexOf("style=")&&(this.style=I.substring(8),this.style=this.style.substring(0,this.style.length-1)+";")};this._getHtml=function(){this.append("<td");"undefined"!=typeof this.width&&0!=this.width&&this.tagAtt("width",this.width);"undefined"!=typeof this.height&&0!=this.height&&this.tagAtt("height",
this.height);""!=this.background&&this.tagAtt("background",this.background);""!=this.backColor&&(this.style+="background-color:"+this.backColor+";");""!=this.style&&this.tagAtt("style",this.style);""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.colSpan&&this.tagAtt("colspan",this.colSpan);""!=this.rowSpan&&this.tagAtt("rowspan",this.rowSpan);""!=this.cssClass&&
this.tagAtt("class",this.cssClass);this.append(">")}},responsiveRow:function(u,y,H,E,J){this.base(u,y,H,E,J);this._getHtml=function(){this.append("<div");""!=this.id&&this.tagAtt("id",this.id);this.isFreestyleRow&&this.tagAtt("data-gxrow",this.gridRow);""!=this.backColor&&(this.style=this.style+"background-color:"+this.backColor+";");""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",
this.verticalAlign);""!=this.style&&this.tagAtt("style",this.style);this.tagAtt("class","row "+(this.cssClass||""));""!=this.oncontextmenu&&this.tagAtt("oncontextmenu",this.oncontextmenu);this.append(">")}},responsiveCell:function(u,y,H,E,J){this.base(u,y,H,E,J);this._getHtml=function(){this.append("<div");"undefined"!=typeof this.width&&0!=this.width&&this.tagAtt("width",this.width);"undefined"!=typeof this.height&&0!=this.height&&this.tagAtt("height",this.height);""!=this.background&&this.tagAtt("background",
this.background);""!=this.backColor&&(this.style+="background-color:"+this.backColor+";");""!=this.style&&this.tagAtt("style",this.style);""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.colSpan&&this.tagAtt("colspan",this.colSpan);""!=this.rowSpan&&this.tagAtt("rowspan",this.rowSpan);this.tagAtt("class","col-xs-12 "+(this.cssClass||""));this.append(">")}},
group:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.group;this.caption="";this.setProperties=function(G,I,L,O,M,X,U,aa,da){this.id=G;this.caption=I;this.visible=0!=L;this.width=O;this.widthUnit=M;this.height=X;this.heightUnit=U;this.cssClass=aa;this.extraAtts=da};this._getHtml=function(){this.append("<fieldset");this.tagAtt("id",this.id);this.tagAtt("name",this.id);""!=this.cssClass&&this.tagAtt("class",this.cssClass);var G="-moz-border-radius:3pt;";"0"!=this.width&&(G+=
"width: "+this.width+this.widthUnit+";");"0"!=this.height&&(G+="height: "+this.height+this.heightUnit+";");this.visible||(G+="display:none;");this.tagAtt("style",G);""!=this.extraAtts&&this.append(this.extraAtts);this.append(">");this.append("<legend");""!=this.cssClass&&this.tagAtt("class",this.cssClass+"Title");this.append(">");this.append(gx.getMessage(this.caption));this.append("</legend>")}},div:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.div;this.setProperties=
function(G,I,L,O,M,X,U,aa,da,ha,ea){this.id=G;this.visible=0!=I;this.width=L;this.widthUnit=O;this.height=M;this.heightUnit=X;this.cssClass=U;this.align=aa;this.vAlign=da;this.extraAtts=ha;this.extraStyle=ea};this._getHtml=function(){var G=this.getVStruct(),I=this.align&&"left"!=this.align.toLowerCase()&&"start"!=this.align.toLowerCase(),L=this.vAlign&&"top"!=this.vAlign.toLowerCase(),O=this.visible?"":";display:none;",M=this.align.toLowerCase(),X=this.vAlign.toLowerCase(),U=M,aa=X;"justify"===U&&
(U="space-evenly");"middle"===aa?aa="center":"bottom"===aa&&(aa="end");""!=this.height&&(O=O+"height: "+this.height+this.heightUnit+";");""!=this.width&&(O=O+"width: "+this.width+this.widthUnit+";");O+=this.extraStyle;this.append("<div");this.id&&this.tagAtt("id",this.id);""!=this.cssClass&&this.tagAtt("class",this.cssClass);if(I||L)this.tagAtt("data-valign",""),O="display:flex;justify-content:"+U+";"+O,L&&(O=O+";flex-wrap:wrap;align-content:"+aa+";");""!=O&&this.tagAtt("style",O);""!=this.extraAtts&&
this.append(this.extraAtts);I&&this.tagAtt("data-align",M);L&&this.tagAtt("data-valign",X);gx.fn.controlFiresEvent(G)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,G.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.tagAtt("tabindex","0"));this.append(">")}},divEnd:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.divEnd;this.setProperties=function(G,I){this.align=G;this.vAlign=I};this._getHtml=function(){this.append("</div>")}},formGroup:function(u,
y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.formGroup;this.setProperties=function(G){this.captionPosition=G};this._getHtml=function(){1===this.captionPosition&&this.append('<div class="form-group gx-form-group">')}},formGroupEnd:function(u,y,H,E,J){this.base(u,y,H,E,J);this.type=gx.html.controls.types.formGroupEnd;this.setProperties=function(G){this.captionPosition=G};this._getHtml=function(){1===this.captionPosition&&this.append("</div>")}},specificDomainCtrls:function(u){if(u.domainName==
gx.domains.component&&0==u.enabled){var y=u.enabled?";display:none;":"",H=u.id+"_comp_trigger",E=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"Resources\\"+gx.theme+"\\Select.png",!1);u.append("<img");u.tagAtt("src",E);u.tagAtt("id",H);u.tagAtt("class","");u.tagAtt("style",y+" margin-left:2px; cursor:pointer;");u.tagAtt("onclick","gx.popup.openUrl('"+u.value+"')");u.append("/>");y=[];y.push(u.column.gxId)}else u.dataType==gx.types.geolocation&&(y=u.enabled?"":";display:none;",H=u.id+"_geoLocMe",
u.append("<img"),u.tagAtt("src",gx.ajax.getImageUrl(gx,"myLocationImage")),u.tagAtt("id",H),u.tagAtt("class","GeoLocOption"),u.tagAtt("style",y),u.tagAtt("onclick","gx.geolocation.getMyPosition(this)"),u.append(">"),y=[],y.push(u.column.gxId))},_init:function(){gx.lang.inherits(this.singleLineEdit,this.htmlControl);gx.lang.inherits(this.multipleLineEdit,this.singleLineEdit);gx.lang.inherits(this.blob,this.htmlControl);gx.lang.inherits(this.radio,this.htmlControl);gx.lang.inherits(this.comboBox,this.htmlControl);
gx.lang.inherits(this.listBox,this.comboBox);gx.lang.inherits(this.checkBox,this.htmlControl);gx.lang.inherits(this.imageReadOnly,this.htmlControl);gx.lang.inherits(this.textBlock,this.htmlControl);gx.lang.inherits(this.button,this.htmlControl);gx.lang.inherits(this.grid,this.htmlControl);gx.lang.inherits(this.userControl,this.htmlControl);gx.lang.inherits(this.userControlContainer,this.htmlControl);gx.lang.inherits(this.webComponent,this.htmlControl);gx.lang.inherits(this.embeddedPage,this.htmlControl);
gx.lang.inherits(this.table,this.htmlControl);gx.lang.inherits(this.row,this.htmlControl);gx.lang.inherits(this.cell,this.htmlControl);gx.lang.inherits(this.group,this.htmlControl);gx.lang.inherits(this.multimedia,this.htmlControl);gx.lang.inherits(this.image,this.multimedia);gx.lang.inherits(this.video,this.multimedia);gx.lang.inherits(this.file,this.multimedia);gx.lang.inherits(this.audio,this.multimedia);gx.lang.inherits(this.div,this.htmlControl);gx.lang.inherits(this.divEnd,this.htmlControl);
gx.lang.inherits(this.responsiveRow,this.row);gx.lang.inherits(this.responsiveCell,this.cell);gx.lang.inherits(this.label,this.htmlControl);gx.lang.inherits(this.formGroup,this.htmlControl);gx.lang.inherits(this.formGroupEnd,this.htmlControl)}}}()}}(gx.$);
gx.util.Observable=function(){var f={};return{observers:[],initialObservers:[],addObserver:function(n,g,m,a){new gx.thread.Mutex(this,this.addObserverSync,arguments)},addObserverSync:function(n,g,m,a){a=a||{};if(!1===a.unique||0>this.indexOf(n,g,m)){var b={e:n,o:g,f:m,cfg:a};a&&a.observerKey&&(f[a.observerKey]=f[a.observerKey]||[],f[a.observerKey].push(b));this.observers.push(b);!0===a.doNotDelete&&this.initialObservers.push({e:n,o:g,f:m,cfg:a})}},deleteObserverByKey:function(n){f[n]&&(gx.$.each(f[n],
function(g,m){gx.fx.obs.deleteObserver(m.e,m.o,m.f)}),f[n]=[])},deleteObserver:function(n,g,m){new gx.thread.Mutex(this,this.deleteObserverSync,[n,g,m])},deleteObserverSync:function(n,g,m){n=this.indexOf(n,g,m);0<=n&&this.observers.splice(n,1)},removeAll:function(){this.observers=this.initialObservers.slice()},indexOf:function(n,g,m){for(var a=this.observers.length,b=0;b<a;b++){var c=this.observers[b];if(c&&c.e==n&&c.o==g&&c.f==m)return b}return-1},notify_count:0,notify:function(n,g,m){g||(g=[]);
var a=this.observers.length;this.notify_count+=1;for(var b=[],c,d=0;d<a;d++){var e=this.observers[d];if(e&&e.e==n&&!e.removed)try{e.cfg&&e.cfg.single&&(e.removed=!0),c=e.f.apply(e.o,g),e.cfg&&e.cfg.async&&b.push(c)}catch(h){gx.dbg.logEx(h,"gxfx.js","gx.obs.notify")}}gx.$.when.apply($,b).then(function(){--this.notify_count;if(0===this.notify_count)for(var h=this.observers.length-1;0<=h;h--)this.observers[h].removed&&this.observers.splice(h,1);m&&m()}.closure(this))}}};
gx.fx={GX_DATA_SUGGEST_LENGTH:"data-gx-suggest-length",GX_DATA_SUGGEST:"data-gx-suggest",delayedSuggest:function(){gx.$.each(gx.suggestControls,function(f,n){gx.fx.installSuggest(n,!0)})},installSuggest:function(f,n){if(!n&&document.readyState&&"complete"!=document.readyState)gx.suggestControls[f.id]=f;else try{var g=gx.O.getValidStructFld(f.id);if(g&&!gx.lang.emptyObject(g.gxsgprm)){var m=0<g.grid?gx.fn.currentGridRowImpl(g.grid):"main",a=g.gxsgprm;a.installed||(a.installed={});a.installed[m]||(gx.ajax.suggest(gx.O,
a[1],f.id,a[0],a[3],a[2]),a.installed[m]=!0,$(f).attr(gx.fx.GX_DATA_SUGGEST,"true"),$(f).attr(gx.fx.GX_DATA_SUGGEST_LENGTH,$(f).val().length))}}catch(b){gx.dbg.logEx(b,"gxfx.js","installSuggest")}},updateSuggestParms:function(f){if(f)for(var n=f.length,g=0;g<n;g++){var m=gx.fn.validStruct(f[g]);m&&"function"==typeof m.c2v&&m.c2v()}},firesuggest:function(f,n,g,m){gx.evt.isComposing?gx.evt.firesuggestdelayed||(gx.evt.firesuggestdelayed=!0,gx.evt.doAfterComposing(function(){gx.fx.firesuggestimpl(f,n,
g,m)},this)):gx.fx.firesuggestimpl(f,n,g,m)},firesuggestimpl:function(f,n,g,m){gx.evt.firesuggestdelayed=!1;this.updateSuggestParms(m);if(f.textbox.value)return n.requestSuggestions(f.sdtParms,function(){n.values?f.autosuggest(n.values,g):f.hideSuggestions();delete gx.fx.delayedValidation;gx.fx.obs.notify("gx.validation")});if(""===f.textbox.value)gx.evt.onchange_impl(f.textbox);delete gx.fx.delayedValidation;gx.fx.obs.notify("gx.validation")},autoSuggestControl:function(f,n,g,m,a,b){this.cur=-1;
this.layer=this.IFrameControl=null;this.provider=n;this.textbox=f;"undefined"==typeof this.textbox.GXonblur&&(this.textbox.GXonblur=f.onblur);this.ControlRefresh=g;this.typeahead=m;this.suggestParms=a||[];this.sdtParms=b||[];this.requestSuggestions=function(c,d,e){gx.fx.delayedValidation=!0;var h=this.suggestParms;this.timer&&window.clearTimeout(this.timer);this.timer=window.setTimeout(function(){gx.fx.firesuggest(c,d,e,h)},400)};this.hideSuggestions=function(){$(this.IFrameControl).hide();$(this.layer).hide()};
this.highlightSuggestion=function(c){for(var d=this.layer.childNodes.length,e=0;e<d;e++){var h=this.layer.childNodes[e];h==c?h.className="current":"current"==h.className&&(h.className="")}};this.init=function(){var c=function(d){d||(d=window.event);this.handleKeyUp(d)};gx.evt.attach(this.textbox,"keyup",c.closure(this));gx.evt.attach(this.textbox,"keydown",function(d){d||(d=window.event);this.handleKeyDown(d)}.closure(this));gx.evt.attach(this.textbox,"blur",function(){this.hideSuggestions();this.textbox.GXonblur()}.closure(this));
gx.util.browser.isFirefox()&&gx.evt.attach(this.textbox,"input",c.closure(this));this.createDropDown()};this.nextSuggestion=function(){var c=this.layer.childNodes;0<c.length&&(this.cur=this.cur<c.length-1?this.cur+1:0,c=c[this.cur],this.highlightSuggestion(c),this.pickvalue(c.firstChild.nodeValue))};this.previousSuggestion=function(){var c=this.layer.childNodes;0<c.length&&(this.cur=0<this.cur?this.cur-1:c.length-1,c=c[this.cur],this.highlightSuggestion(c),this.pickvalue(c.firstChild.nodeValue))};
this.selectRange=function(c,d){if(this.textbox.createTextRange){var e=this.textbox.createTextRange();e.moveStart("character",c);e.moveEnd("character",d-this.textbox.value.length);e.select()}else this.textbox.setSelectionRange&&this.textbox.setSelectionRange(c,d);gx.csv.stopOnError&&this.textbox.focus()};this.showSuggestions=function(c){if(!document.activeElement||this.textbox==document.activeElement){this.cur=-1;this.setupLayer();gx.dom.shouldPurge()&&gx.dom.purge(this.layer,!0);this.layer.innerHTML=
"";if(!this.IFrameControl){var d=!1;this.IFrameControl=gx.dom.byId("gxAutosuggestIFrame");this.IFrameControl||(d=!0,this.IFrameControl=document.createElement("IFRAME"),this.IFrameControl.src="about:blank",this.IFrameControl.id="gxAutosuggestIFrame");$(this.IFrameControl).css({zIndex:1,display:"none",position:"absolute"});this.IFrameControl.frameBorder="0";d&&document.body.appendChild(this.IFrameControl)}for(var e=c.length,h=0;h<e;h++)d=document.createElement("div"),d.appendChild(document.createTextNode(c[h].d)),
d.style.width=this.textbox.offsetWidth,this.layer.appendChild(d);this.layer.style.left=this.getLeft()+"px";this.layer.style.top=this.getTop()+this.textbox.offsetHeight+"px";this.layer.style.zIndex=2;this.IFrameControl.style.top=this.layer.style.top;this.IFrameControl.style.left=this.layer.style.left;this.IFrameControl.style.height=this.layer.offsetHeight;this.IFrameControl.style.width=this.layer.offsetWidth;$([this.IFrameControl,this.layer]).show()}};this.typeAhead=function(c){if(this.textbox.createTextRange||
this.textbox.setSelectionRange){var d=this.textbox.value.length;this.pickvalue(c);c=c.length;d<c&&this.selectRange(d,c)}};this.pickvalue=function(c,d){for(var e=this.aSuggestions?this.aSuggestions.length:0,h=0;h<e;h++)if(this.aSuggestions[h].d==c){this.textbox.value=c;!0===d&&gx.evt.fireEvent(this.textbox,"input");break}};this.autosuggest=function(c,d){this.aSuggestions=c;c=this.aSuggestions.length;if(d&&null!=this.aSuggestions&&1==c)this.typeAhead(this.aSuggestions[0].d);else if(this.textbox==gx.csv.lastControl&&
null!=this.aSuggestions&&0<c&&(1==c&&this.aSuggestions[0].d!=this.textbox||1<c)){this.showSuggestions(this.aSuggestions);return}this.hideSuggestions()};this.createDropDown=function(){var c=!1;this.layer=gx.dom.byId("gxAutosuggestElement");this.layer||(c=!0,this.layer=document.createElement("div"),this.layer.className="suggestions",this.layer.id="gxAutosuggestElement");this.setupLayer();c&&document.body.appendChild(this.layer)};this.setupLayer=function(){$(this.layer).hide();this.textbox.offsetWidth&&
$(this.layer).width(this.textbox.offsetWidth);this.layer.onmousedown=this.layer.onmouseup=this.layer.onmouseover=function(c){c=c||window.event;var d=gx.evt.source(c);"mousedown"==c.type?(gx.evt.stopPropagation(c),this.pickvalue(d.firstChild.nodeValue,!0),this.hideSuggestions(),window.setTimeout(function(){gx.fn.setFocus(this.textbox)}.bind(this),100)):"mouseover"==c.type?this.highlightSuggestion(d):this.textbox.focus()}.closure(this)};this.getLeft=function(){for(var c=this.textbox,d=0;null!=c&&"BODY"!=
c.tagName;)d+=c.offsetLeft,c=c.offsetParent;for(c=this.textbox;null!=c&&"BODY"!=c.tagName;)d-=c.scrollLeft,c=c.parentNode;return d};this.getTop=function(){for(var c=this.textbox,d=0;null!=c&&"BODY"!=c.tagName;)d+=c.offsetTop,c=c.offsetParent;for(c=this.textbox;null!=c&&"BODY"!=c.tagName;)d-=c.scrollTop,c=c.parentNode;return d};this.handleKeyDown=function(c){switch(c.keyCode){case 38:this.previousSuggestion();gx.evt.cancel(c,!0);break;case 40:this.nextSuggestion();gx.evt.cancel(c,!0);break;case 13:this.hideSuggestions()}};
this.handleKeyUp=function(c){c=c.keyCode;if(9==c)this.hideSuggestions();else if(8==c||46==c)this.requestSuggestions(this,this.provider,!1);else if(!(32>c||33<=c&&46>c||112<=c&&123>=c))this.requestSuggestions(this,this.provider,this.typeahead);else if(0===c){c=this.textbox.value.length;var d=parseInt($(this.textbox).attr(gx.fx.GX_DATA_SUGGEST_LENGTH)||"0",10);c!==d&&this.requestSuggestions(this,this.provider,this.typeahead)}$(this.textbox).attr(gx.fx.GX_DATA_SUGGEST_LENGTH,this.textbox.value.length)};
this.init()},suggestProvider:function(f,n,g,m){this.requestSuggestions=function(a,b,c,d){var e,h=gx.ajax.gxObjectUrl(f)+"?",r="gxajaxSuggest_"+m,v=n.length;for(e=0;e<v;e++){var x=gx.fn.evalCtxScope(f,n[e]);void 0!=x&&(r+=","+encodeURIComponent(x))}r+=","+encodeURIComponent(void 0===d?gx.fn.getControlValue_impl(g):d);v=a.length;for(e=0;e<v;e++)r+=","+encodeURIComponent(gx.fn.evalCtxScope(f,a[e]));h+=gx.ajax.encryptParms(f,r);gx.http.doCall({method:"GET",url:h,handler:function(D,k){D=gx.json.evalJSON(k);
this.values=gx.fx.returnSuggestValues(this.VarRefresh,D[0]);b()},error:c,obj:this})}},returnSuggestValues:function(f,n){return n},addElement:function(f,n,g){if(!this.elementExists(f,n,g)){var m=n.id;!0===g&&(m+=n.types.sort().join(""));f.splice(0,0,n);f[m]=n}},elementExists:function(f,n,g){var m=n.id;!0===g&&(m+=n.types.sort().join(""));return f[m]?!0:!1},deleteElement:function(f,n,g){var m=n;g&&(m+=g.sort().join(""));f[m]&&delete f[m];m=f.length;for(var a=0;a<m;a++){var b=f[a];if(b.id==n)if(g){if(this.matchingTypes(g,
b.types)){f.splice(a,1);break}}else{f.splice(a,1);break}}return f},matchingTypes:function(f,n){for(var g=n.length,m=0;m<g;m++){for(var a=!1,b=f.length,c=0;c<b;c++)n[m].toLowerCase()==f[c].toLowerCase()&&(a=!0);if(!a)return!1}return!0},findControl:function(f,n,g,m){n=gx.dom.el(g);if(null!=n&&"none"!==$(n).css("display"))return n;n=gx.fn.getRONode(g,!1);if(m&&null!=n&&$(n).is(":visible"))return n;n=gx.dom.el("gxHTMLWrp"+g);if(null!=n)return n;m&&!f.id&&"A"===f.tagName&&(f=f.parentNode);g="(^"+(m?"("+
gx.fn.getRONodePrefix()+")?":"")+"v?"+g+"_(?:(?:[0-9]){4})+$)";g=new RegExp(g);return null!=f&&g.test(f.id)?f:null},isUnderMouse:function(f){var n=gx.evt.mouse.x,g=gx.evt.mouse.y,m=gx.dom.position(f),a=gx.dom.dimensions(f);return n>=m.x&&n<=m.x+a.w&&g>=m.y&&g<=m.y+a.h||"DIV"==f.tagName&&0===a.w&&0===a.h&&f.firstChild&&(m=gx.dom.position(f.firstChild),a=gx.dom.dimensions(f.firstChild),n>=m.x&&n<=m.x+a.w&&g>=m.y&&g<=m.y+a.h)?!0:!1},dom:{generics:[],dblclicks:[],getEventHandlers:function(f){return"dblclick"==
f?this.dblclicks:this.generics},addEventHandler:function(f,n,g,m){g=gx.lang.emptyObject(f)?g:f.CmpContext+g;f={id:n+g,cId:g,type:n,obj:f,hdl:m};n=this.getEventHandlers(n);gx.fx.addElement(n,f,!1)},deleteEventHandlers:function(f){for(var n=[this.dblclicks,this.generics],g=n.length,m=0;m<g;m++){for(var a=[],b=n[m],c=b.length,d=0;d<c;d++){var e=b[d];e.obj==f&&a.push(e)}c=a.length;for(d=0;d<c;d++)gx.fx.deleteElement(b,a[d].id)}},hasEventHandler:function(f,n){var g=gx.evt.source(n);f=this.getEventHandlers(f);
for(var m=f.length,a=!1,b=0;b<m&&!a;b++){var c=f[b];c=gx.fx.findControl(g,c.obj,c.cId,!0);null!=c&&(a=n.currentTarget===c||gx.fx.isUnderMouse(c))}return a},delayedDispatch:function(f){return gx.fx.dom.hasEventHandler("dblclick",f)},raiseEvent:function(f,n){n=gx.evt.source(n);var g=$(n),m=gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR;"dblclick"==f&&(clearTimeout(parseInt(g.attr(m),10)),g.removeAttr(m));f=this.getEventHandlers(f);g=f.length;for(m=0;m<g;m++){var a=f[m],b=gx.fx.findControl(n,a.obj,a.cId,
!0);null!=b&&gx.fx.isUnderMouse(b)&&a.hdl.call(a.obj)}},highlight:function(f,n,g){var m=gx.color.fromRGB(n[0],n[1],n[2]),a=gx.dom.getStyle(f,"backgroundColor"),b="transparent"==a||"rgba(0, 0, 0, 0)"==a;return{play:function(){f.style.backgroundColor=m.Html;setTimeout(this.end,g)},end:function(){var c=a;b&&(c="transparent");f.style.backgroundColor=c}}}},obs:new gx.util.Observable,dnd:{obj:null,dragCtrl:null,clonCtrl:null,sources:[],targets:[],dropCtrl:null,noDropCtrl:null,toHdl:null,drag:function(f,
n,g){g&&(gx.evt.setEventRow(f,this.dragCtrl),this.obj=g.call(f,this.dragCtrl),this.obj.gxDragTypes=n)},drop:function(f,n,g){g&&g.call(n,f,this.dragCtrl,this.obj)},noDrop:function(){var f=this.noDropCtrl;null!=f&&f.gxDndClassName&&(f.className=f.gxDndClassName+"NoAcceptDrag")},out:function(){var f=this.dropCtrl;f&&f.gxClassName&&(f.className=f.gxClassName);this.dropCtrl=null;f=this.noDropCtrl;null!=f&&f.gxClassName&&(f.className=f.gxClassName);this.noDropCtrl=null},over:function(){var f=this.dropCtrl;
null!=f&&f.gxDndClassName&&(f.className=f.gxDndClassName+"AcceptDrag")},deleteClonControl:function(){null!=this.clonCtrl&&gx.dom.removeControlSafe(this.clonCtrl);this.clonCtrl=null},restoreControl:function(){var f=this.clonCtrl;null!=f&&(null==this.toHdl&&(f.dropLeft=parseFloat(f.style.left||"0"),f.dropTop=parseFloat(f.style.top||"0"),this.toHdl=setInterval("gx.fx.dnd.restoreControl()",2)),this.controlRestored()?(clearInterval(this.toHdl),this.toHdl=null,this.deleteClonControl()):(f=this.nextCoords(),
this.moveDragControl(f.X,f.Y)))},nextCoords:function(){var f=this.clonCtrl,n=parseFloat(f.style.left||"0"),g=parseFloat(f.style.top||"0");n>=g?(--n,g=f.dropTop-(f.dropTop-f.originalTop)*(f.dropLeft-n)/(f.dropLeft-f.originalLeft)):(--g,n=f.dropLeft-(f.dropTop-g)*(f.dropLeft-f.originalLeft)/(f.dropTop-f.originalTop));n<=f.originalLeft&&(n=f.originalLeft);g<=f.originalTop&&(g=f.originalTop);return{X:n,Y:g}},moveControl:function(f){if(null==this.clonCtrl){var n=document.createElement("DIV");n.style.position=
"absolute";f.gxDndClassName&&(n.className=f.gxDndClassName+"Dragging");gx.dom.shouldPurge()&&gx.dom.purge(n,!0);n.innerHTML=this.dragInfo();gx.fn.setOpacity(50,n);document.body.appendChild(n);n.originalLeft=gx.evt.mouse.x-10;n.originalTop=gx.evt.mouse.y-10;n.diffLeft=10;n.diffTop=10;this.clonCtrl=n}this.moveDragControl(gx.evt.mouse.x,gx.evt.mouse.y)},controlRestored:function(){var f=this.clonCtrl;if(null==f)return!0;var n=parseFloat(f.style.left||"0"),g=parseFloat(f.style.top||"0")-f.originalTop;
return 0>=n-f.originalLeft&&0>=g?!0:!1},moveDragControl:function(f,n){try{var g=this.clonCtrl;null!=g&&(g.style.left=f-g.diffLeft+"px",g.style.top=n-g.diffTop+"px")}catch(m){this.deleteClonControl()}},dragInfo:function(){if(null!=this.obj){var f="",n="",g;for(g in this.obj){if("gxDragTypes"!=g){var m=[f];if("function"==typeof this.obj[g])continue;n+=g+": "+this.obj[g]+"</br>";f=m[0]}if(5<=f){n+="...";break}f++}return n}return""},deleteHandlers:function(f){gx.thread.Mutex(this,this.deleteHandlersSync,
[f])},deleteHandlersSync:function(f){var n=[],g,m=this.sources.length;for(g=0;g<m;g++){var a=this.sources[g];a.obj!=f&&n.push(a)}this.sources=n;n=[];m=this.targets.length;for(g=0;g<m;g++)a=this.targets[g],a.obj!=f&&n.push(a);this.targets=n},addSource:function(f,n,g,m,a){gx.thread.Mutex(this,this.addSourceSync,[f,n,g,m,a])},addSourceSync:function(f,n,g,m,a){n=gx.lang.emptyObject(f)?n:f.CmpContext+n;gx.fx.addElement(this.sources,{id:n,cssClass:g,types:m,obj:f,hdl:a},!1)},addTarget:function(f,n,g,m,
a){gx.thread.Mutex(this,this.addTargetSync,[f,n,g,m,a])},addTargetSync:function(f,n,g,m,a){n=gx.lang.emptyObject(f)?n:f.CmpContext+n;gx.fx.addElement(this.targets,{id:n,cssClass:g,types:m,obj:f,hdl:a},!0)},deleteSource:function(f){gx.thread.Mutex(this,this.deleteSourceSync,[f])},deleteSourceSync:function(f){this.sources=gx.fx.deleteElement(this.sources,f)},getSource:function(f){f=gx.evt.source(f);for(var n=this.sources.length,g=0;g<n;g++){var m=this.sources[g],a=this.dragCtrl=gx.fx.findControl(f,
m.obj,m.id);if(null!=a&&(a.gxClassName=a.className,a.gxDndClassName=m.cssClass,gx.fx.isUnderMouse(a)))return m}return this.obj=this.dragCtrl=null},getTarget:function(f,n){f=gx.evt.source(f);for(var g=this.targets.length,m=0;m<g;m++){var a=this.targets[m],b=gx.fx.findControl(f,a.obj,a.id);if(null!=b&&(b.gxClassName=b.className,b.gxDndClassName=a.cssClass,gx.fx.isUnderMouse(b))){if(gx.fx.matchingTypes(n,a.types))return this.noDropCtrl=null,this.dropCtrl=b,a;this.out();this.noDropCtrl=b;this.noDrop();
return null}}this.out();return null}},notifications:{queuedEvents:[],initialize:function(f){this.serialRunner=gx.evt.serialRunner();f.notifications||(f.notifications=[],gx.fx.obs.addObserver("gx.ws.onMessage.notifications",f,gx.fx.notifications.notify.closure(f),{single:!1,doNotDelete:f.IsMasterPage}),gx.fx.obs.addObserver("gx.onafterevent",f,gx.fx.notifications.fireQueuedEvents.closure(f),{single:!1,doNotDelete:f.IsMasterPage}));if(!this.webSocket){f.fullAjax||gx.dbg.write('Warning: WebNotifications are not supported with "Web User Experience": "Previous versions". You must use Smooth.');
f=gx.fn.getHidden("GX_WEBSOCKET_PORT");var n=gx.basePath&&0<gx.basePath.length?"/":"";this.webSocket=new gx.webSocket({port:f,clientId:gx.fn.getHidden("GX_WEBSOCKET_ID"),wsProtocol:"https:"===location.protocol?"wss://":"ws://",host:f?location.hostname+":"+f+"/":location.host+"/",resourceUrl:n+"gxwebsocket?",basePath:gx.basePath,namespace:"notifications"})}},deinit:function(){gx.fx.notifications.queuedEvents=[]},addTracker:function(f,n,g,m,a,b){gx.fx.notifications.initialize(f);f.notifications[n||
""]={gxO:f,handler:a,eventName:g,type:m,noWait:b}},notify:function(f){f=gx.json.evalJSON(f);var n=this.notifications[f.GroupName||""];n&&(gx.fx.notifications.queuedEvents.push({notifObj:n,data:f,executed:!1}),(n.noWait||gx.isInputEnabled())&&gx.fx.notifications.fireQueuedEvents())},fireQueuedEvents:function(){var f=gx.fx.notifications.queuedEvents.slice();gx.fx.notifications.queuedEvents=[];var n=gx.fx.notifications.serialRunner;f.forEach(function(g){if(!g.executed){var m=g.notifObj.gxO;g.executed=
!0;if(gx.lang.emptyObject(g.data.Object)||g.data.Object.toUpperCase()==m.ServerClass.toUpperCase())task=function(){var a=g.notifObj.eventName;if(a){var b=m.isServerEvent(a),c={};c[g.notifObj.type[0][0]]=g.data;m.setEventParameters(g.notifObj.type,c);gx.evt.dispatcher.dispatch(m.getServerEventName(a),m,0,0,b,void 0,void 0,!0).done(function(){n.signalEndTask()})}else g.notifObj.handler(g.data),n.signalEndTask()},n.addTask(task)}})}},ctx:{setters:[],trackers:[],deleteHandlers:function(f){gx.thread.Mutex(this,
this.deleteHandlersSync,[f])},deleteHandlersSync:function(f){var n,g=[],m=this.setters.length;for(n=0;n<m;n++){var a=this.setters[n];a.obj!=f&&g.push(a)}this.setters=g;g=[];m=this.trackers.length;for(n=0;n<m;n++)a=this.trackers[n],a.obj!=f&&g.push(a);this.trackers=g},addSetter:function(f,n,g,m,a){gx.thread.Mutex(this,this.addSetterSync,[f,n,g,m,a])},addSetterSync:function(f,n,g,m,a){n=gx.lang.emptyObject(f)?n:f.CmpContext+n;gx.fx.addElement(this.setters,{id:n,cssClass:g,types:m,obj:f,hdl:a},!1)},
addTracker:function(f,n,g){gx.thread.Mutex(this,this.addTrackerSync,[f,n,g])},addTrackerSync:function(f,n,g){gx.fx.addElement(this.trackers,{id:f.CmpContext+f.IsMasterPage.toString(),cssClass:"",types:n,obj:f,hdl:g},!0)},deleteSetter:function(f){gx.thread.Mutex(this,this.deleteSetterSync,[f])},deleteSetterSync:function(f){this.setters=gx.fx.deleteElement(this.setters,f)},notify:function(f,n,g){gx.thread.Mutex(this,this.notifySync,[f,n,g])},notifySync:function(f,n,g){if(f&&f.forcedFocus)f.forcedFocus=
!1;else{var m,a=gx.lang.emptyObject,b=function(r,v){var x=gx.O;gx.setGxO(r);v();gx.setGxO(x)},c=null;if(a(n)||a(g)){var d=this.setters.length;for(m=0;m<d;m++){var e=this.setters[m];if(a(f)){if(c=gx.fx.findControl(null,e.obj,e.id),null!=c&&a(c.onfocus)&&gx.fx.isUnderMouse(c)){b.apply(this,[e.obj,function(){gx.evt.setEventRow(e.obj,c);n=e.types;g=e.hdl.call(e.obj,c)}]);break}}else if(f.id==e.id){b.apply(this,[e.obj,function(){c=f;gx.evt.setEventRow(e.obj,c);n=e.types;g=e.hdl.call(e.obj,c)}]);break}}}if(!a(n)&&
(g||""===g))for(a=this.trackers.length,m=0;m<a;m++){var h=this.trackers[m];gx.fx.matchingTypes(n,h.types)&&b.apply(this,[h.obj,function(){h.hdl.call(h.obj,null,c,g)}])}}}}};
gx.date=function(){var f=/([0-9]{1,4})\/?-?([0-9]{1,2})\/?-?([0-9]{1,4})\s?T?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?\.?([0-9]{1,3})?\s?(AM|PM)?/i,n=/([0-9]{1,2}):?([0-9]{1,2})?:?([0-9]{1,2})?[\.:]?([0-9]{1,3})?\s?(AM|PM)?/i,g=/^[0-9]{4}[/-]{1}[0-9]{2}[/-]{1}[0-9]{2}$/,m=/^([ ]*([\/|\-][ ]*[\/|\-][ ]*((00|12)(:00(:00(\.000)?)?)?[ ]*(a|am)?)?)?)?[ ]*$/i,a=new Date(0,0,0,0,0,0,0);return{UTC_Offset:(new Date).getTimezoneOffset(),clone:function(){return new Date(this.getTime())},equalsNoTime:function(b){return this.getDay()==
b.getDay()&&this.getMonth()==b.getMonth()&&this.getFullYear()==b.getFullYear()?!0:!1},toJson:function(){var b=new gx.date.gxdate("");b.assign_date(this);return b.json()},isoString:function(b){return b.toISOString()},jsonNullFormat:{Default:0,YearOne:1},gxdate:function(b,c){this.json=function(){var d=this.TimeFmt;this.TimeFmt=24;var e=this.HasTimePart,h=this.HasDatePart;this.HasDatePart=this.HasTimePart=!0;var r=this.getStringWithFmt("Y4MD")+" "+(e?this.getTimeString(!0,!0,!0,0<this.Value.getMilliseconds()):
"00:00:00");this.TimeFmt=d;this.HasTimePart=e;this.HasDatePart=h;return r};this.mapCTODFormatToPattern=function(d){return"ANSI"==d?"Y4MD":d};this.emptyDateString=function(d){return-1==d.indexOf("Y4")?gx.blankWhenEmpty?"        ":"  /  /  ":gx.blankWhenEmpty?"          ":"Y4MD"==d?"    /  /  ":"  /  /    "};this.getStringWithFmt=function(d){d=this.mapCTODFormatToPattern(d);if(0===this.Value-a)return this.emptyDateString(d);var e=d,h,r=this.FormatPos(d);if(this.JsonNullFormat===gx.date.jsonNullFormat.YearOne){var v=
h="01";var x="0001"}else h=gx.text.padl(this.Value.getDate().toString(),2,"0"),v=gx.text.padl((this.Value.getMonth()+1).toString(),2,"0"),x=gx.text.padl(this.Value.getFullYear().toString(),4,"0");e=e.replace("D",h+(3>r.DPos?"/":""));e=e.replace("M",v+(3>r.MPos?"/":""));-1==d.indexOf("Y4")?(x=x.slice(2,4),e=e.replace("Y",x+(3>r.YPos?"/":""))):e=e.replace("Y4",x+(3>r.YPos?"/":""));return e};this.getString=function(d){gx.lang.emptyObject(d)&&(d=gx.dateFormat);return this.getStringWithFmt(d)};this.toISOString=
function(){return this.Value.toISOString()};this.toString=function(){var d=this.HasTimePart?" "+this.getTimeString(!0,!0):"";return this.getString()+d};this.gxdtoc=function(d,e){return this.getStringWithFmt(this.mapCTODFormatToPattern(d)).replace("/",e)};this.getUrlVal=function(){if(gx.date.isNullDate(this))return"";if(this.HasDatePart){var d=gx.text.padl(this.Value.getDate().toString(),2,"0");var e=gx.text.padl((this.Value.getMonth()+1).toString(),2,"0");var h=gx.text.padl(this.Value.getFullYear().toString(),
4,"0")}else e=d="01",h="0001";var r=this.HasTimePart?gx.text.padl(this.Value.getHours().toString(),2,"0"):"",v=this.HasTimePart?gx.text.padl(this.Value.getMinutes().toString(),2,"0"):"",x=this.HasTimePart?gx.text.padl(this.Value.getSeconds().toString(),2,"0"):"",D=this.HasTimePart?gx.text.padl(this.Value.getMilliseconds().toString(),3,"0"):"";return h+e+d+r+v+x+D};this.getTimeString=function(d,e,h,r){if(gx.date.isNullDate(this)&&gx.blankWhenEmpty){var v="";h&&(v+="  ");d&&(v+="   ");e&&(v+="   ");
r&&(v+="    ");return v}v="";var x=this.Value.getHours();h=h||!0;12==this.TimeFmt&&12<=x?(12<x&&(x-=12),v=" PM"):12==this.TimeFmt&&(v=" AM");var D=this.HasTimePart?gx.text.padl(x.toString(),2,"0"):"",k=this.HasTimePart?gx.text.padl(this.Value.getMinutes().toString(),2,"0"):"",p=this.HasTimePart?gx.text.padl(this.Value.getSeconds().toString(),2,"0"):"",w=this.HasTimePart?gx.text.padl(this.Value.getMilliseconds().toString(),3,"0"):"";0===x&&""!==v&&(D="12");x="";h&&(x=D);d&&(x=x+":"+k);e&&(x=x+":"+
p);r&&(x=x+"."+w);return x+v};this.FormatPos=function(d){if("ANSI"==d){var e=1;var h=2;d=3}else{var r=d.indexOf("Y4");e=-1==r?d.indexOf("Y")+1:r+1;h=d.indexOf("M");0!==r&&h++;d=d.indexOf("D");0!==r&&d++}return{YPos:e,MPos:h,DPos:d}};this.assign_date=function(d){d instanceof gx.date.gxdate?(this.Value=d.Value,this.HasTimePart=d.HasTimePart,this.HasDatePart=d.HasDatePart):this.Value=void 0===d?a:d};this.toUTC=function(){if(gx.date.isNullDate(this)||"undefined"==typeof gx.StorageTimeZone||gx.StorageTimeZone==
gx.NULL_TIMEZONEOFFSET)return this;var d=new gx.date.gxdate("");d.Value.setTime(this.Value.getTime()+6E4*this.Value.getTimezoneOffset());d.HasTimePart=this.HasTimePart;d.HasDatePart=this.HasDatePart;return d};this.fromUTC=function(){if(gx.date.isNullDate(this)||"undefined"==typeof gx.StorageTimeZone||gx.StorageTimeZone==gx.NULL_TIMEZONEOFFSET)return this;var d=new gx.date.gxdate("");d.Value.setTime(this.Value.getTime()-6E4*this.Value.getTimezoneOffset());d.HasTimePart=this.HasTimePart;d.HasDatePart=
this.HasDatePart;return d};this.assign_string=function(d,e,h,r){var v=f,x=v.exec(d),D=0;if(null!=x){var k=d.indexOf(x[0]);0<k&&"."==gx.text.substring(d,k,1)&&(x=null)}if(null==x)-1!=d.indexOf("  /  /  ")&&(h=!0);else{k=x.length;for(var p=1;p<k;p++)gx.lang.emptyObject(x[p])||D++}var w=this.FormatPos(e),q=p=k=e=0,C=0,B=0,N=0;try{this.HasDatePart=!0;if(6==w.DPos+w.MPos+w.YPos&&null!=x&&3<=D){null!=x[w.YPos]&&(e=parseInt(x[w.YPos],10));if(isNaN(e))throw"InvalidDate";e<this.FYearOfCentury?e+=2E3:100>e?
e+=1900:1E3>e&&(e+=1E3);null!=x[w.MPos]&&(k=parseInt(x[w.MPos],10)-1);if(isNaN(k)||0>k||11<k)throw"InvalidDate";null!=x[w.DPos]&&(p=parseInt(x[w.DPos],10));if(isNaN(p)||0>p||p>gx.date.maxDays(k,e))throw"InvalidDate";}else this.HasDatePart=!1;this.HasTimePart=!1;w=0;null==x?(v=n,x=v.exec(d),null!=x&&(w=1,this.HasTimePart=!0)):3<D&&(w=4,this.HasTimePart=!0);if(this.HasTimePart&&!h){null!=x[w]&&(q=parseInt(x[w],10));if(gx.lang.emptyObject(x[w])||isNaN(q))throw this.HasTimePart=!1,"InvalidHour";null!=
x[w+1]&&(C=parseInt(x[w+1],10));isNaN(C)&&(C=0);null!=x[w+2]&&(B=parseInt(x[w+2],10));isNaN(B)&&(B=0);null!=x[w+3]&&(N=parseInt(x[w+3],10));isNaN(N)&&(N=0);if(!this.validTime(-1!=d.toLowerCase().indexOf("m"),q,C,B,N))throw"InvalidHour";(-1!=d.indexOf("PM")||-1!=d.indexOf("pm"))&&12>q&&(q+=12);-1==d.indexOf("AM")&&-1==d.indexOf("am")||12!=q||(q=0)}}catch(u){if(r)throw u;"InvalidDate"==u&&(N=B=C=q=p=k=e=0);"InvalidHour"==u&&(N=B=C=q=0)}this.Value=new Date(e,k,p,q,C,B,N);0<e+k+p+q+C+B+N&&(!this.HasTimePart||
h)&&this.Value.getDate()!=p&&(this.Value=new Date(Date.UTC(e,k,p,q+12,C,B,N)))};this.validTime=function(d,e,h,r,v){return d&&12<e||!d&&(24<e||24==e&&0<h+r)?!1:59>=h||59>=r||999>=v};this.compare=function(d){return"string"==typeof d?this.compare_string(d):this.compare_date(d)};this.compare_string=function(d){d=new gx.date.gxdate(d);return this.compare_date(d.Value)};this.compare_date=function(d){if(!d)return null;d=d instanceof gx.date.gxdate?d.Value:d;return this.HasTimePart?this.Value-d:this.Value.getFullYear()>
d.getFullYear()?1:this.Value.getFullYear()<d.getFullYear()?-1:this.Value.getMonth()>d.getMonth()?1:this.Value.getMonth()<d.getMonth()?-1:this.Value.getDate()>d.getDate()?1:this.Value.getDate()<d.getDate()?-1:0};this.JsonNullFormat=gx.date.jsonNullFormat.Default;this.TimeFmt=gx.timeFormat||12;this.SFmt=c||gx.dateFormat;this.FYearOfCentury=gx.centuryFirstYear||40;"string"==typeof b?this.assign_string(b,this.SFmt):this.assign_date(b)},isANSIDateTime:function(b){return"string"==typeof b&&f.test(b)?!0:
!1},isANSIDate:function(b){return"string"==typeof b&&g.test(b)?!0:!1},isLeapYear:function(b){return 0===b%400?!0:0===b%100?!1:0===b%4?!0:!1},dateObject:function(b){return b instanceof this.gxdate?b.Value:"string"==typeof b?(new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0)).Value:b instanceof Date?b:new Date},gxdateObject:function(b){if(b instanceof this.gxdate)return b;if("string"==typeof b)return new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0);if(b instanceof Date){var c=new this.gxdate("");
c.assign_date(b);return c}return new this.gxdate("")},clonedDate:function(b,c){var d=new this.gxdate("");d.assign_date(c);b instanceof this.gxdate&&(d.SFmt=b.SFmt,d.HasTimePart=b.HasTimePart,d.HasDatePart=b.HasDatePart);return d},nullDate:function(){return(new this.gxdate("")).Value},now:function(){var b=this.today();b.HasTimePart=!0;b.HasDatePart=!0;return b},today:function(){var b=new this.gxdate("");b.assign_date(new Date);return b},ctot:function(b,c){return new this.gxdate(b,c)},ctod:function(b,
c){b=new this.gxdate(b,c);b.Value.setHours(0,0,0,0);return b},ymdtod:function(b,c,d){b=new this.gxdate(b+"/"+c+"/"+d,"ANSI");b.Value.setHours(0,0,0,0);return b},ymdhmstot:function(b,c,d,e,h,r){return new this.gxdate(b+"/"+c+"/"+d+" "+e+":"+h+":"+r,"ANSI")},hour:function(b){return(new this.gxdate(b)).Value.getHours()},minute:function(b){return(new this.gxdate(b)).Value.getMinutes()},second:function(b){return(new this.gxdate(b)).Value.getSeconds()},millisec:function(b){return 864E5*b},day:function(b){return(new this.gxdate(b)).Value.getDate()},
month:function(b){return(new this.gxdate(b)).Value.getMonth()+1},year:function(b){return(new this.gxdate(b)).Value.getFullYear()},addDays:function(b,c){return this.addMill(b,this.dayToMillisec(c))},addSec:function(b,c){return this.addMill(b,this.secToMillisec(c))},addMill:function(b,c){var d=this.dateObject(b).clone(),e=new this.gxdate;e.assign_date(d);var h=d.getMilliseconds();d.setMilliseconds(h+c);return e.getString(this.isANSIDate(b)?"Y4MD":-1==gx.dateFormat.indexOf("Y4")?gx.dateFormat.replace("Y",
"Y4"):gx.dateFormat)},secDiff:function(b,c){return this.millisecToSec(this.milliDiff(b,c))},daysDiff:function(b,c){return this.millisecToDay(this.milliDiff(b,c))},milliDiff:function(b,c){b=this.gxdateObject(b);c=this.gxdateObject(c);b=b.Value.valueOf();c=c.Value.valueOf();return b-c},dayToMillisec:function(b){return 864E5*b},secToMillisec:function(b){return 1E3*b},millisecToDay:function(b){return b/24/60/60/1E3},millisecToSec:function(b){return b/1E3},dateParm:function(b){return"string"==typeof b?
new this.gxdate(b):b},urlDate:function(b,c){b="undefined"!=typeof b.value?b.value:gx.dom.spanValue(b)||b;c=new this.gxdate(b,c);return this.isNullDate(c)?"":c.Value.getFullYear().toString()+gx.text.padl((c.Value.getMonth()+1).toString(),2,"0")+gx.text.padl(c.Value.getDate().toString(),2,"0")},urlDateTime:function(b,c){b="undefined"!=typeof b.value?b.value:gx.dom.spanValue(b)||b;c=b instanceof this.gxdate?b:new this.gxdate(b,c);return c.HasDatePart?this.isNullDate(c)?"":c.Value.getFullYear().toString()+
gx.text.padl((c.Value.getMonth()+1).toString(),2,"0")+gx.text.padl(c.Value.getDate().toString(),2,"0")+gx.text.padl(c.Value.getHours().toString(),2,"0")+gx.text.padl(c.Value.getMinutes().toString(),2,"0")+gx.text.padl(c.Value.getSeconds().toString(),2,"0")+(0===c.Value.getMilliseconds()?"":gx.text.padl(c.Value.getMilliseconds().toString(),3,"0")):"00010101"+gx.text.padl(c.Value.getHours().toString(),2,"0")+gx.text.padl(c.Value.getMinutes().toString(),2,"0")+gx.text.padl(c.Value.getSeconds().toString(),
2,"0")},isNullDate:function(b){b instanceof this.gxdate&&(b=b.Value);var c=this.nullDate();return c.getFullYear()!=b.getFullYear()||c.getMonth()!=b.getMonth()||c.getDate()!=b.getDate()||c.getHours()!=b.getHours()||c.getMinutes()!=b.getMinutes()||c.getSeconds()!=b.getSeconds()||c.getMilliseconds()!=b.getMilliseconds()?!1:!0},dtoc:function(b,c,d){return(new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0)).gxdtoc(c,d)},dttoc:function(b,c,d){b=new this.gxdate(b,this.isANSIDateTime(b)?"Y4MD":void 0);var e=
gx.dateFormat,h="";0<c&&(8<c&&-1==e.indexOf("Y4")&&(e=e.replace("Y","Y4")),h=b.getStringWithFmt(e)+" ");return 0<d?h+b.getTimeString(3<d,8<=d,1<d,12<=d):h},nulldate_toc:function(b,c){var d=new this.gxdate("");d.HasTimePart=!0;d.HasDatePart=!0;var e=gx.dateFormat,h="";0<b&&(8<b&&-1==e.indexOf("Y4")&&(e=e.replace("Y","Y4")),h=d.getStringWithFmt(e)+" ");return 0<c&&!gx.blankWhenEmpty?h+d.getTimeString(3<c,8<=c,1<c,12<=c):h},addyr:function(b,c){return this.addmth(b,12*c)},addmth:function(b,c){var d=this.gxdateObject(b);
b=new Date(this.dateObject(b).getTime());var e=b.getDate();b.setDate(1);b.setMonth(b.getMonth()+1*c);b.setDate(Math.min(e,this.maxDays(b.getMonth(),b.getFullYear())));return this.clonedDate(d,b)},dtadd:function(b,c){var d=this.gxdateObject(b);b=new Date(this.dateObject(b).getTime());var e=b.getMilliseconds();b.setMilliseconds(e+1E3*c);return this.clonedDate(d,b)},dtdiff:function(b,c){b=this.dateObject(b);c=this.dateObject(c);return(b-c)/1E3},maxDays:function(b,c){return[31,this.isLeapYear(c)?29:28,
31,30,31,30,31,31,30,31,30,31][b]},eom:function(b){var c=this.gxdateObject(b);b=this.dateObject(b);b=new Date(b.getTime());var d=this.maxDays(b.getMonth(),b.getFullYear());b.setDate(d);return this.clonedDate(c,b)},dow:function(b){b=this.dateObject(b);return b.equalsNoTime(this.nullDate())?0:b.getDay()+1},age:function(b,c){b=this.dateObject(b);c=this.dateObject(c);var d=this.nullDate();if(b.equalsNoTime(d)||c.equalsNoTime(d)||b.equalsNoTime(c))return 0;if(c>=b){d=36E5*c.getUTCHours()+6E4*c.getUTCMinutes()+
1E3*c.getUTCSeconds()-(36E5*b.getUTCHours()+6E4*b.getUTCMinutes()+1E3*b.getUTCSeconds());if(c.getUTCDate()>b.getUTCDate()||c.getUTCDate()==b.getUTCDate()&&0<=d)d=new Date(Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds()));else for(d=new Date(Date.UTC(c.getUTCFullYear(),c.getUTCMonth()-1,b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds())),c=c.getUTCMonth()-1,-1==c&&(c=11);d.getUTCMonth()!=c;)d.setUTCDate(d.getUTCDate()-
1);return b=d.getUTCMonth()>=b.getUTCMonth()?d.getUTCFullYear()-b.getUTCFullYear():d.getUTCFullYear()-1-b.getUTCFullYear()}return 0},valid_date:function(b,c,d,e,h,r,v,x){var D=v||!1,k=!1;r=b.value;v=d;var p="^[ ]*(",w=0<c?"GXM_invaliddate":"GXM_invalidtime";var q=gx.num.replaceFullWidthNumerals(r);q=q.split("\n")[0];d="YMD"==d?1:0;h=12==h?1:0;if(m.test(q))k=!0,r=q="";else if(0<c&&5>=q.length){var C=(new Date).getFullYear().toString().substring(10===c?0:2);q=1===d?C+"/"+q:q+"/"+C}p=0<c?8==c?0===d?
p+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{2})":p+"([0-9]{2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":0===d?D?p+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{4})":p+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{2,4})":D?p+"([0-9]{4})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":p+"([0-9]{2,4})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":p+"( )?( )?( )?";0<e&&(p+="(",0<c&&(p+="[ ]*"),p+="([0-9]{1,2})",p=2<e?p+"(:?([0-9]{1,2}))?":p+"(( )?)?",p=5<e?p+"(:?([0-9]{1,2}))?":p+"(( )?)?",p=8<e?p+"(\\.?([0-9]{1,3}))?":p+"(( )?)?",
p=(1==h?p+"[ ]*(a|am|p|pm)?":p+"(( )?)?")+")?");d=new RegExp(p+")?[ ]*$","i");if(d.test(q)){D=q.match(d);0<c?(d="/",0<q.indexOf("-")&&(d="-"),D[2]?d=D[2]+d+D[3]+d+D[4]:(d=1==x?"        ":"  "+d+"  "+d+"  ",10==c&&(d+="  "))):d="";0<e&&(0<c&&(d+=" "),1!=x||D[6]||D[8]||D[10]||D[12]?(D[6]?d+=D[6]:k?(x=q.match(m),d=x[4]?d+x[4]:d+(1==h?"12":"00")):d+=1==h?"12":"00",2<e&&(d=D[8]?d+":"+D[8]:d+":00"),5<e&&(d=D[10]?d+":"+D[10]:d+":00"),8<e&&(d=D[12]?d+"."+D[12]:d+".000"),1==h&&(d="p"==(D[13]?D[13].substr(0,
1):"a").toLowerCase()?d+" PM":d+" AM")):d+="        ");h=new this.gxdate("",v);try{h.assign_string(d,v,0>=e,!0),""!==gx.text.trim(d)&&(d=this.formatDateTime(e,c,v,h))}catch(B){return gx.fn.alert(b,gx.getMessage(w)),gx.csv.setFormatError(b),!1}if(d!=r){b.value=d;if(-1!=navigator.userAgent.indexOf("Firefox/2"))b.onchange();(c=gx.O.getValidStructFld(b))&&gx.O.refreshDependantGrids(c)}gx.csv.setFormatError(b,!1);return!0}gx.fn.alert(b,gx.getMessage(w));gx.csv.setFormatError(b);return!1},formatDateTime:function(b,
c,d,e){var h="";0<b&&e.HasTimePart&&(h=e.getTimeString(4<=b,8<=b,void 0,12<=b));b=d;8<c&&-1==b.indexOf("Y4")&&(b=b.replace("Y","Y4"));return 0<c?e.getStringWithFmt(b)+(e.HasTimePart?" "+h:""):e.HasTimePart?h:""},_init:function(){Date.prototype.equalsNoTime=this.equalsNoTime;Date.prototype.clone=this.clone;Date.prototype.json=this.toJson}}}();
gx.text={stringBuffer:function(f){this.capacity=f||10;this.buffer=[];this.append=function(n){this.buffer.push(n);return this};this.clear=function(){delete this.buffer;this.buffer=[]};this.toString=function(){return 0===this.buffer.length?"":this.buffer.join("")};this.length=function(){return this.toString().length}},format:function(){for(var f=arguments[0],n=arguments.length,g=1;g<n;g++)f=f.replace("%"+g,gx.text.rtrim(arguments[g].toString()));return f},formatString:function(f,n,g,m){if(g)return gx.text.padl("",
n,"*");if(!gx.lang.emptyObject(m)&&this.startsWith(m,"@")&&0<m.indexOf("!")){n="";g=this.padr("",f?f.length:0,"!");m=this.replaceAll(g,"!"," ");if(f)for(var a=0,b=0,c;a<m.length&&b<f.length;)c=f[b],this.isSeparator(g[a])?(c==g[a]?(b++,n+=c):n+=m[a],a++):(n+=this.getCaret(g,c,a,n),a++,b++);else n=m;return gx.text.rtrim(n)}return f},getCaret:function(f,n,g,m){switch(f[g]){case "9":if(!isNaN(n))return n;break;case "X":return n;case "A":case "M":case "!":return n.toUpperCase();case "Z":if("1"<=n&&"9">=
n)return n;if("0"==n){f=!0;for(n=0;n<g;n++)if(" "!=m[n]){f=!1;break}if(!f)return"0"}}return" "},isSeparator:function(f){return"9"!=f&&"X"!=f&&"!"!=f&&"Z"!=f&&"A"!=f&&"M"!=f},replaceAll:function(f,n,g){return-1!=f.toString().indexOf(n)?String(f).split(n).join(g):f},charReplace:function(f,n,g){for(var m="",a=f.length,b=0;b<a;b++){for(var c=!1,d=n.length,e=0;e<d;e++)if(f.charAt(b)==n[e]&&e<g.length){m+=g[e];c=!0;break}!1===c&&(m+=f.charAt(b))}return m},length:function(f){return f.length},upper:function(f){return f.toUpperCase()},
lower:function(f){return f.toLowerCase()},padr:function(f,n,g){var m=n-f.length;if(1>m)return f.substring(0,n);for(n=0;n<m;n++)f+=g;return f},padl:function(f,n,g){var m=n-f.length;if(1>m)return f.substring(0,n);n="";for(var a=0;a<m;a++)n+=g;return n+f},ltrimstr:function(f,n,g){return this.ltrim(gx.num.str(f,n,g))},ltrim:function(f){return f.toString().replace(/^ */,"")},rtrim:function(f){return f.toString().replace(/ *$/,"")},trim:function(f){return this.rtrim(this.ltrim(f))},chr:function(f){return String.fromCharCode(f)},
like:function(f,n){if(null===n)return!1;n=n.replace(/([\.\\\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:\-])/g,"\\$1");return(new RegExp(n.replace(/%/g,".*").replace(/_/g,"."))).test(f)},compare:function(f,n){return this.rtrim(f).localeCompare(this.rtrim(n))},concat:function(f,n,g){return this.rtrim(f)+g+n},space:function(f){for(var n="",g=0;g<f;g++)n+=" ";return n},substring:function(f,n,g){return 0>g?f.toString().substring(n-1):f.toString().substring(n-1,n-1+g)},tostring:function(f){return f.toString()},toformattedstring:function(f){return f.toString().replace(".",
gx.decimalPoint)},newline:function(){return"\n"},escapeMapping:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escapeRegex:{start:/["\\\x00-\x1f]/,end:/([\x00-\x1f\\"])/g},escapeFn:function(f,n){if(f=gx.text.escapeMapping[n])return f;f=n.charCodeAt();return"\\u00"+Math.floor(f/16).toString(16)+(f%16).toString(16)},escapeString:function(f){return this.escapeRegex.start.test(f)?'"'+f.replace(this.escapeRegex.end,this.escapeFn)+'"':'"'+f+'"'},indexOf:function(f,n,g){if(g>
f.length)return 0;0>=g&&(g=1);return f.indexOf(n,g-1)+1},lastIndexOf:function(f,n,g){if(g>f.length)return 0;0>=g&&(g=f.length);return f.lastIndexOf(n,g-1)+1},endsWith:function(f,n){return-1!==f.indexOf(n,f.length-n.length)},startsWith:function(f,n){return 1==this.indexOf(f,n)},contains:function(f,n){return 0<this.indexOf(f,n)},charAt:function(f,n){return f.charAt(n-1)}};
gx.num=function(){var f=/[\uFF10-\uFF19]|[\uFF0C-\uFF0E]|\u2015|\u30FC|\uFF0F/g,n=function(g,m,a,b){var c=gx.lang.instanceOf,d="undefined"==typeof gx.num.dec?null:gx.num.dec.bigDecimal,e=gx.thousandSeparator,h=gx.decimalPoint;"string"==typeof a&&(a=gx.num.parseFloat(a,e,h));"string"==typeof b&&(b=gx.num.parseFloat(b,e,h));return c(a,d)&&c(b,Number)?a[g](new d(b.toString())).toString():c(a,Number)&&c(b,d)?(new d(a.toString()))[g](b).toString():c(a,Number)&&c(b,Number)||"undefined"==typeof gx.num.dec?
m(a,b):a[g](b)};return{str:function(g,m,a){if("string"===typeof g)return g;"undefined"==typeof m&&(m=10);if("undefined"==typeof a||m-1<=a)a=0;g=gx.num.toFixed(g,a);return g.length<=m?gx.text.padl(g,m," "):gx.text.padr("",m,"*")},compare:function(g,m){if("number"===typeof g&&"number"===typeof m)return g>m?1:g===m?0:-1;"number"===typeof g&&(g=new gx.num.dec.bigDecimal(g.toString()));"number"===typeof m&&(m=new gx.num.dec.bigDecimal(m.toString()));return gx.lang.instanceOf(g,gx.num.dec.bigDecimal)&&
gx.lang.instanceOf(m,gx.num.dec.bigDecimal)?g.compareTo(m):g-m},maxNumericPrecision:function(){return 15},extractValue:function(g,m,a){a=gx.num.replaceFullWidthNumerals(a);if(gx.lang.instanceOf(a,Number)||this.overflowNumber(a))return a;var b="";a=void 0===a?"":a;var c=function(r){return"("===r.charAt(0)&&")"===r.charAt(r.length-1)};if(g){var d=c(g);c=c(a);d&&(g=g.substring(1,g.length-1),c&&(a=a.substring(1,a.length-1)));d=!1;for(var e=0;e<g.length;e++){var h=g.charAt(e);if("\\"!==h||d){if(("#"===
h||"?"===h||"\\"===h)&&d||"#"!==h&&"?"!==h&&"\\"!==h)b+=h;d=!1}else d=!0}b="+"==g.charAt(0)||"-"==g.charAt(0)?b.replace(/[\+\-\d,*\.*Z*\s]+/,""):b.replace(/[\d,*\.*Z*\s]+/g,"");g.lastIndexOf(".")!=g.indexOf(".")&&(a=gx.text.replaceAll(a,".",""));for(e=0;e<b.length;e++)a=a.replace(b.charAt(e),"");a=!gx.config.number.validation.strict&&m?gx.text.replaceAll(a,m,""):a;a=(c?"-":"")+a}return gx.text.replaceAll(a," ","")},formatNumber:function(g,m,a,b,c,d,e){if(!a||""===g&&"Blank"===e)return g?g.toString():
"";g=gx.lang.emptyObject(g)?"0":g;b=-1!=a.indexOf(",")?gx.thousandSeparator:"";e=gx.decimalPoint;var h=!1,r=gx.numericLenDec(a),v=r.Integers;m=r.Decimals;"string"==typeof g&&b&&(g=gx.text.replaceAll(g,b,""));"string"==typeof g&&(g=g.replace(e,"."));if(gx.num.overflowNumber(g))return g;try{g="undefined"!=typeof gx.num.dec&&g instanceof gx.num.dec.bigDecimal||0!==m?gx.num.setScale(g,m,e):gx.num.trunc(g,0).toString()}catch(q){g=g.toString()}var x=g.split(".");x[0]||(x[0]="0");x[1]||(x[1]="");if(d){if(x[1].length>
m&&x[1].replace(/0*$/,"").length>m)throw"InvalidNumber";if(c&&"-"==x[0].charAt(0)&&x[0].replace(/0*/,"").length>v||!c&&"-"==x[0].charAt(0)||x[0].replace(/[+]?0*/,"").length>v)throw"InvalidNumber";}d=x[0].substring(0,v);0>g&&(c=!0);if(x[1].length<m){r=x[1];for(v=x[1].length+1;v<=m;v++)r+="0";x[1]=r}var D=r="",k="";v="("===a.charAt(0)&&")"===a.charAt(a.length-1);c&&("-"!=d.charAt(0)||v?("+"==a.charAt(0)&&(0!==Number(g)&&(r="+"),"+"==d.charAt(0)&&(d=d.substring(1))),v&&(a=a.substring(1,a.length-1),0>
Number(g)&&(d=(-1*Number(d)).toString(),D="(",k=")"))):(r="-",d=d.substring(1)));if(b&&3<d.length){c=d;d="";for(g=3;g<c.length;g+=3)v=c.slice(c.length-g,c.length-g+3),d=b+v+d+"";g=c.substr(0,0===c.length%3?3:c.length%3);d=g+d}e=x[1]?e:"";0<m?(a=a.split("."),a[1]==gx.text.padr("",m,"Z")&&(h=!0)):(a=Array(a),0<a.length&&0===gx.text.replaceAll(gx.text.replaceAll(a[0],",",""),"Z","").length&&(h=!0));m=0;g="";c=x[1].replace(/0*$/,"");if(1<a.length){var p=a[1];x=!1;for(v=0;v<p.length;v++){var w=p.charAt(v);
if(x)g+=p.charAt(v);else if("9"!=w&&"Z"!=w&&"#"!=w&&"?"!=w||x)if("\\"===w&&x){g+=w;x=!1;continue}else"."==w||","==w||x||(g+=w);else c.length>m?(g+=c.charAt(m),m++):g+=this.checkPictureCharacter(w,!0);x="\\"==p.charAt(v)}}c="";p=a[0];m=d.length-1;1<a.length&&gx.text.endsWith(p,"Z")&&(p=p.replace(/Z$/,"9"));for(v=p.length-1;0<=v;v--)if(a=p.charAt(v),x=!1,1<v?x="\\"==p.charAt(v-1)&&"\\"!=p.charAt(v-2):0<v&&(x="\\"==p.charAt(v-1)),x)c=a+c,v--;else if("9"!=a&&"Z"!=a&&"#"!=a&&"?"!=a||x)"\\"===a&&x?c=a+
c:","!=a&&"+"!=a?c=a+c:","==a&&d.charAt(m)==b&&(c=d.charAt(m)+c,m--);else if(0<=m){if("Z"!=a&&"#"!=a&&"?"!=a||0!==Number(d.substring(0,m+1)))c=d.charAt(m)+c;m--}else c=this.checkPictureCharacter(a)+c;return!h||"0"!=c&&""!==c||0!==g.replace(/0+$/,"").length?D+r+c+(g?e+g:"")+k:""},checkPictureCharacter:function(g,m){switch(g){case "9":return"0";case "Z":return(void 0===m?0:m)?"0":"";case "#":return"";case "?":return" "}},add:function(g,m){return n("add",function(a,b){return a+b},g,m)},subtract:function(g,
m){return n("substract",function(a,b){return a-b},g,m)},multiply:function(g,m){return n("multiply",function(a,b){return a*b},g,m)},divide:function(g,m){return n("divide",function(a,b){return a/b},g,m)},negate:function(g){return gx.lang.instanceOf(g,Number)||"undefined"==typeof gx.num.dec?-g:g.negate()},pow:function(g,m){return n("pow",function(a,b){return Math.pow(a,b)},g,m)},mod:function(g,m){return n("remainder",function(a,b){return Math.trunc(a%b)},g,m)},toFixed:function(g,m){return(gx.lang.isBigDecimal(g)?
g:Math.round(g*Math.pow(10,m))/Math.pow(10,m)).toFixed(m)},setScale:function(g,m){if(gx.lang.instanceOf(g,Number))return gx.num.toFixed(g,m);"string"==typeof g&&(g=gx.text.trim(g));if(g.length<this.maxNumericPrecision()||"undefined"==typeof gx.num.dec){if(0===g.length&&0===m)return"0";var a=g.split(".");a[1]||(a[1]="");if(a[1].length<m){var b=a[1];for(g=a[1].length+1;g<=m;g++)b+="0";a[1]=b;return a[0]+(""===a[1]?"":".")+a[1]}return gx.num.toFixed(Number(parseFloat(g)),m)}return(new gx.num.dec.bigDecimal(g)).setScale(m,
gx.num.dec.ROUND_UP).toString()},parseFloat:function(g,m,a){if(gx.lang.instanceOf(g,Number)||this.overflowNumber(g))return g;g=this.toInvariant(g,m,a);return g.length>this.maxNumericPrecision()&&"undefined"!=typeof gx.num.dec?new gx.num.dec.bigDecimal(g):parseFloat(g)},toInvariant:function(g,m,a){return"number"==typeof g||"undefined"!=typeof gx.num.dec&&g instanceof gx.num.dec.bigDecimal?g:gx.text.replaceAll(g,m,"").replace(a,".")},parseInt:function(g,m,a){if("number"==typeof g)return g;g=gx.text.replaceAll(g,
a,"");return parseInt(g,m)},overflowNumber:function(g){return/\*(\**)/.test(g)},urlDecimal:function(g,m,a){return"undefined"!=typeof g?(g="undefined"!=typeof g.value?g.value:g,g=this.parseFloat(g,m,a),g.toString()):""},random:function(){return Math.random()},abs:function(g){return Math.abs(g)},intval:function(g){g="undefined"!=typeof g?g.toString():"";g=g.length<gx.num.maxNumericPrecision()||"undefined"==typeof gx.num.dec?parseInt(g,0):(new gx.num.dec.bigDecimal(g)).setScale(0,gx.num.dec.ROUND_UP);
isNaN(g)&&(g=0);return g},val:function(g){g=gx.text.trim(g).replace(",",".");g=this.parseFloat(g);isNaN(g)&&(g=0);return g},trunc:function(g,m){var a=g;g=g.toString();var b=g.indexOf(".");if(-1!=b){a=g.substring(0,b);if(0===m)return Number(a);g=g.substring(b+1,b+1+m);a=gx.num.parseFloat(a+"."+g);isNaN(a)&&(a=0)}return a},round:function(g,m){return 0<=m?parseFloat(gx.num.decimalAdjust("round",g,-m).toFixed(m)):gx.num.roundNeg(g,m)},decimalAdjust:function(g,m,a){if("undefined"===typeof a||0===+a)return Math[g](m);
m=+m;a=+a;if(isNaN(m)||"number"!==typeof a||0!==a%1)return NaN;m=m.toString().split("e");m=Math[g](+(m[0]+"e"+(m[1]?+m[1]-a:-a)));m=m.toString().split("e");return+(m[0]+"e"+(m[1]?+m[1]+a:a))},roundNeg:function(g,m){g=g.toString();var a=g.indexOf(".");var b=parseInt(m,0)+1;b=""+"0000000000000000000000".substring(1,b);var c=parseFloat("."+b+"5");-1==a?(a="0000000000000000000000",b=""+g):0===a?(b="0",g=0+parseFloat(g)+parseFloat(c),g+="0000000000000000000000",a=""+g.substring(1,g.length)):(g=parseFloat(g)+
c,b=g.toString().substring(0,a),a=""+(""+g+"0000000000000000000000").substring(a+1,a+1+parseInt(m,0)));a=a.substring(0,parseInt(m,0));m=parseFloat(b+"."+a);isNaN(m)&&(m=0);return m},normalize_decimal_sep:function(g,m,a,b){var c=b.lastIndexOf(a);0<=g.indexOf(".")&&","==a&&-1==c&&b.lastIndexOf(".")==b.indexOf(".")?b=b.replace(".",a):-1==g.indexOf(m)&&"."==a&&-1==c&&b.lastIndexOf(",")==b.indexOf(",")&&(b=b.replace(",",a));return b},truncate:function(g,m,a){m=g.lastIndexOf(m);var b=g;-1!=m&&(b=0<a?1:
0,b=g.slice(0,m+parseInt(a,10)+b));return b},valid_decimal:function(g,m,a,b){var c=g.value,d=!0,e=gx.O.getValidStructFld(g),h=gx.rtPicture(e,g);b=h?gx.numericLenDec(h).Decimals:b;c=this.normalize_decimal_sep(h,m,a,c);gx.lang.emptyObject(e)||(c=gx.num.extractValue(gx.rtPicture(e,g),m,c));var r=new RegExp("^[ ]*((([+-]{1}[0-9]+)||([0-9]*))(\\"+m+"[0-9]{3})*(\\"+a+"[0-9]*)?)?[ ]*$");if(c)if(r.test(c)){b=gx.num.truncate(c,a,b);try{gx.lang.emptyObject(e)||(b=gx.num.formatNumber(b,e.dec,h,e.len,e.sign,
!0,e.emptyAsNull)),"."!=a&&"SELECT"==g.tagName&&(b=gx.num.toInvariant(b,m,a))}catch(v){d=!1}if(d&&b!=gx.text.trim(g.value)&&(g.value=b,gx.util.browser.isIEStrict()||-1!=navigator.userAgent.indexOf("Firefox/2")))g.onchange()}else d=!1;else d=!0;d?gx.csv.setFormatError(g,!1):(gx.csv.setFormatError(g),gx.fn.alert(g,gx.getMessage("GXM_badnum")))},valid_integer:function(g,m){var a=gx.O.getValidStructFld(g),b=gx.lang.emptyObject(a);var c=g.value;b||(c=gx.num.extractValue(gx.rtPicture(a,g),m,c));m=b||-1==
gx.rtPicture(a,g).indexOf(",")?/^[ ]*(([+-]{1}[0-9]+)||([0-9]*))[ ]*$/:new RegExp("^[ ]*([+-]{1}[0-9]+||[0-9]*)(\\"+m+"[0-9]{3})*[ ]*$");var d=!0;if(c)if(m.test(c)){try{b||(c=gx.num.formatNumber(c,a.dec,gx.rtPicture(a,g),a.len,a.sign,!0,a.emptyAsNull))}catch(e){d=!1}if(c!=gx.text.trim(g.value)&&(g.value=c,-1!=navigator.userAgent.indexOf("Firefox/2")))g.onchange()}else d=!1;else d="number"===g.type&&"undefined"!==typeof g.validity?g.validity.valid:!0;d?gx.csv.setFormatError(g,!1):(gx.csv.setFormatError(g),
gx.fn.alert(g,gx.getMessage("GXM_badnum")))},replaceFullWidthNumerals:function(g){return"string"===typeof g?g.replace(f,function(m){return 8213==m.charCodeAt()||12540==m.charCodeAt()?String.fromCharCode(45):String.fromCharCode(m.charCodeAt()-65248)}):g}}}();
gx.color={rgb:function(f,n,g){return 65536*f+256*n+g},css:function(f){return"rgb"==f.substring(0,3)?eval(f):"#"==f.charAt(0)?parseInt(f.substring(1),16):0},html:function(f){f=this.toHex(f);gx.lang.emptyObject(f)&&(f="000000");f=gx.text.padl(f,6,"0");var n={};n.Hexa=f;n.Html="#"+f;n.R=parseInt(f.substring(0,2),16);n.G=parseInt(f.substring(2,4),16);n.B=parseInt(f.substring(4,6),16);return n},fromRGB:function(f,n,g){var m={};"undefined"!=typeof f&&"undefined"!=typeof n&&"undefined"!=typeof g&&(m.Hexa=
this.toHex(f)+this.toHex(n)+this.toHex(g),m.Html="#"+m.Hexa,m.R=f,m.G=n,m.B=g);return m},ARGBToHex:function(f){var n=this.toHex(f>>16&255),g=this.toHex(f>>8&255);f=this.toHex(f&255);return n+g+f},toHex:function(f){if(void 0===f)return"000000";if(0>f)return gx.color.ARGBToHex(f);if(0===f)return f+"0";for(var n,g="";0!==f;)n=f%16,f=(f-n)/16,g="0123456789ABCDEF".charAt(n)+g;0!==g.length%2&&(g="0"+g);return g}};
gx.grid=function(f){return{drawAtServer:!1,deleteMethods:{images:0,menu:1,none:2},deletePositions:{left:0,right:1,bottomR:2,bottomL:3,topR:4,topL:5},deleteMethod:null,deleteImage:null,undeleteImage:null,deletePosition:null,deletePositionFree:null,deleteTooltip:null,deleteTitle:null,lastFocusCtrl:null,styles:{none:0,uniform:1,header:2,report:3,0:"none",1:"uniform",2:"header",3:"report"},getImplClass:function(n,g){return g?(gx.lang.inherits(gx.ui.grid,gx.uc.UserControl,!0),gx.lang.inherits(gx.ui.grid,
n.isResponsive?gx.grid.responsiveGrid:gx.grid.impl,!0),gx.lang.inherits(g,gx.ui.grid,!0),g=new g(gx.$),n&&(g.ParentObject=n.parentObject,g.ControlName=n.gridName,n.parentObject.setUserControl(g)),g):n.isResponsive?new gx.grid.responsiveGrid("gx"):new gx.grid.impl("gx")},validGridColsValue:function(n){n=void 0!=n?n:1;return 0!=n?n:9999},setActiveGridRow:function(n,g){"string"===typeof n&&(n=(n=gx.O.getGrid(n))?n.grid:null);n&&n.gxAllowSelection&&(gx.csv.currentGridSelection=n,"undefined"!==typeof g&&
(n.toggleRowHoverById(n.gxHoveredRowId,!1),n.gxHoveredRowId=parseInt(g,10)-1,gx.grid.clearActiveGridHandlerInstalled||(gx.fx.obs.addObserver("gx.onclick",this,gx.grid.clearActiveGridHandler),gx.grid.clearActiveGridHandlerInstalled=!0)))},clearActiveGrid:function(n){n&&gx.csv.currentGridSelection!==n.grid||(delete gx.csv.currentGridSelection,delete gx.grid.clearActiveGridHandlerInstalled,gx.fx.obs.deleteObserver("gx.onclick",this,gx.grid.clearActiveGridHandler))},clearActiveGridHandler:function(n){n=
gx.evt.source(n.event);n=gx.fn.rowGridId(n);(n=gx.fn.getGridObj(n))&&n.grid.gxAllowSelection||gx.grid.clearActiveGrid()},handleKeyUpEvt:function(n){var g=gx.csv.currentGridSelection,m=!1;if(!g||!g.gxAllowSelection||g.gxAllowHovering)return m;switch(n.keyCode){case 38:case 40:g.ownerGrid.setSelection(g.ownerGrid.getSelection(),!0),gx.evt.cancel(n,!0),m=!0}return m},handleKeyPressEvt:function(n){var g=gx.csv.currentGridSelection,m=!1;if(!g||!g.gxAllowHovering&&!g.gxAllowSelection)return m;var a=g.gxAllowHovering;
switch(n.keyCode){case 38:a?m=g.setPreviousRowHovered():g.ownerGrid.setPreviousRowSelected(!1);gx.evt.cancel(n,!0);break;case 40:a?m=g.setNextRowHovered():g.ownerGrid.setNextRowSelected(!1);gx.evt.cancel(n,!0);break;case 13:m=g.ownerGrid.setSelection(g.gxHoveredRowId)&&g.gxOnLineActivate}return m},grid:function(n,g,m,a,b,c,d,e,h,r,v,x,D,k,p,w,q,C,B,N,u,y,H,E,J,G,I,L,O,M,X,U,aa,da,ha,ea,ja,ka){var la=function(l){return function(t){t=this.parentObject.getGridById(a,t||gx.fn.currentGridRow(a));return l.call(this,
t||this)}.closure(this)}.closure(this);this.parentObject=n;this.parentObject["sub"+b+"_Rows"]=la(function(l){return l.grid.pageSize/l.grid.gxGridCols});this.parentObject[c.toUpperCase()+(h?"_MPAGE":"")+"_nFirstRecordOnPage"]=la(function(l){return l.grid.firstRecordOnPage});this.parentObject[c.toUpperCase()+(h?"_MPAGE":"")+"_nEOF"]=la(function(l){return l.grid.eof});this.gridLvl=g;this.gridLvlName=m;this.gridId=a;this.gridName=b;this.realGridName=c;this.containerName=d||this.gridName+"Container";this.parentName=
r||"";this.pagingParms=[];this.lvlKey=v||[];this.isFreestyle=x||!1;this.isResponsive=aa||!1;this.allowHovering=(this.allowSelection=k||!1)&&p||!1;this.allowCollapsing=X||!1;this.collapsed=!1;this.sortable=!0;this.hoverColor=this.selectionColor=null;this.visible=!0;this.refreshTimer=null;this.pageSizeParm=G||!1;this.hasAddlines=I||!1;this.hasForEachLine=L||!1;this.width=void 0!=u?u:0;this.widthUnit=y||"";this.height=void 0!=H?H:0;this.heightUnit=E||"";this.gridCols=void 0!=D?D:1;this.gridCols=0!=this.gridCols?
this.gridCols:9999;this.gridRows=void 0!=w?w:5;this.gridResponsiveCols=da||[1,1,1,1];this.usePaging=(this.usePaging=q||!1)&&!this.isFreestyle;this.eof=1;this.firstRecordOnPage=0;this.defaultDragable=C||!1;this.defaultSetsContext=B||!1;this.boundedCollType=N||"";this.boundedCollName=U||"";this.gxContainerCtrl=this.contextMenu=null;this.lastRefreshParms="";this.gxComponentContext=e;this.isMasterPageGrid=h;this.htmlTags="";this.onLineActivate=M;this.addingRows=!1;this.deleteMethod=gx.grid.deleteMethod;
this.DatePickersControls=[];this.GridUserControls=[];this.GridComponents=[];this.GridControls=[];this.IsValidState=[];this.implClass=O;this.grid=gx.grid.getImplClass(this,O);this.grid.ownerGrid=this;this.grid.parentGxObject=this.parentObject;this.grid.gxLvl=this.gridLvl;this.grid.gxId=this.gridId;this.grid.gxGridName=this.gridName;this.grid.gxGridObject=this.containerName;this.grid.gxParentName=this.parentName;this.grid.gxIsFreestyle=this.isFreestyle;this.grid.gxWidth=this.width;this.grid.gxWidthUnit=
this.widthUnit;this.grid.gxHeight=0;this.grid.gxAllowSelection=this.allowSelection;this.grid.gxAllowHovering=this.allowHovering;this.grid.gxAllowCollapsing=this.allowCollapsing;this.grid.gxCollapsed=this.collapsed;this.grid.gxSortable=this.sortable;this.grid.gxSelectionColor=this.selectionColor;this.grid.gxHoverColor=this.hoverColor;this.grid.gxVisible=this.visible;this.grid.gxGridCols=this.gridCols;this.grid.gxGridResponsiveCols=this.gridResponsiveCols;this.grid.gxCmpContext=this.gxComponentContext;
this.grid.gxHtmlTags=this.htmlTags;this.grid.gxIsMasterPageGrid=this.isMasterPageGrid;this.grid.gxDragable=this.defaultDragable;this.grid.gxHasAddlines=this.hasAddlines;this.grid.gxHasForEachLine=this.hasForEachLine;this.grid.gxOnLineActivate=this.onLineActivate;this.grid.gxNewRowText=void 0!=J?J:"New Row";this.grid.beforeRenderCallbacks=[];this.grid.isAbstract=ja;this.isUsercontrol=gx.lang.instanceOf(this.grid,gx.uc.UserControl);this.useUserControlModelValues=function(){return this.isUsercontrol&&
!this.grid.useNativeChildControls};this.currentBuffer=this.grid.gxBuffer;this.parentGrid=null;this.childGrids=[];this.hiddens=[];this.grid.selectedRows=[];this.oldCmps={};this.ColumnPropertiesAfterRender=[];this.grid.useHiddensForControlValues=this.isUsercontrol&&(this.grid.useHiddensForControlValues||"undefined"===this.grid.useHiddensForControlValues);this.gxCreateGridCode=function(l){var t=new gx.grid.grid(this.parentObject,this.gridLvl,this.gridLvlName,this.gridId,this.gridName+"_"+l,this.gridName,
this.containerName+"_"+l,this.gxComponentContext,this.isMasterPageGrid,this.parentName,this.lvlKey,this.isFreestyle,this.gridCols,this.allowSelection,this.allowHovering,this.gridRows,this.usePaging,this.defaulDragable,this.defaultSetsContext,this.boundedCollType,this.width,this.widthUnit,this.height,this.heightUnit,this.grid.gxNewRowText,this.pageSizeParm,this.hasAddlines,this.hasForEachLine,this.implClass,this.onLineActivate,this.allowCollapsing,this.boundedCollName,this.isResponsive,this.gridResponsiveCols,
!1,0,this.grid.isAbstract,this.InverseLoading),A=this.grid,z=t.grid;t.emptyText=this.emptyText;z.ControlLvl=this.gridLvl;z.GridId=this.gridId;z.GridRow=l;z.GridBaseName=this.gridName;if(A.Properties)for(K in A.Properties)z.setProp(K,A.Properties[K],A[K],A.PropTypes[K]);if(A.DynProperties){var F=A.DynProperties.length;for(l=0;l<F;l++){var K=A.DynProperties[l];z.setDynProp(K,A.Properties[K],A[K],A.PropTypes[K],!0)}}return t}.closure(this);this.gxAddColumnsCode=[];this.grid.usePaging=this.usePaging;
this.grid.eof=this.eof;this.grid.firstRecordOnPage=this.firstRecordOnPage;this.postingVariables=[];this.InfiniteScrolling=ha;this.InverseLoading=ka;this.ScrollType=ea;this.isAbstract=ja;this.addColumnDinCode=function(l,t){this.gxAddColumnsCode.push(function(){l.apply(this,t)})};this.addSingleLineEdit=function(l,t,A,z,F,K,P,R,S,W,Q,V,T,ca,Z,fa,oa,pa,ia,qa,ra,ua,sa,ta){this.addColumnDinCode(this.addSingleLineEdit,arguments);var ma=this.newColumn(z,P,V,R);ma.visible=oa;ma.htmlName=A;ma.gxId=t;ma.gxAttId=
l;ma.gxAttName=K;ma.gxTooltip=F;ma.gxWidthUnit=S;ma.gxColSize=Q;ma.gxSetsContext=ia;ma.gxCssClass=ra;ma.gxColumnClass=sa;ma.gxColumnHeaderClass=ta;ma.gxControl=new gx.html.controls.singleLineEdit;ma.gxControl.column=ma;ma.gxControl.isPassword=qa;ma.gxControl.visible=ma.visible;ma.gxControl.dataType=ma.type;ma.gxControl.clickEvent=T;this.grid.addColumn(ma)};this.addPostingVar=function(l){this.postingVariables.push(l)};this.addMultipleLineEdit=function(l,t,A,z,F,K,P,R,S,W,Q,V,T,ca,Z,fa,oa,pa){this.addColumnDinCode(this.addMultipleLineEdit,
arguments);var ia=this.newColumn(z,K,T,P);ia.visible=Z;ia.htmlName=A;ia.gxId=t;ia.gxAttId=l;ia.gxAttName=F;ia.gxWidthUnit=R;ia.gxSetsContext=fa;ia.gxColumnClass=pa;ia.gxControl=new gx.html.controls.multipleLineEdit;ia.gxControl.column=ia;ia.gxControl.dataType=ia.type;ia.gxControl.visible=ia.visible;ia.gxControl.heightUnit=W;ia.gxControl.clickEvent=ca;this.grid.addColumn(ia)};this.addBlob=function(l,t,A,z,F,K,P,R,S,W,Q,V,T,ca){this.addColumnDinCode(this.addBlob,arguments);var Z=this.newColumn(z,K,
"left",S);Z.visible=V;Z.htmlName=A;Z.gxId=t;Z.gxAttId=l;Z.gxAttName=F;Z.gxWidthUnit=Q;Z.gxSetsContext=T;Z.gxColumnClass=ca;Z.gxControl=new gx.html.controls.blob;Z.gxControl.column=Z;Z.gxControl.dataType=Z.type;Z.gxControl.visible=Z.visible;Z.gxControl.height=R;Z.gxControl.width=S;this.grid.addColumn(Z)};this.addRadioButton=function(l,t,A,z,F,K,P,R,S,W,Q){this.addColumnDinCode(this.addRadioButton,arguments);var V=this.newColumn(z,K,"left","");V.visible=S;V.htmlName=A;V.gxId=t;V.gxAttId=l;V.gxAttName=
F;V.gxSetsContext=W;V.gxColumnClass=Q;V.gxControl=new gx.html.controls.radio;V.gxControl.column=V;V.gxControl.dataType=V.type;V.gxControl.vertical=R;V.gxControl.visible=V.visible;V.gxControl.clickEvent=P;this.grid.addColumn(V)};this.addComboBox=function(l,t,A,z,F,K,P,R,S,W,Q,V,T){this.addColumnDinCode(this.addComboBox,arguments);var ca=this.newColumn(z,K,"left",Q);ca.visible=S;ca.htmlName=A;ca.gxId=t;ca.gxAttId=l;ca.gxAttName=F;ca.gxSetsContext=W;ca.gxWidthUnit=V;ca.gxColumnClass=T;ca.gxControl=new gx.html.controls.comboBox;
ca.gxControl.column=ca;ca.gxControl.dataType=ca.type;ca.gxControl.rtEnabled=1==R;ca.gxControl.visible=ca.visible;ca.gxControl.clickEvent=P;this.grid.addColumn(ca)};this.addListBox=function(l,t,A,z,F,K,P,R,S,W,Q,V,T,ca){this.addColumnDinCode(this.addListBox,arguments);var Z=this.newColumn(z,K,"left",Q);Z.visible=S;Z.htmlName=A;Z.gxId=t;Z.gxAttId=l;Z.gxAttName=F;Z.gxSetsContext=W;Z.gxWidthUnit=V;Z.gxColumnClass=T;Z.gxControl=new gx.html.controls.listBox;Z.gxControl.column=Z;Z.gxControl.dataType=Z.type;
Z.gxControl.rows=void 0!==ca?ca:4;Z.gxControl.rtEnabled=1==R;Z.gxControl.visible=Z.visible;Z.gxControl.clickEvent=P;this.grid.addColumn(Z)};this.addCheckBox=function(l,t,A,z,F,K,P,R,S,W,Q,V,T,ca,Z){this.addColumnDinCode(this.addCheckBox,arguments);var fa=this.newColumn(z,P,"left",T);fa.visible=Q;fa.htmlName=A;fa.gxId=t;fa.gxAttId=l;fa.gxAttName=K;fa.gxChecked=R;fa.gxUnChecked=S;fa.gxSetsContext=V;fa.gxWidthUnit=ca;fa.gxColumnClass=Z;fa.gxControl=new gx.html.controls.checkBox;fa.gxControl.column=fa;
fa.gxControl.checkedValue=R;fa.gxControl.uncheckedValue=S;fa.gxControl.dataType=fa.type;fa.gxControl.visible=fa.visible;fa.gxControl.clickEvent=W;this.grid.addColumn(fa)};this.addBitmap=function(l,t,A,z,F,K,P,R,S,W,Q,V){this.addColumnDinCode(this.addBitmap,arguments);var T=this.newColumn(W,"","left",z);T.htmlName=t;T.gxId=A;T.gxAttId=l;T.gxWidthUnit=F;T.gxControl=new gx.html.controls.image;T.gxControl.column=T;T.gxControl.dataType=T.type;T.gxControl.width=z;T.gxControl.widthUnit=F;T.gxControl.height=
K;T.gxControl.heightUnit=P;T.gxControl.clickEvent=R;T.gxCssClass=Q;T.gxColumnClass=V;this.grid.addColumn(T)};this.addVideo=function(l,t,A,z,F,K,P,R,S,W,Q,V){this.addColumnDinCode(this.addVideo,arguments);var T=this.newColumn(W,"","left",z);T.htmlName=t;T.gxId=A;T.gxAttId=l;T.gxWidthUnit=F;T.gxControl=new gx.html.controls.video;T.gxControl.column=T;T.gxControl.dataType=T.type;T.gxControl.width=z;T.gxControl.widthUnit=F;T.gxControl.height=K;T.gxControl.heightUnit=P;T.gxControl.clickEvent=R;T.gxCssClass=
Q;T.gxColumnClass=V;this.grid.addColumn(T)};this.addAudio=function(l,t,A,z,F,K,P,R,S,W,Q,V){this.addColumnDinCode(this.addAudio,arguments);var T=this.newColumn(W,"","left",z);T.htmlName=t;T.gxId=A;T.gxAttId=l;T.gxWidthUnit=F;T.gxControl=new gx.html.controls.audio;T.gxControl.column=T;T.gxControl.dataType=T.type;T.gxControl.width=z;T.gxControl.widthUnit=F;T.gxControl.height=K;T.gxControl.heightUnit=P;T.gxControl.clickEvent=R;T.gxCssClass=Q;T.gxColumnClass=V;this.grid.addColumn(T)};this.addFile=function(l,
t,A,z,F,K,P,R,S,W,Q,V){this.addColumnDinCode(this.addVideo,arguments);var T=this.newColumn(W,"","left",z);T.htmlName=t;T.gxId=A;T.gxAttId=l;T.gxWidthUnit=F;T.gxControl=new gx.html.controls.file;T.gxControl.column=T;T.gxControl.dataType=T.type;T.gxControl.width=z;T.gxControl.widthUnit=F;T.gxControl.height=K;T.gxControl.heightUnit=P;T.gxControl.clickEvent=R;T.gxCssClass=Q;T.gxColumnClass=V;this.grid.addColumn(T)};this.addTextBlock=function(l,t,A){this.addColumnDinCode(this.addTextBlock,arguments);var z=
this.newColumn("","","left");z.gxId=A;z.htmlName=l;z.gxControl=new gx.html.controls.textBlock;z.gxControl.column=z;z.gxControl.dataType=z.type;z.gxControl.clickEvent=t;this.grid.addColumn(z)};this.addLabel=function(l){this.addColumnDinCode(this.addLabel,arguments);var t=this.newColumn("","","left");t.htmlName=l;t.gxControl=new gx.html.controls.label;t.gxControl.column=t;this.grid.addColumn(t)};this.addButton=function(l,t,A,z,F){this.addColumnDinCode(this.addButton,arguments);var K=this.newColumn("",
"","left");K.htmlName=t;K.gxId=l;K.gxControl=new gx.html.controls.button;K.gxControl.column=K;K.gxControl.dataType=K.type;this.grid.addColumn(K)};this.addGrid=function(l){this.addColumnDinCode(this.addGrid,arguments);this.childGrids.push(l);var t=this.newColumn("","","left");t.htmlName=l.getContainerControlId();t.gxControl=new gx.html.controls.grid;t.gxControl.column=t;this.grid.addColumn(t)};this.addUsercontrol=function(l,t,A,z,F,K,P,R,S,W){this.addColumnDinCode(this.addUsercontrol,arguments);var Q=
"",V=this.parentObject;V.GridUCsProps&&V.GridUCsProps[F]&&(Q=V.GridUCsProps[F].title||"");Q=this.newColumn(Q,"","left");Q.gxUCId=l;Q.gxUCLastId=t;Q.gxUCClassName=A;Q.gxUCContainerName=z;Q.gxUCControlName=F;Q.gxUCFieldName=K;Q.gxShowFunc=P;Q.gxC2VFuncs=R;Q.gxV2CFuncs=S;Q.visible=W;Q.gxControl=new gx.html.controls.userControl;Q.gxControl.column=Q;Q.gxControl.dataType=Q.type;Q.htmlName=F.toUpperCase();Q.isUserControl=!0;this.grid.addColumn(Q)};this.startContainer=function(){this.addColumnDinCode(this.startContainer,
arguments);var l=this.newColumn("","","left");l.gxControl=new gx.html.controls.userControlContainer;l.gxControl.column=l;l.gxControl.dataType=l.type;this.grid.addColumn(l)};this.endContainer=function(){this.addColumnDinCode(this.endContainer,arguments);this.currentBuffer.append("</div>")};this.addWebComponent=function(l){this.addColumnDinCode(this.addWebComponent,arguments);var t=this.newColumn("","","left");t.gxControl=new gx.html.controls.webComponent;t.gxControl.column=t;t.gxControl.dataType=t.type;
this.grid.addColumn(t)};this.addEmbeddedPage=function(l){this.addColumnDinCode(this.addEmbeddedPage,arguments);var t=this.newColumn("","","left");t.gxControl=new gx.html.controls.embeddedPage;t.gxControl.column=t;t.gxControl.dataType=t.type;this.grid.addColumn(t)};this.addHtmlCode=function(l){this.addColumnDinCode(this.addHtmlCode,arguments);this.currentBuffer.append(l)};this.startTable=function(l,t,A){this.addColumnDinCode(this.startTable,arguments);var z=this.newColumn("","","left");z.gxId=t;z.htmlName=
l+"_"+t;z.gxControl=new gx.html.controls.table;z.gxControl.column=z;z.gxControl.width=A;z.gxControl.dataType=z.type;this.grid.addColumn(z)};this.endTable=function(){this.addColumnDinCode(this.endTable,arguments);this.currentBuffer.append("</table>")};this.startRow=function(l,t,A,z,F,K){this.addColumnDinCode(this.startRow,arguments);var P=this.newColumn("","","left");P.gxControl=new gx.html.controls.row;P.gxControl.column=P;P.gxControl.title=l;P.gxControl.align=t;P.gxControl.verticalAlign=A;P.gxControl.backColor=
z;P.gxControl.borderColor=F;P.gxControl.cssClass=K;P.gxControl.ownCssClass=K;P.gxControl.dataType=P.type;this.grid.addColumn(P)};this.endRow=function(){this.addColumnDinCode(this.endRow,arguments);this.currentBuffer.append("</tr>")};this.startCell=function(l,t,A,z,F,K,P,R,S,W){this.addColumnDinCode(this.startCell,arguments);var Q=this.newColumn("","","left");Q.gxControl=new gx.html.controls.cell;Q.gxControl.column=Q;Q.gxControl.title=l;Q.gxControl.align=t;Q.gxControl.verticalAlign=A;Q.gxControl.backColor=
z;Q.gxControl.borderColor=F;Q.gxControl.height=K;Q.gxControl.width=P;Q.gxControl.colSpan=R;Q.gxControl.rowSpan=S;Q.gxControl.cssClass=W;Q.gxControl.dataType=Q.type;this.grid.addColumn(Q)};this.endCell=function(){this.addColumnDinCode(this.endCell,arguments);this.isResponsive?this.currentBuffer.append("</div>"):this.currentBuffer.append("</td>")};this.startGroup=function(l,t,A,z,F){this.addColumnDinCode(this.startGroup,arguments);var K=this.newColumn("","","left");K.htmlName=l;K.gxControl=new gx.html.controls.group;
K.gxControl.column=K;K.gxControl.id=l;K.gxControl.caption=t;K.gxControl.height=A;K.gxControl.width=z;K.gxControl.cssClass=F;K.gxControl.dataType=K.type;this.grid.addColumn(K)};this.endGroup=function(){this.addColumnDinCode(this.endGroup,arguments);this.currentBuffer.append("</fieldset>")};this.startDiv=function(l,t,A,z){this.addColumnDinCode(this.startDiv,arguments);var F=this.newColumn("","","left");F.gxId=l;F.htmlName=t+"_"+l;F.gxControl=new gx.html.controls.div;F.gxControl.column=F;F.gxControl.width=
z;F.gxControl.height=A;F.gxControl.dataType=F.type;this.grid.addColumn(F)};this.endDiv=function(){this.addColumnDinCode(this.endDiv,arguments);var l=this.newColumn("","","left");l.gxControl=new gx.html.controls.divEnd;l.gxControl.column=l;this.grid.addColumn(l)};this.startFormGroup=function(l,t,A,z){this.addColumnDinCode(this.startFormGroup,arguments);var F=this.newColumn("","","left");F.gxId=l;F.htmlName=t+"_"+l;F.gxControl=new gx.html.controls.formGroup;F.gxControl.column=F;F.gxControl.width=z;
F.gxControl.height=A;F.gxControl.dataType=F.type;this.grid.addColumn(F)};this.endFormGroup=function(){this.addColumnDinCode(this.endFormGroup,arguments);var l=this.newColumn("","","left");l.gxControl=new gx.html.controls.formGroupEnd;l.gxControl.column=l;this.grid.addColumn(l)};this.newColumn=function(l,t,A,z){t=this.getColumnType(t);l=new gx.grid.column(l,t,z,A);this.currentBuffer=l.buffer;l.htmlName="";l.gxId="";l.gxAttId="";l.gxAttName="";return l};this.getColumnType=function(l){switch(l){case "decimal":case "int":l=
gx.types.numeric;break;case "date":l=gx.types.date;break;case "dtime":l=gx.types.dateTime;break;case "boolean":l=gx.types.bool;break;case "GeneXus\\Geolocation":l=gx.types.geolocation;break;default:l=gx.types.character}return l};this.addOldComponent=function(l,t){"undefined"==typeof this.oldCmps[l]&&(this.oldCmps[l]=[]);this.oldCmps[l].push(t)};this.updateOldComponents=function(){for(var l=this.grid.rows.length,t=0;t<l;t++)delete this.oldCmps[this.grid.rows[t].gxId];for(var A in this.oldCmps){for(l=
this.oldCmps[A];0<l.length;)t=l.shift(),gx.fn.deleteHidden(t);delete this.oldCmps[A]}};this.addHidden=function(l){this.hiddens.push(l)};this.addHiddenControl=function(l,t,A){gx.fn.setHidden(l,t);1!=A&&this.addHidden(l)};this.clearHiddens=function(){for(var l=0;l<this.hiddens.length;l++)gx.fn.deleteHidden(this.hiddens[l]);this.hiddens=[]};var Y={};this.setHtmlTags=function(l){gx.lang.apply(Y,l);var t=' style="'+("0"==Y.Visible?"display:none;":"");l=' class="'+Y.Class+'"';var A=gx.lang.emptyObject;
t+=A(Y.Background)?"":"background:"+Y.Background+";";t+=A(Y.Backcolor)||"0"==Y.Backcolor?"":"background-color:"+gx.color.html(Y.Backcolor).Html+";";t+=A(Y.Bordercolor)||"0"==Y.Bordercolor?"":"border-color:"+gx.color.html(Y.Bordercolor).Html+";";t+=A(Y.Borderwidth)||"0"==Y.Borderwidth?"":" border-width:"+Y.Borderwidth+";";t+=A(Y.Width)||"0"==Y.Width?"":" width:"+gx.dom.addUnits(Y.Width,this.width==Y.Width?this.widthUnit:"")+";";t+=A(Y.Height)||"0"==Y.Height?"":"max-height:"+gx.dom.addUnits(Y.Height,
this.height==Y.Height?this.heightUnit:"")+";";l+=A(Y.Align)?"":' align="'+Y.Align+'"';l+=A(Y.Tooltiptext)?"":' title="'+Y.Tooltiptext+'"';l+=A(Y.Cellpadding)?"":' data-cellpadding="'+Y.Cellpadding+'"';l+=A(Y.Cellspacing)?"":' data-cellspacing="'+Y.Cellspacing+'"';this.htmlTags=gx.text.trim(l+(t+'"'));this.grid.gxHtmlTags=this.htmlTags;A(Y.Width)||(this.grid.gxWidth=Y.Width);A(Y.Height)||(this.grid.gxHeight=Y.Height)};var ba={};this.setGridStyles=function(l){gx.lang.apply(ba,l);this.grid.header=l.Header;
this.visible=void 0!=ba.Visible?gx.lang.gxBoolean(ba.Visible):!0;this.setSortable(void 0!=ba.Sortable?gx.lang.gxBoolean(ba.Sortable):!0);this.background=void 0!=ba.Background?ba.Background:"";this.cssClass=void 0!=ba.Class?ba.Class:"";this.titleBackstyle=void 0!=ba.Backcolorstyle?ba.Backcolorstyle:gx.grid.styles.none;this.titleFont=void 0!=ba.Titlefont?ba.Titlefont:"";this.linesFont=void 0!=ba.Linesfont?ba.Linesfont:"";this.borderWidth=void 0!=ba.Borderwidth?ba.Borderwidth:"";this.toolTipText=void 0!=
ba.Tooltiptext?ba.Tooltiptext:"";try{this.backcolor=void 0!=ba.Backcolor?gx.color.html(ba.Backcolor).Html:"",this.titleBackcolor=void 0!=ba.Titlebackcolor?gx.color.html(ba.Titlebackcolor).Html:"",this.titleForecolor=void 0!=ba.Titleforecolor?gx.color.html(ba.Titleforecolor).Html:"",this.linesBackcolorOdd=void 0!=ba.Backcolorodd?gx.color.html(ba.Backcolorodd).Html:"",this.linesBackcolorEven=void 0!=ba.Backcoloreven?gx.color.html(ba.Backcoloreven).Html:"",this.bordercolor=void 0!=ba.Bordercolor?gx.color.html(ba.Bordercolor).Html:
""}catch(t){gx.dbg.logEx(t,"gxgrid.js","setGridStyles")}this.borderWidth=void 0!=ba.Borderwidth?ba.Borderwidth:"";this.toolTipText=void 0!=ba.Tooltiptext?ba.Tooltiptext:"";this.grid.gxCssClass="";this.grid.gxTitleClass="";this.grid.gxFooterClass="";this.grid.gxOddLlinesClass="";this.grid.gxEvenLinesClass="";this.grid.gxBackColor=this.backcolor;this.grid.gxTitleBackColor=this.titleBackcolor;this.grid.gxTitleForeColor=this.titleForecolor;this.grid.gxTitleBackstyle=this.titleBackstyle;this.grid.gxTitleFont=
this.titleFont;this.grid.gxLinesFont=this.linesFont;this.grid.gxBackground=this.background;this.grid.gxLinesBackcolorOdd=this.linesBackcolorOdd;this.grid.gxLinesBackcolorEven=this.linesBackcolorEven;this.grid.gxBorderWidth=this.borderWidth;this.grid.gxBordercolor=this.bordercolor;this.grid.gxToolTipText=this.toolTipText;this.grid.gxVisible=this.visible;""!=this.cssClass&&(this.grid.gxCssClass=this.cssClass,this.grid.gxTitleClass=this.cssClass+"Title",this.grid.gxFooterClass=this.cssClass+"Footer",
this.titleBackstyle==gx.grid.styles.none?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.uniform?(this.grid.gxOddLlinesClass=this.cssClass+"Uniform",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.header?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.report&&(this.isFreestyle&&
0>=this.gridCols?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.cssClass+"Even")))};this.setSortable=function(l){if(this.sortable!=l){this.sortable=l;for(var t=this.grid.columns.length,A=0;A<t;A++)this.grid.columns[A].sortable=l}};this.lastRowId=0;this.addRow=function(l,t){var A;t=void 0===t?-1:t;var z=-1==t?this.lastRowId++:t,F=gx.grid.rowId(z+1);F=new gx.grid.row(z,
l,F,this.grid.gxParentRowId);F.gxCmpContext=this.gxComponentContext;F.Grids=l.Grids;F.ownerGrid=this;F.gxLvl=this.gridLvl;this.setRowHiddens(l.Hiddens);for(var K=this.grid.columns,P=K.length,R=0;R<P;R++){var S=K[R];if(0!==z){var W=this.grid.rows[0].gxProps[R];var Q=l.Props[R].length;for(A=this.grid.rowsValues?W.length-1:W.length;Q<A;Q++)F.gxProps[R].push(W[Q])}A=l.Props[R];A=A[A.length-1];(W=this.grid.rowsValues)&&!this.autoRefreshing&&(Q=W[z],void 0!==Q&&0<Q.length&&(A=W[z][R]));F.values[R]=A;this.grid.rowsValues&&
F.gxProps[R].push(A);this.parentObject.isTransaction()&&(S=this.columnIndexInKey(S.gxAttId),-1!=S&&(F.gxKeyValues[S]=A))}this.isFreestyle&&(F.IsNew=!0,this.installChildGrids(F));this.grid.addRow(F,!1,t);return F};this.installChildGrids=function(l){for(var t=this.childGrids.length,A=0;A<t;A++){var z=this.childGrids[A],F=z.gxCreateGridCode(l.gxId);F.grid.parentGxObject=this.parentObject;var K=(F.isMasterPageGrid?"MP":this.grid.gxCmpContext)+F.realGridName+"Container";F.gxContainerDivName=K+"Div_"+l.gxId;
F.gxContainerDataName=K+"Data_"+l.gxId;F.gxContainerValuesName=K+"DataV_"+l.gxId;l.gxGrids.push(F);F.parentGrid=this;F.parentRow=l;this.parentObject.setGrid(F);z.copyPropertiesTo(F);F.grid.gxCmpContext=this.grid.gxCmpContext;F.grid.gxParentRowId=l.gxId;this.installChildGridColumns(F,z)}};this.installChildGridColumns=function(l,t){for(var A=t.gxAddColumnsCode.length,z=0;z<A;z++)t.gxAddColumnsCode[z].call(l)};this.copyPropertiesTo=function(l){l.cssClass=this.cssClass;l.titleBackstyle=this.titleBackstyle;
l.titleBackcolor=this.titleBackcolor;l.linesBackcolorOdd=this.linesBackcolorOdd;l.linesBackcolorEven=this.linesBackcolorEven;l.grid.gxCssClass=this.grid.gxCssClass;l.grid.gxTitleClass=this.grid.gxTitleClass;l.grid.gxOddLlinesClass=this.grid.gxOddLlinesClass;l.grid.gxEvenLinesClass=this.grid.gxEvenLinesClass;l.grid.gxAllowCollapsing=this.grid.gxAllowCollapsing;l.grid.gxCollapsed=this.grid.gxCollapsed};this.setRowHiddens=function(l){if(l&&this.parentObject.isTransaction())for(var t in l)gx.fn.setHidden(t,
l[t])};this.executeEvent=function(l,t){gx.evt.setGridEvt(this.gridId.toString(),t);this.instanciateRow(t);this.parentObject[l].call(this.parentObject,t)};this.getHiddenName=function(l){var t="";this.parentRow&&(t="_"+this.parentRow.gxId);return this.grid.gxCmpContext+this.realGridName.toUpperCase()+(this.isMasterPageGrid?"_MPAGE":"")+"_"+l+t};this.updatePagingVars=function(l,t){void 0==l&&void 0==t?(this.grid.eof=gx.fn.getHidden(this.getHiddenName("nEOF")),this.grid.firstRecordOnPage=gx.fn.getHidden(this.getHiddenName("nFirstRecordOnPage"))):
(this.grid.eof=l,this.grid.firstRecordOnPage=t)};this.setPagingVars=function(l,t){this.grid.eof=l;this.grid.firstRecordOnPage=t;gx.fn.setHidden(this.getHiddenName("nEOF"),l);gx.fn.setHidden(this.getHiddenName("nFirstRecordOnPage"),t)};this.clearDefaultEventHandlers=function(){if(this.defaultDragable||this.defaultSetsContext){var l=this.grid.rows.length;for(var t=0;t<l;t++){var A=this.containerName+"Row_"+this.grid.rows[t].gxId;this.defaultDragable&&gx.fx.dnd.deleteSource(A);this.defaultSetsContext&&
gx.fx.ctx.deleteSetter(A)}}l=this.grid.columns.length;for(t=0;t<l;t++)if(A=this.grid.columns[t],1==A.gxSetsContext)for(var z=this.grid.rows.length,F=0;F<z;F++)gx.fx.ctx.deleteSetter(A.htmlName+"_"+this.grid.rows[F].gxId)};this.setDefaultEventHandlers=function(){var l=0,t=this.additiveResponse?this.firstAdditiveRow:0,A=this.getRowAsTypes();if(this.defaultDragable||this.defaultSetsContext)if(gx.lang.emptyObject(this.boundedCollType)){l=this.grid.rows.length;for(var z=t;z<l;z++){var F=this.gxComponentContext+
this.containerName+"Row_"+this.grid.rows[z].gxId;F=gx.dom.byId(F);null!=F&&(F.gxGrid=this.containerName,F.gxGridName=this.gridName,F.gxId=this.grid.rows[z].gxId);F=this.containerName+"Row_"+this.grid.rows[z].gxId;K=function(R){return this.returnRowData(R)}.closure(this);this.defaultDragable&&gx.fx.dnd.addSource(this.parentObject,F,this.cssClass,A,K);this.defaultSetsContext&&gx.fx.ctx.addSetter(this.parentObject,F,this.cssClass,A,K)}}else{l=this.grid.gxCmpContext+this.containerName+"Div";var K=function(){return this.returnGridData()}.closure(this);
this.defaultDragable&&gx.fx.dnd.addSource(this.parentObject,l,this.cssClass,[this.boundedCollType],K);this.defaultSetsContext&&gx.fx.ctx.addSetter(this.parentObject,l,this.cssClass,[this.boundedCollType],K)}if(this.parentGrid)for(z=gx.fx.ctx.setters[this.gxComponentContext+this.realGridName+"ContainerTbl"],l=this.grid.rows.length,K=t;K<l;K++)F=this.containerName+"Row_"+this.grid.rows[K].gxId,z&&z.hdl&&gx.fx.ctx.addSetter(this.parentObject,F,this.cssClass,A,z.hdl);if(!this.additiveResponse)for(l=this.grid.columns.length,
A=0;A<l;A++)if(F=this.grid.columns[A],1==F.gxSetsContext)for(z=this.grid.rows.length,K=t;K<z;K++){var P=gx.dom.el(this.gxComponentContext+F.htmlName+"_"+this.grid.rows[K].gxId,!0);null!=P&&(P.gxHtmlName=F.htmlName,gx.fx.ctx.addSetter(this.parentObject,F.htmlName+"_"+this.grid.rows[K].gxId,"",[F.gxAttName],this.returnColumnContext))}};this.infinite_scrolling_ensure_loading_scroll=function(){if(!this.mock_element){var l=f("#"+this.getGridInnerTableId());this.mock_element=f('<div class="gx-grid-loading" style="visibility:hidden;">'+
gx.getMessage("GXM_Loading")+"</div>");this.mock_element.insertAfter(l)}};this.infinite_scrolling_before_scroll=function(){this.infinite_scrolling_ensure_loading_scroll();!0!==this.isScrolling&&(this.mock_element.css("visibility","visible"),this.isScrolling=!0)};this.hide_loading_message=function(){gx.lang.requestAnimationFrame(function(){this.mock_element&&this.mock_element.css("visibility","hidden")},this)};this.remove_loading_message=function(){this.mock_element&&(f(this.mock_element).remove(),
this.mock_element=void 0)};this.infinite_scrolling_after_scroll=function(){var l=this.getGridInnerTableId();f("#"+l);this.fixColumnsWidth(this.fixedColumnsWidth);this.isScrolling=!1;this.hide_loading_message()};this.fixColumnsWidth=function(l){if(!this.isFreestyle){var t=this.getGridInnerTableId();t=f("#"+t).find("tbody tr[data-gxrendering_row]");f.each(t,function(A,z){f(z).children().map(function(F,K){K.style.width=l[F]+"px";K.style.maxWidth=l[F]+"px"})});t.removeAttr("data-gxrendering_row")}};this.unInstallScrollListener=
function(){this.ScrollingElement&&(f(this.ScrollingElement).scrollTop(0),this.remove_loading_message(),this.ScrollingElement.removeEventListener("scroll",this.ScrollingHandler,{passive:!0}))};this.installScrollListener=function(l,t,A,z){var F=gx.grid.scrollingThreshold||4,K=function(){if(this.InverseLoading)return l.scrollTop<=30*l.clientHeight/100;if(1==this.ScrollType){var S=f(window);var W=f(document).height();var Q="CSS1Compat"===(document.compatMode||"");Q=void 0!==window.pageXOffset?window.pageYOffset:
Q?document.documentElement.scrollTop:document.body.scrollTop;S=S.height()}else W=l.scrollHeight,Q=l.scrollTop,S=l.clientHeight;var V=Q;var T=R.lastPosition;R.lastPosition=V;return V<T?!1:W-Q-S<S*F}.closure(this),P=this,R={allow:!0,reallow:function(){R.allow=!0;R.runAfterReallow&&(R.runAfterReallow=!1,P.ScrollingHandler())},lastPosition:0,runAfterReallow:!1,delay:300};this.ScrollingHandler=function(){gx.lang.requestAnimationFrame(function(){if(R.allow){var S=P.grid;!0!==P.isScrolling&&!S.isLastPage()&&
K()&&(P.infinite_scrolling_before_scroll(),S.changeGridPage("NEXT",!1));R.allow=!1;setTimeout(R.reallow,R.delay)}else R.runAfterReallow=!0})};this.infinite_scrolling_ensure_loading_scroll();l.addEventListener("scroll",this.ScrollingHandler,{passive:!0})};this.installFixedGridHeader=function(){if(!this.usePaging&&!this.InfiniteScrolling&&!this.isFreestyle&&this.grid.gxHeight&&0<this.grid.rows.length){var l=this.getContainerControl();if(l){var t=f(l),A=this,z=this.getGridInnerTableId();l=f("#"+z);var F=
l.find("tbody tr:first").children(),K=f("#"+z+"> tbody"),P=f("#"+z+"> thead > tr"),R=f("#"+z+"> thead");z=gx.util.browser.isOldIE();this.fixedContainerWidth||(this.fixedContainerWidth=l.width());this.fixedColumnsWidth||(this.fixedColumnsWidth=F.map(function(){return f(this).width()}).get());t.addClass("gx-infinite-scrolling-container");if(!this.width||z)z?(t.addClass("gx-grid-fixed-header-ie7"),t.wrap("<div style='position:relative;'>"),l.css("width",""),t.width(this.fixedContainerWidth+f.position.scrollbarWidth()+
2),F=R.position(),P.css("top",F.top),F=P.outerHeight(!0),t.css("paddingTop",gx.dom.addUnits(F,"px")),l.attr("data-bkgstyle",""),F=l.css("background-color"),R=P.css("background-color"),!F||R&&"transparent"!==R||P.css("background-color",F)):l.width(this.fixedContainerWidth+f.position.scrollbarWidth()+2);0<this.fixedColumnsWidth.length&&(l.find("thead tr").children().each(function(S,W){f(W)[0].style.visibility=0<A.fixedColumnsWidth[S]?"":"hidden";f(W)[0].style.width=A.fixedColumnsWidth[S]+"px"}),this.fixColumnsWidth(this.fixedColumnsWidth));
K.addClass("gx-infinite-scrolling-element");t=z?t:K;l.css("max-height","");t.css({"max-height":gx.dom.addUnits(this.grid.gxHeight,this.grid.gxHeight==this.height?this.heightUnit:"px")})}}};this.handleInfiniteScrolling=function(){if(this.InfiniteScrolling){var l=this.getContainerControl();if(l){var t=f(l);t.removeClass("gx-infinite-scrolling-container");if(0===this.grid.rows.length)this.emptyFirstLoad=!0,this.initialPageSize=this.grid.pageSize;else{var A=this,z=this.getGridInnerTableId();if(1==this.ScrollType){var F=
window;this.fixedColumnsWidth=[]}else{this.ScrollingHeight&&f(F).css({height:this.ScrollingHeight});var K=f("#"+z),P=K.find("tbody tr:first").children(),R=f("#"+z+">tbody"),S=f.grep(this.grid.columns,function(fa){return 1==fa.visible}).length;this.fixedColVisibleCount!=S&&(this.fixedColVisibleCount=S,this.isFreestyle||(this.ScrollingElement&&f(this.ScrollingElement).removeClass("gx-infinite-scrolling-element"),K.find("thead tr").children().each(function(fa,oa){f(oa)[0].style.visibility="";f(oa)[0].style.width=
""}),this.fixedColntainerWidth||(this.fixedColntainerWidth=K.width()),this.fixedColumnsWidth=P.map(function(){return this.offsetWidth}).get()));t.addClass("gx-infinite-scrolling-container");this.isFreestyle||K.width(this.fixedColntainerWidth+f.position.scrollbarWidth()+2);!this.isFreestyle&&0<this.fixedColumnsWidth.length&&(K.find("thead tr").children().each(function(fa,oa){f(oa)[0].style.visibility=0<A.fixedColumnsWidth[fa]?"":"hidden";f(oa)[0].style.width=A.fixedColumnsWidth[fa]+"px"}),this.fixColumnsWidth(this.fixedColumnsWidth));
F=0<R.length?R[0]:l;f(F).addClass("gx-infinite-scrolling-element")}this.ScrollingHeight&&1!=this.ScrollType&&f(F).css({height:this.ScrollingHeight});this.ScrollingElement=F;this.infinitScrollingInstalled=!0;l=this.InverseLoading?this.grid.firstItemSelector:this.grid.lastItemSelector;var W=this.infinite_scrolling_before_scroll.closure(this),Q;!this.ScrollingHeight&&(this.isFreestyle||this.grid.rows.length>=this.grid.pageSize&&0<this.grid.pageSize)&&(1!=this.ScrollType&&(this.emptyFirstLoad?($firstRow=
K.find("tbody tr:first"),0<$firstRow.outerHeight()&&0<this.initialPageSize&&(Q=$firstRow.outerHeight()*this.initialPageSize)):Q=f(F).height()-2,0<Q&&f(F).css({height:Q})),this.ScrollingHeight=Q);if(F){var V=0,T=function(){var fa;if(10==V)return V=0,!1;(fa=this.InverseLoading?0==F.scrollTop:1==this.ScrollType?gx.popup.ispopup()?document.body.scrollHeight<document.body.clientHeight:document.body.scrollHeight<=document.body.clientHeight:F.clientHeight==F.scrollHeight)&&V++;return fa}.closure(this),ca=
function(){A.InverseLoading&&(F.scrollTop=F.scrollHeight);this.hide_loading_message();Z()}.closure(this),Z=function(){if(!this.grid.isLastPage()&&T())return W(),this.grid.changeGridPage("NEXT",!1).then(ca())}.closure(this);gx.lang.requestAnimationFrame(function(fa,oa,pa,ia){Z();this.installScrollListener(fa,oa,pa,ia)}.closure(this,[this.ScrollingElement,z,R,l]))}}}}};this.returnColumnContext=function(l){l="SPAN"==l.nodeName?gx.dom.spanValue(l):gx.fn.getControlValue_impl(l.id);return null!=l?l:""};
this.returnRowData=function(l){var t={};if(l=this.grid.getRowByGxId(l.gxId))for(var A=this.grid.columns.length,z=0;z<A;z++){var F=this.grid.columns[z].gxAttName;""!=F&&(t[F]=l.values[z])}return t};this.returnGridData=function(){for(var l=[],t=this.grid.rows.length,A=0;A<t;A++){var z={};l[A]=z;for(var F=this.grid.rows[A],K=this.grid.columns.length,P=0;P<K;P++){var R=this.grid.columns[P].gxAttName;""!=R&&(z[R]=F.values[P])}}return l};this.doDrop=function(l){this.getNewRows(void 0!=l.length?l.length:
1,null,function(t){this.addDropedRows(t,l)})};this.addDropedRows=function(l,t){l.gxHiddens&&gx.fn.setJsonHiddens(null,l.gxHiddens);l=l.gxContainer?l.gxContainer:l;var A=t.length;if(void 0!=A)for(var z=0;z<A;z++)this.setDroppedRow(l[z],t[z]);else this.setDroppedRow(l[0],t);this.setNewRows(l)};this.setDroppedRow=function(l,t){for(var A=this.grid.columns.length,z=0;z<A;z++){var F=l.Props[z],K=this.grid.columns[z].gxAttName,P="";""!=K&&void 0!=t[K]&&(P=t[K]);F.Value=P;F.FormattedValue=P}};this.getRowAsTypes=
function(){for(var l=[],t=this.grid.columns.length,A=0;A<t;A++){var z=this.grid.columns[A].gxAttName;""!=z&&l.push(z)}return l};this.addRows=function(l,t){var A=l.Count;t=void 0===t?-1:t;this.grid.rowsValues=l.values;for(var z=0;z<A;z++)this.addRow(l[z],-1===t?-1:t+z);0===t&&(this.grid.rows=this.grid.rows.slice(0,Number(gx.fn.getHidden(this.getHiddenName("Rows")))))};this.lastRowIsModified=function(){if(0==this.grid.rows.length)return!1;var l=this.grid.rows[this.grid.rows.length-1];return l.gxExists()||
l.gxIsMod()?!0:!1};this.getNewRows=function(l,t,A){A=void 0!=A?A:this.setNewRows;var z=gx.util.browser.isFirefox()?"keypress":"keydown";null!=t&&((t.type!=z||32!=t.charCode&&32!=t.keyCode&&13!=t.keyCode)&&"click"!=t.type||0!=this.grid.rows.length&&!this.lastRowIsModified())?null==t||32!=t.keyCode&&13!=t.keyCode||gx.evt.cancel(t,!0):(gx.csv.pkDirty=!1,gx.ajax.newRows(this.gxComponentContext,this.isMasterPageGrid,this.realGridName,l+this.lastRowId,this.lastRowId+1,gx.grid.rowId(this.lastRowId+1)+this.grid.gxParentRowId,
this.grid.gxParentRowId,A),gx.csv.pkDirty=!1,null!=t&&gx.evt.cancel(t,!0))};this.setNewRows=function(l){return this.setNewRows_impl(l,function(t){this.refreshGrid({loadChildGrids:!1});this.grid.execShowFunction&&this.grid.execShowFunction()})};this.loadNewRows=function(l){l.gxHiddens&&gx.fn.setJsonHiddens(null,l.gxHiddens);l=l.gxContainer?l.gxContainer:l;return this.setNewRows_impl(l,function(t){this.loadGrid({rowProps:t,isPostback:!0,addRows:!0})})};this.setNewRows_impl=function(l,t){l.gxHiddens&&
gx.fn.setJsonHiddens(null,l.gxHiddens);l=l.gxContainer?l.gxContainer:l;if(void 0!=l.Count){var A;this.grid.rowsValues||(this.grid.rowsValues=[]);this.grid.rowsValues=this.grid.rowsValues.concat(l.values);for(A=0;A<l.Count;A++){var z=this.addRow(l[A]);gx.fn.setCurrentGridRow(this.gridId,z.gxId)}0<l.Count&&(this.addingRows=!0,t.call(this,l),this.addingRows=!1,this.setFocusFirstControl(l[0]))}return z};this.gxNewRowFocused=function(l){l.style.textDecoration="underline";var t=gx.fn.firstGridControl(this.gridId);
gx.evt.onfocus(l,t,this.gxComponentContext,this.isMasterPageGrid,"9999",this.gridId)};this.rowKeyPressed=function(l){var t=gx.evt.source(l);void 0!=t&&l.ctrlKey&&46==l.keyCode&&(this.setRowDeleted(t),gx.evt.cancel(l,!0))};this.gxHasDuplicateKey=function(){for(var l=[],t=this.grid.rows,A=t.length,z=0;z<A;z++){var F=t[z];if((F.gxExists()||F.gxIsMod())&&!F.gxDeleted()){for(var K="",P=F.gxKeyValues.length,R=0;R<P;R++)K+=F.gxKeyValues[R].toString();if(void 0!=l[K])return!0;l[K]=1}}return!1};this.columnIndexInKey=
function(l){for(var t=this.lvlKey.length,A=0;A<t;A++)if(this.lvlKey[A]==l)return A;return-1};this.refreshVars=[];this.addRefreshingVar=function(l){if(!gx.lang.emptyObject(l)){var t="",A=function(){this.filterVarChanged()};this.refreshVars[this.refreshVars.length]=l;if(l.fld){var z=gx.dom.el(this.gxComponentContext+l.fld,!1,!0);if(void 0!=z&&gx.lang.emptyObject(l.hc)&&(t="radio"==z.type||"checkbox"==z.type?["click"]:"SELECT"==z.tagName?"change":gx.evt.eachKeyAutorefreshType(l.type)?["keyup","input"]:
"blur",""!=t))if("radio"==z.type){z=gx.dom.byName(this.gxComponentContext+l.fld);l=z.length;for(var F=0;F<l;F++){gx.evt.attach(z[F],t,A,this);var K=z[F].labels&&z[F].labels[0];K&&gx.evt.attach(K,t,function(){gx.lang.doCallTimeout(A,this,[],0)},this)}}else"search"==z.type&&(t=[t,"search"]),gx.evt.attach(z,t,A,this)}else if((t=this.parentObject.VarControlMap[l.rfrVar])&&(t=this.parentObject.getValidStructFld(t.id))&&t.isuc)for(z in t.ucInstances)t.ucInstances.hasOwnProperty(z)&&(t.ucInstances[z].autoRefreshFn=
A.closure(this))}};this.refreshParms=[];this.addRefreshingParm=function(l){gx.lang.emptyObject(l)||(this.refreshParms[this.refreshParms.length]=l)};this.doRefresh=function(){var l=this.getRefreshParmsUrl();this.callAsyncRefresh(l)};this.filterVarChanged=function(){if(this.parentObject.autoRefresh&&!gx.grid.drawAtServer){var l=this.getRefreshParmsUrl();this.lastRefreshParms!=l&&(this.lastRefreshParms=l,this.callAsyncRefresh())}else this.parentObject.conditionsChanged=this.conditionsChanged()};this.conditionsChanged=
function(){for(var l=this.refreshVars.length,t=0;t<l;t++){var A=this.refreshVars[t];if("undefined"==typeof A.rfrVar){var z=gx.fn.getHidden(this.gxComponentContext+"GXH_"+A.fld);A=A.val();if(void 0!==z&&z!=A)return!0}}return!1};this.getRefreshParmsUrl=function(l){return this.getParmsValues(l,this.refreshParms,!0).join(",")};this.getParmsValues=function(l,t,A){var z=gx.O,F=t.length,K=[];gx.setGxO(this.parentObject);for(var P=function(fa,oa,pa,ia){!0===pa&&(oa=gx.ajax.ControlValuesObject(oa,fa))&&ia.push(encodeURIComponent(gx.json.serializeJson(oa)));
ia.push(fa)},R=0;R<F;R++){var S=t[R];if(S&&("function"==typeof S.c2v&&S.c2v(),gx.fn.call_v2bc(S,gx.O),"undefined"!=typeof S.rfrVar)){var W=gx.fn.vStructForVar(S.rfrVar);if(!W&&(W=gx.fn.getVarControlMapForVar(S.rfrVar))&&!l){var Q=this.parentObject.getValidStructFld(W.id);if(Q&&Q.isuc){var V=Q&&Q.grid?gx.fn.currentGridRowImpl(Q.grid):void 0;(Q.getUCInstance(V)||Q.uc).execC2VFunctions()}}if(W&&("undefined"==typeof S.rfrProp||this.isValueProperty(S.rfrProp)))var T=W.type}if("undefined"!=typeof S.rfrVar){var ca;
Q=ca=V=void 0;if("undefined"!=typeof S.rfrProp){var Z;"undefined"!=typeof S.gxAttId&&(Z=this.grid.getColumnByGxAttId(S.gxAttId));Z||(Z=this.grid.getColumnForVar(S.rfrVar));if(Z){if(ca=S.rfrProp.toLowerCase(),Q=Z.hasOwnProperty(ca)?Z[ca]:Z.gxControl[ca],!W||W.fmt!==gx.html.controls.formats.RAW_HTML&&W.fmt!==gx.html.controls.formats.HTML||(Q=gx.lang.htmlDecode(Q)),this.isValueProperty(ca)&&Z.gxControl.type==gx.html.controls.types.image&&(Q=gx.util.removeBaseUrl(Q)),V=this.parentObject.getValidStruct(Z.gxId))this.isValueProperty(ca)?
T=V.type:"enabled"===ca||"visible"===ca?(T="int",Q=gx.lang.gxBoolean(Q)?1:0):T=""}else Q=""}else"undefined"!=typeof this.parentObject.VarControlMap[S.rfrVar]&&(ca=this.parentObject.VarControlMap[S.rfrVar].id),gx.lang.emptyObject(this.parentObject[S.rfrVar])?"undefined"==typeof Q&&"undefined"!=typeof ca&&(Q=gx.fn.getHidden(this.gxComponentContext+ca)):Q=this.parentObject[S.rfrVar],"object"==typeof Q&&"date"!=T&&"dtime"!=T&&(Q=gx.json.serializeJson(Q));Q="undefined"==typeof Q?"":Q;P(this.getFormattedParm(Q,
T),S.rfrVar,(!S.rfrProp||"Value"===S.rfrProp)&&A,K)}else"string"==typeof S.gxGrid?(Q=gx.O.getGridByBaseName(S.gxGrid),"string"==typeof S.rfrProp&&"Rows"==S.rfrProp&&K.push(Q?Q.grid.pageSize:9999)):gx.lang.emptyObject(S.hc)?(P(this.getFormattedVStructParm(S),S.gxvar,(!S.rfrProp||"Value"===S.rfrProp)&&A,K),gx.fn.setHidden(this.gxComponentContext+"GXH_"+S.fld,S.val())):(Q=gx.fn.getHidden(this.gxComponentContext+"GXH_"+S.fld),K.push(encodeURIComponent(l&&"undefined"!==typeof Q?Q:this.parentObject[S.hc])))}this.parentObject.IsComponent&&
K.push(encodeURIComponent(this.parentObject.CmpContext));gx.setGxO(z);return K};this.initRefreshParms=function(){this.parentObject.autoRefresh&&(this.lastRefreshParms=this.getRefreshParmsUrl(!0))};this.isValueProperty=function(l){return"undefined"!=typeof l&&"value"==l.toLowerCase()};this.getFormattedVStructParm=function(l){if("date"==l.type||"dtime"==l.type){var t=gx.dom.el(this.gxComponentContext+l.fld);t="undefined"!=typeof t.value?t.value:gx.dom.spanValue(t)||t}else t=l.val();return this.getFormattedParm(t,
l.type)};this.getFormattedParm=function(l,t){"date"===t?l=gx.date.urlDate(l,gx.dateFormat):"dtime"===t&&(l=gx.date.urlDateTime(l,gx.dateFormat));return encodeURIComponent(l)};this.callAsyncRefresh=function(l,t){gx.evt.refreshGridCallback||(gx.evt.refreshGridCallback=[]);null!=this.refreshTimer&&(window.clearTimeout(this.refreshTimer),this.refreshTimer=null,gx.evt.setReady(!0,"callAsyncRefresh"));gx.evt.setReady(!1,"callAsyncRefresh");var A=gx.util.executionContext.getContext();this.refreshTimer=window.setTimeout(function(){gx.util.executionContext.changedContext(A)||
(this.autoRefreshing||gx.evt.processing?this.callAsyncRefresh(l):(gx.fx.obs.addObserver("grid.onafterrefresh",gx.evt,gx.evt.notifyRefreshGrid,{single:!0}),"undefined"===typeof l&&(l=this.getRefreshParmsUrl()),gx.ajax.refreshGrid(this,l),gx.evt.setReady(!0,"callAsyncRefresh"),this.refreshTimer=null))}.closure(this),t||400)};this.updatePropsHidden=function(l){var t=this.getDataHiddenName();gx.fn.setHidden(t,l)};this.updatePagingVarsAfterRefresh=function(l){if(this.usePaging){var t=this.grid.gxGridName.toUpperCase()+
"_nEOF",A=this.grid.gxGridName.toUpperCase()+"_nFirstRecordOnPage";this.setPagingVars(l[t],l[A])}};this.getSelection=function(){if(this.allowSelection)for(var l=this.grid.rows.length,t=0;t<l;t++)if(this.grid.rows[t].selected)return t;return-1};this.setNextRowSelected=function(l){var t=Math.min(this.getSelection()+1,this.grid.rows.length);this.setSelection(t,l);this.grid.keepGridItemVisible(t)};this.setPreviousRowSelected=function(l){var t=Math.max(this.getSelection()-1,0);this.setSelection(t,l);this.grid.keepGridItemVisible(t)};
this.setProperty=function(l){if(l.Selectedindex)if(l=Number(l.Selectedindex),-1==l)this.setSelection(l);else return this.setSelectionRowCtrl(this.grid.getRowByPos(l));return!1};this.setSelection=function(l,t){if(this.allowSelection){if(-1==l)return this.grid.setRowSelected(void 0,"",void 0,void 0,t),!0;if(0<=l)return l=this.getRowCtrlByIdx(l),this.setSelectionRowCtrl(l,t)}return!1};this.setSelectionRowCtrl=function(l,t){return this.allowSelection&&l?(this.grid.setRowSelected(l,l.getAttribute("data-gxrow"),
void 0,void 0,t),!0):!1};this.getRowCtrlByIdx=function(l){return gx.dom.el(this.grid.gxCmpContext+this.grid.gxGridObject+"Row_"+gx.grid.rowId(l+1))};this.blankGridRows=function(){this.InfiniteScrolling&&(this.additiveResponse=0!=this.grid.firstRecordOnPage);this.InfiniteScrolling&&this.additiveResponse||(this.lastRowId=0,this.grid.rows=[],delete this.grid.rowsValues)};this.setRowDeleted=function(l){l="string"==typeof l?this.grid.getRowByGxId(l):void 0==l.gxId?this.getRowFromHtmlCtrl(l):l;l.setDeleted(!l.gxDeleted());
this.setRowModified(l.gxId);gx.fn.removeGridRow(l.gxId,this.gridId.toString());var t=new gx.text.stringBuffer;parseInt(l.gxId);this.grid.renderRow(l,!1,l.id,0,this.grid.lastRenderedRow,this.gxIsFreestyle&&1<this.gxGridCols,t,void 0,this.grid.gxBuffer.toString(),this.grid.columns.length,void 0,void 0,void 0,void 0,this.grid.fromCollection,this.grid.columns);l=t.toString();t=(t=l.match(/id=.(\w*)./))&&gx.dom.el(t[1]);t.outerHTML=l;gx.plugdesign.applyTemplateObject(t);gx.dom.indexElements()};this.setFocusFirstControl=
function(l){for(var t=0;t<l.Count;t++){var A=this.grid.getRowByGxId(gx.grid.rowId(this.lastRowId)+this.grid.gxParentRowId);if(A&&(A=gx.dom.el(this.grid.gxCmpContext+this.grid.columns[t].htmlName+"_"+A.gxId),void 0!=A&&gx.fn.isAccepted(A))){gx.grid.lastFocusCtrl=this.grid.columns[t].gxId;gx.fn.setFocus(A);break}}};this.instanciateRow=function(l){var t=gx.O,A,z;gx.setGxO(this.parentObject);gx.csv.instanciatedRowGrid=this;try{var F=l;"string"==typeof F&&(F=this.grid.getRowByGxId(l));if(null!=F){gx.fn.setCurrentGridRow(this.gridId,
F.gxId);var K=F.values.length;for(z=0;z<K;z++){var P=this.grid.columns[z];if(""!=P.gxId){var R=this.parentObject.getValidStruct(P.gxId);R&&(this.useUserControlModelValues()?R.v2v&&(R.v2v(this.grid.properties[F.id][P.index].value),gx.fn.setHidden(this.grid.properties[F.id][P.index].id,this.grid.properties[F.id][P.index].value)):"function"==typeof R.c2v&&R.c2v())}}}else for(gx.fn.setCurrentGridRow(this.gridId,l),K=this.grid.columns.length,z=0;z<K;z++)P=this.grid.columns[z],""!=P.gxId&&(R=this.parentObject.getValidStruct(P.gxId))&&
"function"==typeof R.c2v&&R.c2v();var S=this.parentObject.UserControls;for(A in S)if(S.hasOwnProperty(A)){var W=S[A];W.GridId===this.gridId&&W.GridRow===F.gxId&&(this.parentObject[W.DesignContainerName]=W)}}catch(Q){gx.dbg.logEx(Q,"gxgrid.js","instanciateRow")}gx.setGxO(t);return!0};this.setRenderProp=function(l,t,A,z){this.grid.setProp(l,t,A,z)};this.setRenderDynProp=function(l,t,A,z){this.grid.setDynProp(l,t,A,z)};this.addRenderEventHandler=function(l,t){this.grid.addEventHandler(l,t)};this.addRenderV2CFunction=
function(l){this.grid.addV2CFunction(l)};this.addRenderC2VFunction=function(l){this.grid.addC2VFunction(l)};this.cleanup=function(){gx.grid.clearActiveGrid(this);this.parentGrid=this.parentObject=null;this.grid.ownerGrid=null;this.grid.parentGxObject=null;this.grid.container=null;this.grid.ascLabel=null;this.grid.descLabel=null;this.grid.columns=null;this.grid.rows=null;this.grid=this.grid.selectedRows=null;this.unInstallScrollListener()};this.loadGrid=function(l){gx.dbg.logPerf("loadGrid_"+this.gridName);
l=l||{};var t=l.rowProps,A=l.isPostback,z=l.addRows;l=l.isNestedLoad;this.isNestedLoad=this.isNestedLoad||l;l=gx.O;gx.setGxO(this.parentObject);this.isLoading=!0;var F=this.parentObject.isTransaction();F&&null==this.contextMenu&&(this.contextMenu=new gx.grid.contextMenu(this));if(void 0!=t){var K=t.GridName?t[t.GridName.toUpperCase()+"_nEOF"]:void 0,P=t.GridName?t[t.GridName.toUpperCase()+"_nFirstRecordOnPage"]:void 0,R=this.getContainerControl();F=this.InfiniteScrolling&&0===P&&K&&this.boundedCollType?
0:-1;if(null!=R){this.autoRefreshing?this.updatePagingVarsAfterRefresh(t):this.updatePagingVars(K,P);A&&!z&&(t.values=this.getValuesFromHidden(),this.isFreestyle&&gx.lang.emptyObject(this.parentRow)&&this.backupComponents());this.deleteGridData();this.grid.setContainerDelayed(R);this.additiveResponse||this.clearHiddens();this.setRowsProperty();A=this.getSelection();this.autoRefreshing?this.updatePagingVarsAfterRefresh(t):this.updatePagingVars(K,P);z||-1!==F||this.blankGridRows();this.setHtmlTags(t);
this.setGridStyles(t);this.setDeleteMethod(t.DeleteMethod);this.setSelectionAndHover(t.Allowselection,t.Selectioncolor,t.Allowhover,t.Hovercolor,t.Selectedindex);this.setCollapsing(t.Allowcollapsing,t.Collapsed);this.setSflColumns(t.SflColumns);this.setColumnsProperties(t.Columns);z||this.addRows(t,F);this.updateOldComponents();this.initRefreshParms();var S=this.getGridInnerTableId();S=void 0!==f("#"+S).attr("data-gx-grid-nodata");S=this.refreshGrid({addRows:z&&!S,atRow:F,fromAutoRefresh:this.autoRefreshing});
this.setProperty({Selectedindex:A+1})}}else this.clearHiddens(),this.setRowsProperty(),this.grid.pageSize=F||this.isFreestyle?9999:this.gridRows,R=this.getContainerControl(),null!=R?(this.grid.setContainerDelayed(R),z=this.getRowsFromHidden(),null!=z?(z.values=this.getValuesFromHidden(),this.blankGridRows(),this.setHtmlTags(z),this.setGridStyles(z),this.setDeleteMethod(z.DeleteMethod),this.setSelectionAndHover(z.Allowselection,z.Selectioncolor,z.Allowhover,z.Hovercolor,z.Selectedindex),this.setCollapsing(z.Allowcollapsing,
z.Collapsed),this.setSflColumns(z.SflColumns),this.setColumnsProperties(z.Columns),this.updatePagingVars(),this.addRows(z),this.initRefreshParms(),this.addingRows=!0,S=this.refreshGrid(),this.addingRows=!1):(this.blankGridRows(),this.updatePagingVars(),this.initRefreshParms(),S=this.refreshGrid())):S=this.loadWrappedGridChilds();this.isLoading=!1;gx.setGxO(l);gx.dbg.logPerf("loadGrid_"+this.gridName,"Grid '"+this.gridName+"' loaded");return S};this.loadWrappedGridChilds=function(){var l=f.Deferred();
try{var t=gx.fn.getHidden(this.grid.gxCmpContext+"nRC_GXsfl_"+this.gridId);if("undefined"!=typeof t){t=parseInt(t);for(var A=0;A<t;A++)for(var z=this.grid.columns.length,F=0;F<z;F++){var K=this.grid.columns[F];K.gxControl.type==gx.html.controls.types.userControl&&this.addUsercontrolToDraw({r:gx.grid.rowId(A+1),c:K})}this.setupGridUsercontrols(this.GridUserControls)}}catch(P){gx.dbg.logEx(P,"gxgrid.js","loadWrappedGridChilds")}l.resolve();return l};this.getRowsFromHidden=function(){var l=this.getDataHiddenName(),
t=gx.fn.getHidden(l);gx.json.setNonSerializable(l);return"string"==typeof t?gx.json.evalJSON(t):"object"==typeof t?t:null};this.deleteGridData=function(){var l=this.getDataHiddenName();gx.json.setNonSerializable(l)};this.getValuesFromHidden=function(){var l=this.getValuesHiddenName(),t=gx.fn.getHidden(l);gx.lang.emptyObject(t)&&(t=gx.fn.getControlValue(l));gx.json.setNonSerializable(l);l=null;null!=t&&""!=t&&(l=gx.json.evalJSON(t));return l};this.getContainerControlId=function(){return void 0!=this.gxContainerDivName?
this.gxContainerDivName:this.grid.gxCmpContext+this.containerName+"Div"};this.getContainerControl=function(){if(!this.gxContainerCtrl){var l=gx.dom.byId(this.getContainerControlId());l&&(this.gxContainerCtrl=l,l.setAttribute("data-gxgridid",this.gridId.toString()),gx.dom.addClass(l,"gx-grid"),this.isResponsive&&gx.dom.addClass(l,"gx-responsive-grid"),gx.dom.addClass(l,this.isFreestyle?"gx-freestyle-grid":"gx-standard-grid"),l.gxGridName=this.grid.gxGridName)}return this.gxContainerCtrl};this.getHiddenSuffix=
function(){return""==this.grid.gxParentRowId?"":"_"+this.grid.gxParentRowId};this.getDataHiddenName=function(){return void 0!=this.gxContainerDataName?this.gxContainerDataName:this.grid.gxCmpContext+this.containerName+"Data"+this.getHiddenSuffix()};this.getValuesHiddenName=function(){return void 0!=this.gxContainerValuesName?this.gxContainerValuesName:this.grid.gxCmpContext+this.containerName+"DataV"+this.getHiddenSuffix()};this.setColumnsProperties=function(l){try{if(!gx.lang.emptyObject(l))for(var t=
l.length,A=0;A<t;A++){var z=this.grid.columns[A];for(K in l[A]){var F=l[A][K];var K=this.fixColumnPropName(K);if(this.isUsercontrol){var P=gx.uc.getClientProperty(K,F);z[P.name]=P.value}z[K.toLowerCase()]=F}this.checkPromptColumn(z)}}catch(R){gx.dbg.logEx(R,"gxgrid.js","setColumnsProperties")}};this.checkPromptColumn=function(l){try{if(this.isPromptColumn(l)){var t=gx.fn.getAttachedCtrl(l.htmlName);if(t&&t.info&&t.info.controls){for(var A=!1,z=!1,F=t.info.controls.length,K=0;K<F;K++){var P=this.grid.getColumnByGxId(t.info.controls[K]),
R=gx.lang.gxBoolean(P.enabled),S=gx.lang.gxBoolean(P.visible);R&&(z=!0);S&&(A=!0)}z||(l.enabled="0");A||(l.visible="0")}}}catch(W){gx.dbg.logEx(W,"gxgrid.js","checkPromptColumn")}};this.fixColumnPropName=function(l){return"Horizontalalignment"==l?"align":l};this.setDeleteMethod=function(l){if(this.parentObject.isTransaction()){var t="DSP"==this.parentObject.Gx_mode;!t&&l&&"none"==l&&(t=!0);this.deleteMethod=t?gx.grid.deleteMethods.none:gx.grid.deleteMethod}};this.setSelectionAndHover=function(l,t,
A,z,F){try{"undefined"!=typeof l&&(this.allowSelection=gx.lang.gxBoolean(l)),"undefined"!=typeof t&&(this.selectionColor=null),"undefined"!=typeof z&&(this.hoverColor=null),this.allowSelection&&"undefined"!=typeof t&&("undefined"!=typeof A&&(this.allowHovering=gx.lang.gxBoolean(A)),t=eval(t),this.selectionColor="undefined"!=typeof t[0]?gx.color.fromRGB(t[0],t[1],t[2]):gx.color.html(t),this.allowHovering&&"undefined"!=typeof z&&(z=eval(z),this.hoverColor="undefined"!=typeof z[0]?gx.color.fromRGB(z[0],
z[1],z[2]):gx.color.html(z))),this.grid.gxAllowSelection=this.allowSelection,this.grid.gxSelectionColor=this.selectionColor,this.grid.gxAllowHovering=this.allowHovering,this.grid.gxHoverColor=this.hoverColor,this.grid.selectedRows=[],F=Number(F||0),0<F&&(this.grid.Selectedindex=F-1)}catch(K){gx.dbg.logEx(K,"gxgrid.js","setSelectionAndHover")}};this.setCollapsing=function(l,t){try{void 0!==l&&(this.allowCollapsing=gx.lang.gxBoolean(l),this.grid.gxAllowCollapsing=this.allowCollapsing),void 0!==t&&(this.collapsed=
gx.lang.gxBoolean(t),this.grid.gxCollapsed=this.collapsed)}catch(A){gx.dbg.logEx(A,"gxgrid.js","setCollapsing")}};this.setSflColumns=function(l){try{gx.lang.emptyObject(l)&&0!==l||(this.gridCols=gx.grid.validGridColsValue(parseInt(l)),this.grid.gxGridCols=this.gridCols,1<this.gridCols&&0<this.gridRows&&(this.grid.pageSize=(this.gridRows?this.gridRows:1)*this.gridCols))}catch(t){gx.dbg.logEx(t,"gxgrid.js","setSflColumns")}};this.isPromptColumn=function(l){return l.gxAttId.indexOf&&-1!=l.gxAttId.indexOf("prompt_")?
!0:!1};this.setRowsProperty=function(){var l=gx.fn.getHidden(this.getHiddenName("Rows"));if(null!=l){try{this.gridRows=parseInt(l,10)}catch(t){gx.dbg.logEx(t,"gxgrid.js","setRowsProperty")}this.grid.pageSize=this.gridRows*(1<this.gridCols?this.gridCols:1)}};this.crearInstalledSuggests=function(){for(var l=this.grid.columns.length,t=0;t<l;t++){var A=this.parentObject.getValidStruct(this.grid.columns[t].gxId);A&&A.gxsgprm&&A.gxsgprm.installed&&(A.gxsgprm.installed={})}};this.refreshCollection=function(l){try{this.blankGridRows();
this.updatePagingVars();this.initRefreshParms();for(var t=l.length,A=0;A<t;A++){for(var z={Props:[]},F=l[A],K=this.grid.columns.length,P=0;P<K;P++){var R=this.grid.columns[P];z.Props[R.index]=[F[R.gxAttName]]}this.addRow(z)}this.refreshGrid({loadChildGrids:!1,fromAutoRefresh:!1,fromCollection:!0})}catch(S){gx.dbg.logEx(S,"gxgrid.js","refreshCollection")}};this.refreshGrid=function(l){var t=f.Deferred(),A=[t];l=l||{};var z=l.loadChildGrids,F=l.fromAutoRefresh,K=l.fromCollection,P=l.isNestedLoad,R=
l.immediateApplyInfiniteScroll;this.isNestedLoad=this.isNestedLoad||P;this.DatePickersControls=[];this.GridUserControls=[];this.GridComponents=[];this.GridControls=[];this.ColumnPropertiesAfterRender=[];this.additiveResponse||(l.addRows||this.clearDefaultEventHandlers(),this.clearHiddens());this.crearInstalledSuggests();this.setRowsProperty();void 0==this.parentRow||gx.lang.emptyObj(this.parentRow.Grids)||(P=this.parentRow.Grids[this.realGridName],null!=P&&(this.setHtmlTags(P),this.setGridStyles(P),
this.setColumnsProperties(P.Columns),this.addingRows||this.parentRow.IsNew&&this.addRows(P)));var S=!1;P=function(){t.resolve()};var W=function(){gx.fn.setPromptlisteners(this.getContainerControl());this.setupGridControls(this.GridControls);this.setupCellAttributes(this.IsValidState);this.setupFixedColumnProperties();this.setupGridUsercontrols(this.GridUserControls);this.installFixedGridHeader();var V=this,T=this.getGridInnerTableId(),ca=this.grid.scroll_last_row_selector(this.gridRows),Z=this.grid.scroll_nth_row_selector(),
fa=this.grid.scroll_first_row_selector(this.gridRows);this.grid.firstItemSelector="#"+T+fa;this.grid.lastItemSelector="#"+T+ca;this.grid.nthItemSelector=function(pa,ia){return"#"+T+Z(pa,ia)};var oa=function(pa){pa=f.map(pa,function(ia,qa){return ia.onLoadDeferred});f.when.apply(f,pa).done(function(){if(V.InfiniteScrolling)if(R)V.handleInfiniteScrolling();else{var ia=V.getContainerControl();gx.fn.isVisible(ia)?gx.spa.isNavigating()?gx.spa.addObserver("onnavigatecomplete",V,V.handleInfiniteScrolling,
{single:!0}):gx.ol(V.handleInfiniteScrolling,V):gx.dom.getIntersectionObserver(function(qa){var ra=new qa(function(){gx.fn.isVisible(ia)&&(ra.disconnect(),V.handleInfiniteScrolling())},{root:document.body});ra.observe(ia)})}t.resolve()})};this.setupGridComponents(this.GridComponents).then(function(){var pa=f.map(V.GridComponents,function(ia,qa){return gx.pO.getWebComponent(ia.p)});V.isFreestyle&&(A=A.concat(V.loadRowsGrids(S,l)));gx.fx.obs.notify("grid.onafterrender",[V.grid,V.isNestedLoad]);V.isNestedLoad?
(V.isNestedLoad=!1,oa(pa)):V.additiveResponse?gx.pendingCmps?gx.fx.obs.addObserver("webcom.all_rendered",V,function(){V.infinite_scrolling_after_scroll()}):V.infinite_scrolling_after_scroll():V.applyTemplateObject().then(function(){oa(pa)});V.additiveResponse=!1});this.additiveResponse&&gx.dom.indexElements();this.triggerDatePickersSetup(this.DatePickersControls);this.installImageControls();this.updateRcdCount();this.setDefaultEventHandlers();this.setSelection(this.grid.Selectedindex)};W=W.closure(this);
this.grid.doSort();l.ScrollingElement=this.ScrollingElement;0==z?this.grid.render(S,!1,K,W,P,l):(S=!l.onSetSort,this.grid.render(S,F,K,W,P,l));var Q=f.Deferred();f.when.apply(f,A).done(function(){Q.resolve()});return Q.promise()};this.getGridInnerTableId=function(){return this.gxComponentContext+this.containerName+"Tbl"};this.disposeTemplateObject=function(){gx.fx.obs.deleteObserverByKey(this.getContainerControl().id)};this.applyTemplateObject=function(l){l=l||{};var t=this.isFreestyle&&!this.parentObject.IsComponent?
"."+gx.GxObject.WEBCOMPONENT_CLASS_NAME+" *":"";gx.$.extend(l,{selector:"#"+this.getContainerControl().id,excluded:t,observerKey:this.getContainerControl().id});return gx.plugdesign.applyTemplateObject(l)};var na="gx-wc-bkp_"+e+"_"+b;this.getComponentsBackupContainer=function(){var l=gx.dom.byId(na);l||(l=document.createElement("div"),l.id=na,l.style.display="none",document.body.appendChild(l));return l};this.destroyComponentsBackup=function(){var l=gx.dom.byId(na);l&&l.parentNode&&gx.dom.removeControlSafe(l)};
this.backupComponents=function(){try{if(!this.additiveResponse)for(var l=this.grid.rows.length,t=0;t<l;t++){for(var A=this.grid.rows[t],z=this.grid.columns.length,F=0;F<z;F++)if(this.grid.columns[F].gxControl.type==gx.html.controls.types.webComponent){var K=this.parentObject.getComponentPrefix(A.gxProps[F][0]),P=gx.dom.byId(this.gxComponentContext+"gxHTMLWrp"+K+A.gxId);P&&(P.parentNode.removeChild(P),this.getComponentsBackupContainer().appendChild(P))}var R=A.gxGrids.length;for(F=0;F<R;F++){var S=
A.gxGrids[F];S&&S.isFreestyle&&S.backupComponents()}}}catch(W){gx.dbg.logEx(W,"gxgrid.js","backupComponents")}};this.getEntireGridColumn=function(l){var t=this.getContainerControl();if(!t)return[];var A=t.firstChild;t=[];if(A.querySelectorAll)t=gx.fn.toArray(A.querySelectorAll("td[data-colindex='"+l+"'], th[data-colindex='"+l+"']"));else{var z=gx.dom.byTag("TD",A);A=gx.dom.byTag("TH",A);for(var F=0,K=z.length;F<K;F++)z[F].getAttribute("data-colindex")==l&&t.push(z[F]);z=0;for(F=A.length;z<F;z++)A[z].getAttribute("data-colindex")==
l&&t.push(A[z])}return t};this.applyPropEntireColumn=function(l,t,A){l=this.getEntireGridColumn(l);for(var z=0;z<l.length;z++)gx.fn.setCtrlPropertyImpl(l[z],t,A)};this.setupFixedColumnProperties=function(){for(var l=0;l<this.ColumnPropertiesAfterRender.length;l++){var t=this.ColumnPropertiesAfterRender[l];this.applyPropEntireColumn(t.colIndex,t.ptyName,t.ptyValue)}};this.addColPropertyAfterRender=function(l,t,A){A={colIndex:l,ptyName:t,ptyValue:A};l="gxpty"+t+l;(t=this.ColumnPropertiesAfterRender[l])?
this.ColumnPropertiesAfterRender[t]=A:(t=this.ColumnPropertiesAfterRender.push(A)-1,this.ColumnPropertiesAfterRender[l]=t)};this.setupCellAttributes=function(l){for(var t in l){var A=l[t],z=gx.dom.byId(t);if(z)for(var F in A)z.setAttribute(F,A[F])}};this.setupGridControls=function(l){for(var t=0,A=l.length;t<A;t++){var z=l[t],F=gx.dom.byId(z.hookId),K=F.parentNode;K&&(K.insertBefore(z.el,F),gx.dom.removeControlSafe(F))}};this.setupGridComponents=function(){var l=function(A,z){var F,K=A.length;for(F=
0;F<K;F++){var P=A[F];if(!1!==P.create){var R=gx.createComponent(P.n,P.p);if(null!=R){gx.addComponent(R);R.readServerVars();if(P.load)R.onload(void 0,!0);F==K-1&&z.resolve()}}}},t=function(A){var z,F=A.length;for(z=0;z<F;z++)gx.dom.removeClass(A[z],gx.GxObject.WEBCOMPONENT_LOADING_CLASS_NAME)};return function(A){var z=f.Deferred(),F,K=A.length,P=[];0==K&&z.resolve();var R=[];for(F=0;F<K;F++){var S=A[F];if(!1===S.create){var W=gx.dom.byId(S.existingEl);if(W){var Q=W.parentNode;S=gx.dom.byId(S.el);
gx.dom.removeControlSafe(W);Q.appendChild(S);R.push(S)}F==K-1&&z.resolve()}else P.push(S.c)}gx.lang.requestAnimationFrame(t.closure(this,[R]));0<P.length&&gx.html.processCode(P.join(""),!1,l.closure(this,[A,z]));this.destroyComponentsBackup();return z.promise()}}();this.setupGridUsercontrols=function(l){var t=l.length;gx.uc.StartRender();for(var A=0;A<t;A++){var z=l[A].r,F=l[A].c;z=gx.uc.getNew(this.parentObject,F.gxUCId,F.gxUCLastId,F.gxUCClassName,F.gxUCContainerName+"_"+z,F.gxUCControlName,F.gxUCFieldName,
this.gridLvl,this.gridId,z);z.DesignContainerName=F.gxUCContainerName;z.setC2ShowFunction(F.gxShowFunc);for(var K=F.gxC2VFuncs.length,P=0;P<K;P++)z.addC2VFunction(F.gxC2VFuncs[P]);K=F.gxV2CFuncs.length;for(P=0;P<K;P++)z.addV2CFunction(F.gxV2CFuncs[P],F.gxUCFieldName);z.setGridProperties();z.setGridEventHandlers();this.parentObject.setUserControl(z);z.execV2CFunctions(!0);z.execShowFunction()}gx.uc.EndRender()};this.triggerDatePickersSetup=function(l){for(var t=l.length,A=0;A<t;A++){for(var z=l[A].CtrlId,
F=l[A].Grid,K=l[A].Row,P=gx.O,R=null,S=gx.fn.controlIds(),W=S.length,Q=0;Q<W&&(R=gx.fn.validStruct(S[Q]),R.grid!=F||P.CmpContext+R.fld+"_"+K!=z);Q++);null!=R&&void 0!=R.dp&&gx.fn.installDatePicker(z,R,P,R.dp.f,R.dp.st,R.dp.wn,R.dp.mf,gx.fn.datePickerFormat(R.dp.pic,R.dp.dec,R.len),R.len,R.dp.dec)}};this.installImageControls=function(){var l=this.gxContainerCtrl,t=this.grid.newAdditiveRows?this.grid.newAdditiveRows.get(0):null;this.additiveResponse&&t&&t.childNodes[0]&&(l=t);l=gx.dom.byClass(gx.html.multimediaUpload.gxCssClass,
"",l);if(l[0]){t=0;for(var A=l.length;t<A;t++)gx.html.multimediaUpload.createControl(l[t])}};this.addComponentToDraw=function(l){this.GridComponents.push(l)};this.addUsercontrolToDraw=function(l){this.GridUserControls.push(l)};this.addDatepickerToSetup=function(l){this.DatePickersControls.push(l)};this.addControlToReuse=function(l){l.el.parentNode&&gx.dom.removeControlSafe(l.el);this.GridControls.push(l)};this.loadRowsGrids=function(l,t){t=t||{};var A=[],z=this.grid.rows.length;for(t=this.additiveResponse||
t.addRows?this.firstAdditiveRow:0;t<z;t++)A=A.concat(this.loadRowGrids(this.grid.rows[t],l));return A};this.loadRowGrids=function(l,t){for(var A=l.gxGrids.length,z=[],F=0;F<A;F++){var K=l.gxGrids[F];K.grid.setContainerDelayed(gx.dom.byId(K.gxContainerDivName));if(t){if(void 0!=K.parentRow&&!gx.lang.emptyObj(K.parentRow.Grids)){var P=K.getDataHiddenName();gx.fn.setHidden(P,gx.json.serializeJson(K.parentRow.Grids[K.realGridName]))}z.push(K.loadGrid({isNestedLoad:!0}))}else z.push(K.refreshGrid({isNestedLoad:!0}));
l.IsNew=!1}return z};this.updateRcdCount=function(){(this.hasForEachLine||this.parentObject.isTransaction())&&gx.fn.setHidden(this.grid.gxCmpContext+"nRC_GXsfl_"+this.gridId+(""==this.grid.gxParentRowId?"":"_"+this.grid.gxParentRowId),this.lastRowId.toString());var l=gx.fn.getHidden(this.grid.gxCmpContext+this.gridName.toUpperCase()+"_ROW");if(0==this.lastRowId||parseInt(l,10)>this.lastRowId)this.grid.instanciateSelectionVars("0000"),gx.fn.setCurrentGridRow(this.gridId,"")};this.updateControlValue=
function(l,t,A){try{var z=this,F=A=A||gx.fn.currentGridRow(l.grid).toString(),K=A.length;if(4<K){var P=A.substring(4,K);z=gx.fn.gridObj(this.gxComponentContext,this.gridName+"_"+P,this.isMasterPageGrid);if(!z)return;F=A.substring(0,4)}var R=parseInt(F,10)-1;1==t&&z.setRowModified(A);var S=z.getColumnIndexByName(l.fld),W=gx.dom.el(this.gxComponentContext+l.fld+"_"+A);z.updateRowValue(S,R,W);return z}catch(Q){gx.dbg.logEx(Q,"gxgrid.js","updateControlValue")}return null};this.persistControlValue=function(l,
t,A){var z=l.lastIndexOf("_");if(-1!=z){var F=l.substring(0,z);z=l.substring(z+1);if(z=this.grid.getRowByGxId(z))if(F=this.grid.getColumnByHtmlName(F)){var K=this.parentObject[A.gxvar];"decimal"==A.type&&gx.lang.instanceOf(K,Number)&&(K=gx.num.toFixed(K,A.dec));z.values[F.index]=K;z.gxProps[F.index]||(z.gxProps[F.index]={});(l=gx.dom.el(l))&&"SELECT"==l.tagName&&(z.gxProps[F.index].Values=gx.dom.comboBoxToObj(l));z.gxProps[F.index].Value=K;z.gxProps[F.index].FormattedValue=t}}};this.getColumnIndexByName=
function(l){for(var t=this.grid.columns,A=t.length,z=0;z<A;z++)if(t[z].htmlName==l)return z;return-1};this.setRowModified=function(l){gx.fn.setHidden(this.grid.gxCmpContext+"nIsMod_"+this.gridLvl.toString()+"_"+l,1);null!=this.parentGrid&&this.parentGrid.setRowModified(this.grid.gxParentRowId);this.grid.showDeleteImage(l)};this.validateRow=function(l){if(l)try{var t=l.getAttribute("data-gxgridid");gx.fn.setCurrentGridRow(t,l.gxrow);var A=gx.fn.lastGridControl(t);gx.csv.validControls(gx.csv.lastId,
A+1,!0,gx.O)}catch(z){gx.dbg.logEx(z,"gxgrid.js","validateRow")}};this.updateRowValue=function(l,t,A){t=this.grid.getRowById(t);var z=this.grid.columns[l];"checkbox"==A.type&&(A.value=A.checked?z.gxChecked:z.gxUnChecked);A=this.parentObject.getValidStruct(this.grid.columns[l].gxId).val(t.gxId);t.values[l]=A;gx.lang.emptyObject(t.gxProps[l])||(t.gxProps[l].Value=A,t.gxProps[l].FormattedValue=gx.fn.getControlValue(this.grid.columns[l].htmlName+"_"+t.gxId,"screen"));this.parentObject.isTransaction()&&
(l=this.columnIndexInKey(z.gxAttId),-1!=l&&(t.gxKeyValues[l]=A));z.gxControl.type==gx.html.controls.types.blob&&gx.fn.setControlValue(this.grid.gxCmpContext+z.htmlName+"_"+t.gxId+"_gxBlob",A)};this.expandCollapse=function(l,t){gx.evt.cancel(t,!0);t=gx.dom.byId(this.getGridInnerTableId());null!=t&&(this.collapsed?(f(t).removeAttr("data-gx-sr-only"),l.className="collapse-icon",l.src=gx.ajax.getImageUrl(gx,"collapseImage")):(f(t).attr("data-gx-sr-only",""),l.className="expand-icon",l.src=gx.ajax.getImageUrl(gx,
"expandImage")),this.collapsed=!this.collapsed,this.grid.gxCollapsed=this.collapsed,this.parentGrid?(l=this.gridName.lastIndexOf("_"),l=this.gridName.substring(l),l=this.gxComponentContext+this.realGridName.toUpperCase()+"_Collapsed"+l):l=this.gxComponentContext+this.realGridName.toUpperCase()+"_Collapsed",gx.fn.setHidden(l,this.collapsed?"1":"0"))};this.getRowFromHtmlCtrl=function(l){var t=l.gxrow;gx.lang.emptyObject(t)&&(t=l.id.lastIndexOf("_"),t=l.id.substring(t+1));return this.grid.getRowByGxId(t)};
this.showContextMenu=function(l,t){this.contextMenu.show(l,t)}},contextMenu:function(n){this.gxgrid=n;this.controlName=this.gxgrid.containerName+"ContextMenu";this.eventSource=this.contextEvent=this.rowClicked=null;var g=new gx.text.stringBuffer;this.show=function(m,a){this.gxgrid.validateRow(m);this.contextEvent=a;this.eventSource=gx.evt.source(this.contextEvent);gx.evt.cancel(a,!0);this.rowClicked=m;this.startMenu();g.append('<div class="').append("menuItem").append('" id="').append("deleteRow").append('" align="center">').append(gx.getMessage("GXM_deleterow")).append("</div>");
this.endMenu()};this.startMenu=function(){g.clear();var m=this.getMenuCoords();g.append('<div onclick="').append(this.gxgrid.grid.gridObject()+".contextMenu.contextMenuClicked(event);").append('" onmouseover="');g.append(this.gxgrid.grid.gridObject()+".contextMenu.switchContextMenu();").append('" onmouseout="').append(this.gxgrid.grid.gridObject()+".contextMenu.switchContextMenu();").append('" oncontextmenu="gx.evt.cancel(event, true);');g.append('" style="').append("position:absolute;width:100;background-Color:menu; border: outset 1px gray;");
g.append("top:"+m.top+"; left:"+m.left+";").append('">')};this.endMenu=function(){g.append("</div>");var m=gx.dom.byId(this.controlName);if(null==m){m=document.createElement("SPAN");var a=document.createElement("SPAN"),b=document.createElement("SPAN"),c=document.createElement("IFRAME");m.id=this.controlName;a.id=this.controlName+"Shadow";b.id=this.controlName+"Shadow2";c.id=this.controlName+"GXiFrameIEHack";c.src="about:blank";c.style.zIndex=1;c.style.visibility="hidden";c.style.position="absolute";
c.frameBorder="0";document.body.appendChild(m);document.body.appendChild(a);document.body.appendChild(b);document.body.appendChild(c)}gx.dom.shouldPurge()&&gx.dom.purge(m,!0);m.innerHTML=g.toString()};this.hide=function(){this.contextEvent=this.rowClicked=null;gx.dom.removeControl(gx.dom.byId(this.controlName))};this.getMenuCoords=function(){var m=0,a=0,b=this.contextEvent;if(b.pageX||b.pageY)m=b.pageX,a=b.pageY;else if(b.clientX||b.clientY)m=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
a=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;return{left:m,top:a}};this.contextMenuClicked=function(m){m=gx.evt.source(m);this.handleContextMenuAction(m.id);this.hide()};this.handleContextMenuAction=function(m){switch(m){case "deleteRow":this.gxgrid.setRowDeleted(this.rowClicked);break;case "undeleteRow":this.gxgrid.setRowDeleted(this.rowClicked)}};this.switchContextMenu=function(){}},getPaddedRowId:function(n){n=""+n;return"0000".substring(0,4-n.length)+n},rowId:function(n){for(n=
n.toString();4>n.length;)n="0"+n;return n},_init:function(){this.deleteMethod||(this.deleteMethod=this.deleteMethods.images);this.baseDeleteImage||(this.baseDeleteImage=this.deleteImage);this.deleteImage=this.deleteImage&&this.deleteMethod==this.deleteMethods.images?gx.ajax.getImageUrl(this,"baseDeleteImage"):gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"delete_16x.jpg",!0);this.baseUndeleteImage||(this.baseUndeleteImage=this.undeleteImage);this.undeleteImage=this.undeleteImage&&this.deleteMethod==
this.deleteMethods.images?gx.ajax.getImageUrl(this,"baseUndeleteImage"):this.deleteImage;this.deletePosition||(this.deletePosition=this.deletePositions.left);this.deletePositionFree||(this.deletePositionFree=this.deletePositions.topL);this.deleteTooltip=this.deleteTooltip?gx.getMessage(this.deleteTooltip):"";this.deleteTitle=this.deleteTitle?gx.getMessage(this.deleteTitle):""},_deinit:function(){this.lastFocusCtrl=null}}}(gx.$);
gx.grid.impl=function(f){return function(n){var g=/style="([^"]*)"/ig;this.basePath=gx.basePath;this.imgsDir=gx.staticDirectory;this.columns=[];this.columnsHtmlName=[];this.columnsGxId=[];this.columnsGxAttId=[];this.rows=[];this.rowsById=[];this.rowsByGxId=[];this.fixedValues=[];this.align=this.width="";this.border="0";this.padding="1";this.spacing="0";this.sortColumn=-1;this.usePaging=this.ascSort=!0;this.eof=1;this.firstRecordOnPage=0;this.pageSize=9999;this.currentPage=1;this.gxLvl=0;this.gxGridName=
"";this.gxGridObject=null;this.gxBuffer=new gx.text.stringBuffer;this.gxParentRowId="";this.gxHoveredRowId=null;this.evenRowCellClass=this.evenRowClass=this.oddRowCellClass=this.oddRowClass=this.columnHeaderTextClass=this.columnAutoHeaderClass=this.highlightedNavigationLinkClass=this.navigationLinkClass=this.navigationClass=this.editControlClass=this.footerClass=this.headerClass=this.tableClass="";this.rowsValues=[];this.pagingButtonFirstClass="PagingButtonsFirst";this.pagingButtonPreviousClass="PagingButtonsPrevious";
this.pagingButtonNextClass="PagingButtonsNext";this.pagingButtonLastClass="PagingButtonsLast";this.pagingButtonDisabled="gx-grid-paging-disabled";this.pagingBarClass="gx-grid-paging-bar";this.selectedRowClass="gx-row-selected";this.rendered=!1;"undefined"!=typeof Image?(this.ascLabel=new Image,this.descLabel=new Image):this.descLabel=this.ascLabel=null;this.id=n;this.container=null;this.setContainerDelayed=function(c){this.container=c};this.addColumn=function(c){c.isGxRemove()&&(c.visible=!1);var d=
this.columns.length;c.index=d;c.table=this;this.columns[d]=c;"undefined"!=typeof c.htmlName&&(this.columnsHtmlName[c.htmlName]=c);"undefined"!=typeof c.gxId&&(this.columnsGxId[c.gxId]=c);"undefined"!=typeof c.gxAttId&&(this.columnsGxAttId[c.gxAttId]=c);return c};this.getColumnByIndex=function(c){return this.columns[c]};this.getColumnByCtrlType=function(c){return f.map(this.columns,function(d){return d.gxControl.type==c?d:null})};this.addRow=function(c,d,e){e=-1===e||void 0===e?this.rows.length:e;
c.table=this;if(null!=c)return this.rows[e]=c,"undefined"!=typeof c.id&&(this.rowsById[c.id]=c),"undefined"!=typeof c.gxId&&(this.rowsByGxId[c.gxId]=c),gx.lang.booleanValue(d)&&this.render(),c};this.getColumnByHtmlName=function(c){var d=this.columnsHtmlName[c];if("undefined"==typeof d&&"undefined"!=typeof this.gxCmpContext&&this.gxCmpContext.length<c.length){var e=c.substring(0,this.gxCmpContext.length);e==this.gxCmpContext&&(c=c.substring(this.gxCmpContext.length,c.length),d=this.columnsHtmlName[c])}return d};
this.getColumnByGxId=function(c){return this.columnsGxId[c]};this.getColumnByGxAttId=function(c){return this.columnsGxAttId[c]};this.getColumnForVar=function(c){for(var d=0;d<this.columns.length;d++){var e=this.parentGxObject.getValidStruct(this.columns[d].gxId);if(e&&e.gxvar==c)return this.columns[d]}return null};this.getRowById=function(c){return this.rowsById[c]};this.getRowByGxId=function(c){return this.rowsByGxId[c]};this.setSort=function(c,d){c==this.sortColumn?this.ascSort=null==d?!this.ascSort:
gx.lang.booleanValue(d):(this.sortColumn=c,this.ascSort=null==d?!0:gx.lang.booleanValue(d));this.doSort();this.ownerGrid.refreshGrid({immediateApplyInfiniteScroll:!0,onSetSort:!0})};this.doSort=function(){-1!=this.sortColumn&&this.rows.sort(this.sort)};this.getControlName=function(c,d){return this.gxCmpContext+d.htmlName+"_"+c.gxId};this.getControlId=function(c,d){return this.getControlName(c,d)};this.getRowCount=function(){return this.rows.length};this.getMaxPage=function(){return Math.ceil(this.getRowCount()/
this.pageSize)};this.isGxTrn=function(){return this.parentGxObject.isTransaction()};this.gridObject=function(){return"gx.fn.gridObj('"+this.gxCmpContext+"','"+this.gxGridName+"',"+this.gxIsMasterPageGrid.toString()+")"};this.deleteImgId=function(c){return this.gxCmpContext+"delete"+this.gxGridName+"_"+c};this.showDeleteImage=function(c){this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&this.isGxTrn()&&(c=gx.dom.byId(this.deleteImgId(c)))&&!gx.fn.isVisible(c)&&(c.style.display="inline","A"==
c.parentNode.nodeName&&(c.parentNode.style.display="inline"))};this.appendDeleteHeader=function(c,d){if(!this.gxIsFreestyle&&this.ownerGrid.deleteMethod!=gx.grid.deleteMethods.none){var e=this.isGxTrn(),h=!1;if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)if(d==gx.grid.deletePositions.left)h=!0;else return;else gx.grid.deletePosition==d&&(h=!0);e&&h&&(d="&nbsp;",this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&(d=gx.grid.deleteTitle),c.append('<th class="'+this.columnAutoHeaderClass+
'">'+d+"</th>"))}};this.appendDeleteImage=function(c,d,e){if(this.ownerGrid.deleteMethod!=gx.grid.deleteMethods.none&&this.isGxTrn()){var h=!1,r=!1;"DSP"!=this.parentGxObject.Gx_mode&&"DLT"!=this.parentGxObject.Gx_mode&&(h=d.gxDeleted(),r=d.gxIsMod()||d.gxExists());var v=this.deleteImgId(d.gxId),x=!1;if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)if(e==gx.grid.deletePositions.left)x=!0;else return;else if(!this.gxIsFreestyle&&gx.grid.deletePosition==e)x=!0;else if(this.gxIsFreestyle){var D=
gx.grid.deletePositionFree;e==gx.grid.deletePositions.left?x=D==gx.grid.deletePositions.topL||D==gx.grid.deletePositions.bottomL:e==gx.grid.deletePositions.right&&(x=D==gx.grid.deletePositions.topR||D==gx.grid.deletePositions.bottomR);e=D}if(x){var k="<"+this.CELL_TAG+' class="gx-remove-row gx-remove-row-'+this.deleteImageAlign(e)+" gx-remove-row-"+this.deleteVerticalAlign(e)+'" style="text-align:'+this.deleteImageAlign(e)+";vertical-align:"+this.deleteVerticalAlign(e)+'">';e="</"+this.CELL_TAG+">";
x=!1;D="gx-grid-delete";gx.O.DSO&&(D="gx-grid__row-delete");var p=gx.getMessage("GXM_deleterow");h&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images?(h=gx.grid.undeleteImage,gx.O.DSO&&(D="gx-grid__row-add"),p=gx.getMessage("GXM_Add")):r&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images?h=gx.grid.deleteImage:h&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu?h=gx.grid.deleteImage:(h=gx.grid.deleteImage,x=!0);r="";c.append(k);this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&
(k=gx.fn.firstGridControl(this.ownerGrid.gridId),r=gx.grid.deleteTooltip,c.append('<a gxfocusable="1" href="javascript:'+this.gridObject()+".setRowDeleted('"+d.gxId+"');\""),c.append(' onfocus="gx.evt.onfocus(this,'+k+",'"+this.ownerGrid.gxComponentContext+"',"+this.ownerGrid.isMasterPageGrid+",'"+d.gxId+"',"+this.ownerGrid.gridId+')"'),d="",x&&(d+="display:none;"),d&&c.append(' style="'+d+'"'),c.append(">"));c.append('<img id="'+v+'" src="'+h+'"" title="'+p+'"');r&&c.append(' title="'+r+'"');c.append(' style="border-style: none;');
x&&c.append("display:none;");c.append('"');c.append(' class="'+D+'"/>');this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&c.append("</a>");c.append(e)}}};this.deleteVerticalAlign=function(c){if(this.gxIsFreestyle){if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)return"middle";var d="top";if(c==gx.grid.deletePositions.bottomL||c==gx.grid.deletePositions.bottomR)d="bottom";return d}return"middle"};this.deleteImageAlign=function(c){if(this.gxIsFreestyle){if(this.ownerGrid.deleteMethod==
gx.grid.deleteMethods.menu)return"left";var d="right";if(c==gx.grid.deletePositions.bottomL||c==gx.grid.deletePositions.topL)d="left";return d}return"center"};this.getRowByPos=function(c){return this.container.querySelector(" tbody>tr:nth-child("+c+")")};this.scroll_last_row_selector=function(c){return this.ownerGrid.additiveResponse?" tbody tr:nth-last-child("+Math.min(c/2,1)+")":" tbody tr:last-child"};this.scroll_first_row_selector=function(){return" tbody tr:first-child"};this.scroll_nth_row_selector=
function(){return function(c,d){return d?" tbody tr:nth-child(n+"+c+"):nth-child(-n+"+(c+d)+")":" tbody tr:nth-child(n+"+c+")"}};this.ROW_TAG="tr";this.CELL_TAG="td";this.ROW_BASE_CLASS="";this.getRowRenderingProps=function(c,d){var e=this.ROW_TAG,h=this.ROW_BASE_CLASS;this.gxIsFreestyle&&(e=this.CELL_TAG);h+=(h?" ":"")+(c?this.evenRowClass:this.oddRowClass)+(d?" RowDeleted":"");return{cls:h,tag:e}};this.simpleAppendFn=function(c){return function(d){d.append(c)}};this.appendGridStyle=function(c){var d=
g.exec(this.gxHtmlTags);d&&1<d.length&&c.append(d[1]);gx.lang.emptyObject(this.gxBackground)||c.append(";background-image:url('"+gx.util.resourceUrl(this.gxBackground,!0)+"');");gx.lang.emptyObject(this.gxBorderWidth)||c.append(";border: solid "+this.gxBorderWidth+"px ");gx.lang.emptyObject(this.gxBordercolor)?c.append(";"):c.append(this.gxBordercolor+";");0<this.ownerGrid.width&&c.append("width:"+this.ownerGrid.width+this.ownerGrid.widthUnit+";")};this.appendGridAttributes=function(c){c.append(this.gxHtmlTags.replace(g,
""));this.gxAllowCollapsing&&this.gxCollapsed&&c.append(" data-gx-sr-only ")};this.appendGridClassAttribute=function(c){-1==this.gxHtmlTags.indexOf("class=")&&c.append(' class="'+this.gxCssClass+'"')};this.appendCollapsingWrapperStart=function(c){c.append('<div valign="top" ><div>');c.append('<img class="collapse-icon" style="cursor:pointer;" src="');this.gxCollapsed?c.append(gx.ajax.getImageUrl(gx,"expandImage")):c.append(gx.ajax.getImageUrl(gx,"collapseImage"));c.append('" onclick="'+this.gridObject()+
'.expandCollapse(this, event);"></div><div>')};this.appendCollapsingWrapperEnd=function(c){c.append("</div></div>")};this.appendContainerStart=function(c,d){d.append("<table ");this.appendGridClassAttribute(d);d.append(' id="'+c+'" ');gx.lang.emptyObject(this.gxToolTipText)||d.append('title="'+this.gxToolTipText+'" ');d.append('style="');this.appendGridStyle(d);d.append('" ');this.appendGridAttributes(d);this.isAbstract||(d.append('data-bkgstyle="'),d.append(gx.grid.styles[this.gxTitleBackstyle]),
d.append('" '));d.append(">");gx.lang.emptyObject(this.header)||(d.append("<caption>"),d.append(this.header),d.append("</caption>"))};this.appendContainerEnd=this.simpleAppendFn("</table>");this.appendHeaderText=function(c,d){gx.lang.emptyObject(this.headerText)||d.append('<tr><td colspan="'+c+'" class="'+this.headerClass+'">'+this.headerText+"</td></tr>")};this.appendFooterText=function(c,d){gx.lang.emptyObject(this.footerText)||d.append('<tr><td colspan="'+c+'" class="'+this.footerClass+'">'+this.footerText+
"</td></tr>")};var m={left:"start",right:"end"},a=function(c){return gx.util.browser.isIE()||!m[c]?c:m[c]};this.appendHeader=function(c,d){var e=c.length,h=[],r=gx.ajax.getImageUrl(gx,"ascImage"),v=gx.ajax.getImageUrl(gx,"descImage"),x=0;d.append("<thead>");d.append("<tr>");this.appendDeleteHeader(d,gx.grid.deletePositions.left);for(var D=0;D<e;D++){var k=c[D];var p=[k.gxColumnClass||k.gxControl.columnClass,k.columnheaderclass||"",this.columnAutoHeaderClass].join(" ");d.append('<th class="'+p+'"');
p="white-space:nowrap;";gx.lang.gxBoolean(k.visible)||(p+="display:none;");k.width&&(k.gxWidthUnit||(k.gxWidthUnit="px"),p+="width:"+k.width+k.gxWidthUnit+";");k.align&&(p+="text-align:"+a(k.align)+";");gx.lang.emptyObject(this.gxTitleBackColor)||this.gxTitleBackstyle!=gx.grid.styles.header&&this.gxTitleBackstyle!=gx.grid.styles.report||(p+="background-color:"+this.gxTitleBackColor+";",this.gxRealTitleBackColor=this.gxTitleBackColor);gx.lang.emptyObject(this.gxBackColor)||this.gxTitleBackstyle!=gx.grid.styles.uniform||
(p+="background-color:"+this.gxBackColor+";",this.gxRealTitleBackColor=this.gxBackColor);gx.lang.emptyObject(this.gxTitleForeColor)||(p+="color:"+this.gxTitleForeColor+";");gx.lang.emptyObject(this.gxTitleFont)||(p+=this.gxTitleFont);k.titlefontunderline?p+="text-decoration: underline;":k.titlefontstrikethru&&(p+="text-decoration: line-through;");k.titlefontbold&&(p+="font-weight: bold;");k.titlefontitalic&&(p+="font-style: italic;");k.titlebackcolor&&(p+="background-color:"+gx.color.html(k.titlebackcolor).Html+
";");k.titleforecolor&&(p+="color:"+gx.color.html(k.titleforecolor).Html+";");d.append(' style="'+p+';"');d.append(' data-colindex="'+x+'"');d.append(">");x++;gx.lang.emptyObject(gx.text.trim(k.title))?d.append("&nbsp;"):(d.append("<span"),k.gxTooltip&&d.append(' title="'+k.gxTooltip+'"'),k.sortable&&d.append(' onclick="'+this.gridObject()+".grid.setSort("+k.index+');" onMouseOver="window.status=\''+this.sortMessage+"';return true;\" onMouseOut=\"window.status='';return true;\""),d.append(">"),d.append(k.title),
null!=this.ascLabel&&null!=this.descLabel&&(this.ascLabel.src=r,this.descLabel.src=v,k.sortable&&this.sortColumn==k.index&&d.append("&nbsp;"+this.handleLabel(this.ascSort?this.ascLabel:this.descLabel,h))),d.append("</span>"));d.append("</th>")}this.appendDeleteHeader(d,gx.grid.deletePositions.right);d.append("</tr>");d.append("</thead>")};this.appendBodyWrapperStart=this.simpleAppendFn("<tbody>");this.appendBodyWrapperEnd=this.simpleAppendFn("</tbody>");this.appendFooterWrapperStart=this.simpleAppendFn("<tfoot>");
this.appendFooterWrapperEnd=this.simpleAppendFn("</tfoot>");this.appendRowStart=this.simpleAppendFn("<tr>");this.appendRowEnd=this.simpleAppendFn("</tr>");this.appendRowBreaksWrapperStart=this.simpleAppendFn("<table width='100%' data-cellspacing='0' data-cellpadding='0'><tbody>");this.appendRowBreaksWrapperEnd=this.simpleAppendFn("</tbody></table></td>");this.appendCellPrefixEnd=this.appendCellPrefixStart=this.appendRowPrefix=gx.emptyFn;this.beforeRender=function(){this.tableClass=this.gxCssClass;
this.evenRowClass=this.gxEvenLinesClass;this.oddRowClass=this.gxOddLlinesClass;this.columnHeaderTextClass=this.columnAutoHeaderClass=this.headerClass=this.gxTitleClass;this.evenRowCellClass=this.evenRowClass;this.oddRowCellClass=this.oddRowClass;f.each(this.beforeRenderCallbacks,function(c,d){d()});this.beforeRenderCallbacks=[]};this.drawEmptyContent=function(){var c=this.ownerGrid,d=c.getGridInnerTableId();c.emptyText&&0===f("#"+d+" + .gx-text-gridnodata").length&&f(document.createElement("div")).addClass("GridNoDataText gx-text-gridnodata").text(c.emptyText).insertAfter(f("#"+
d));0===this.rows.length?f("#"+d).attr("data-gx-grid-nodata",""):f("#"+d).removeAttr("data-gx-grid-nodata")};this.purgeGrid=function(){var c,d=["onblur","onclick","onfocus","onchange"],e=gx.dom.byTag("input",this.container);var h=0;for(c=e.length;h<c;h++)gx.dom.purgeElement(e[h],d);e=gx.dom.byTag("textarea",this.container);h=0;for(c=e.length;h<c;h++)gx.dom.purgeElement(e[h],d);e=gx.dom.byTag("select",this.container);h=0;for(c=e.length;h<c;h++)gx.dom.purgeElement(e[h],d);e=gx.dom.byTag("span",this.container);
h=0;for(c=e.length;h<c;h++)gx.dom.purgeElement(e[h],d);e=gx.dom.byTag("img",this.container);h=0;for(c=e.length;h<c;h++)gx.dom.purgeElement(e[h],d)};this.render=function(c,d,e,h,r,v){c=!!c;r=this.ownerGrid.getGridInnerTableId();var x=this.container;this.ownerGrid.disposeTemplateObject();this.beforeRender();this.ownerGrid.additiveResponse&&this.doSort();if(v.ScrollingElement)var D=v.ScrollingElement.scrollTop;c=this.drawGrid(r,c,d,e,v);gx.dom.shouldPurge()&&this.purgeGrid();var k=gx.dom.getActiveElement();
d=k?k.tagName.toUpperCase():"";d=k&&(k.id||k.name)&&"FORM"!=d&&gx.dom.isChildNode(k,x);var p=gx.dom.getCaretOffset(k),w=(e=gx.dom.byId(this.ownerGrid.gxComponentContext+this.ownerGrid.realGridName+"ContainerTbl"))?e.scrollTop:0;this.setGridHtml(this.container,c,v);this.ownerGrid.isNestedLoad||gx.dom.fixes.fixTableResets(this.container);this.ownerGrid.applyTemplateObject({deferred:!1});w&&e&&(e=gx.dom.byId(this.ownerGrid.gxComponentContext+this.ownerGrid.realGridName+"ContainerTbl"),e.scrollTo(0,w));
this.gxIsFreestyle||this.ownerGrid.instanciateRow(gx.fn.currentGridRowImpl(this.ownerGrid.gridId));this.ownerGrid.additiveResponse&&-1!=this.sortColumn&&this.ownerGrid.handleInfiniteScrolling();d&&(c=D?0:1,d=function(){var q=gx.dom.el(k.id||k.name,!1,!0);q&&(gx.csv.disableFocus=!0,0<q.offsetWidth&&0<q.offsetHeight&&(D&&(v.ScrollingElement.scrollTop=D),gx.fn.scrollIntoViewIfNeeded(q,x,{block:"end"}),gx.fn.setFocus(q,function(){gx.dom.setCaretOffset(q,p)})))},c?gx.lang.doCallTimeout(d,this,[],c):d());
this.drawEmptyContent();this.afterRender(r);h();this.rendered=!0};this.setGridHtml=function(c,d,e){e=e||{};gx.csv.IgnoreBlur=!0;var h=this.ownerGrid.InverseLoading,r,v=void 0!=e.atRow&&-1!=e.atRow,x=-1===this.sortColumn&&(this.ownerGrid.additiveResponse||e.addRows||v),D=e.ScrollingElement;D&&D!==window||(D=c.querySelector("tbody")||c);try{if(gx.fn.setOpacity(0,c),x)if(-1!==this.sortColumn)c.innerHTML=d,gx.plugdesign.applyTemplateObject({selector:c});else{if(this.gxIsFreestyle){var k=document.createElement("div");
k.className="gx-sr-only";k.innerHTML=d;k.setAttribute("data-gx-grid-rendering-additive-rows","");var p=f(k);var w=h?this.firstItemSelector:this.lastItemSelector;h?p.insertBefore(w):p.insertAfter(w)}else if(h)p=f(d).insertBefore(this.firstItemSelector);else{var q=function(E){return 0<D.childNodes.length?E.insertAfter(this.lastItemSelector):E.appendTo(D)}.bind(this);if(v){var C=D.childNodes.length,B=d.split(/<tr/),N=B.slice(1,C+1-e.atRow),u=B.slice(C+1-e.atRow),y=C-this.rows.length;Array.from(D.childNodes).slice(0,
N.length).forEach(function(E,J){var G=document.createElement("tr");E.replaceWith(G);G.outerHTML="<tr"+N[J]});if(0<u.length){var H=f("<tr"+u.join("<tr"));q(H)}for(;0<y--;)D.removeChild(D.lastChild);k=f(this.nthItemSelector(e.atRow+1,B.length-1))}else k=q(f(d))}this.newAdditiveRows=v?null:p;gx.plugdesign.applyTemplateObject({selector:p,deferred:!0}).then(function(){this.newAdditiveRows&&(r=this.newAdditiveRows.children(),h?r.insertBefore(this.newAdditiveRows):r.insertAfter(this.newAdditiveRows),this.newAdditiveRows.trigger("gx-grid:after-additive-rows-render"),
this.newAdditiveRows.remove(),delete this.newAdditiveRows)}.closure(this))}else c.innerHTML=d}finally{gx.lang.requestAnimationFrame(function(){setTimeout(function(){gx.fn.setOpacity("reset",c)},10)})}gx.csv.IgnoreBlur=!1};this.afterRender=function(){this.rendered||this.defineEventHandlers()};this.renderRow=function(c,d,e,h,r,v,x,D,k,p,w,q,C,B,N,u){c=this.rows[e];q=!!(e%2);var y=this.isGxTrn();d&&e===h&&!gx.fn.currentGridRowImpl(this.gxId)&&gx.fn.setCurrentGridRow(this.gxId,c.gxId);var H=c.gxDeleted();
w=new gx.text.stringBuffer;var E=this.getRowRenderingProps(q,H,e,h,r);v&&this.gxIsFreestyle&&(0<e&&0===e%this.gxGridCols||0===e&&0<this.gxGridCols)&&(0<e&&this.appendRowEnd(x,e,h,r),this.appendRowStart(x,e,h,r));var J="";this.gxTitleBackstyle==gx.grid.styles.report&&(J=q?this.gxLinesBackcolorEven:this.gxLinesBackcolorOdd);this.gxTitleBackstyle==gx.grid.styles.header&&(J=this.gxLinesBackcolorOdd);this.gxTitleBackstyle==gx.grid.styles.uniform&&(J=this.gxBackColor);if(!this.gxIsFreestyle||this.gxIsFreestyle&&
v)this.appendRowPrefix(w,e,h,r),w.append("<"+E.tag+" id='"+this.gxCmpContext+this.gxGridObject+"Row_"+c.gxId+"'"),this.gxIsFreestyle||w.append(' data-gxrendering_row=""'),this.gxIsFreestyle&&v?(w.append(' data-gxrow="'+c.gxId.toString()+'"'),(D=this.columns[1].gxControl.verticalAlign)&&w.append(' data-cell-valign="'+D+'"')):w.append(' data-gxrow="'+c.gxId.toString()+'"'),w.append(' class="'+E.cls+'"'),c.selected&&w.append(' data-selected="1"'),q="",J&&(q="background-color:"+J+";"),gx.lang.emptyObject(this.gxLinesFont)||
(q+=this.gxLinesFont),q&&w.append(' style="'+q+'" '),w.append(">"),x.append(w.toString());this.gxIsFreestyle&&(v&&this.appendRowBreaksWrapperStart(x,c),k=this.gxBuffer.toString(),x.append(k));this.gxIsFreestyle||this.appendDeleteImage(x,c,gx.grid.deletePositions.left);this.appendCellPrefixStart(x,e,h,r,c,E);for(D=0;D<p;D++){w=u[D];q=gx.lang.gxBoolean(w.visible);C=c.gxProps[w.index];k=c.values[w.index];B=w.gxControl;this.gxIsFreestyle&&B.type==gx.html.controls.types.row&&0===w.index&&(B.isFreestyleRow=
!0);B.setGridData({grid:this.ownerGrid,row:c,gridId:this.gxId,gridRow:c.gxId});N?(delete B.formattedValue,B.value=k,B.id=w.htmlName+"_"+B.gridRow):(B.setProperties.apply(B,C),B.isFreestyleRow&&(B.cssClass=E.cls));if(d)delete gx.usrPtys[B.id];else if(void 0!==gx.usrPtys[B.id])for(var G in gx.usrPtys[B.id])"enabled"==G&&(B.rtEnabled=!0),B.setIndividualProp(G,gx.usrPtys[B.id][G]);H&&(B.rtEnabled=!0,B.enabled=!1);k=this.parentGxObject.getValidStruct(w.gxId);"undefined"!==typeof C.Value&&(B.value="."!=
gx.decimalPoint&&k&&"decimal"==k.type&&"string"==typeof C.Value?C.Value.replace(".",gx.decimalPoint):C.Value);"undefined"!==typeof C.FormattedValue&&(B.formattedValue=C.FormattedValue);"undefined"===typeof B.formattedValue&&(N&&k&&k.v2c?(B.persistValue(),k.v2c(c.gxId),B.formattedValue=gx.fn.getControlValue(B.id)):B.formattedValue=B.value);C.Values&&(B.possibleValues=C.Values.v);this.gxIsFreestyle&&B.type==gx.html.controls.types.row&&0===w.index&&(B.id=this.gxCmpContext+this.gxGridObject+"Row_"+c.gxId,
y&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu&&(B.oncontextmenu=this.gridObject()+".showContextMenu(this, event);"),J&&(B.style+="background-color:"+J+";"));this.gxIsFreestyle||(x.append("<"+this.CELL_TAG+' class="gx-attribute '+(B.columnClass||"")+'" data-cell-valign="'+w.valign+'"'),x.append(' data-colindex="'+D+'"'),C="",q||(C+="display:none;",!B.visible||w.isGxRemove()||this.ownerGrid.isPromptColumn(w)||this.ownerGrid.addColPropertyAfterRender(D,"Visible",1)),w.width?(w.gxWidthUnit||
(w.gxWidthUnit="px"),C+="width:"+w.width+w.gxWidthUnit+";"):w.gxColSize&&(B.colSize=w.gxColSize),w.align&&(C+="text-align:"+a(w.align)+";"),B.style&&(C+=B.style.replace(/content:var\(.*\);/,"")),C&&x.append(' style="'+C+'" '),x.append(">"));x.append(B.getHtml());this.gxIsFreestyle&&B.type==gx.html.controls.types.row&&0===w.index&&this.appendDeleteImage(x,c,gx.grid.deletePositions.left);B.persistValue();this.gxIsFreestyle||x.append("</"+this.CELL_TAG+">");this.gxIsFreestyle&&(w.index==this.columns.length-
1&&this.appendDeleteImage(x,c,gx.grid.deletePositions.right),k=w.buffer.toString(),x.append(k))}this.appendCellPrefixEnd(x,e,h,r);this.gxIsFreestyle&&v?this.appendRowBreaksWrapperEnd(x):this.appendDeleteImage(x,c,gx.grid.deletePositions.right)};this.drawGrid=function(c,d,e,h,r){var v=this;r=r||{};var x=this.isGxTrn(),D=this.gxIsFreestyle&&1<this.gxGridCols;e=new gx.text.stringBuffer;var k=this.columns,p=k.length,w,q=void 0!=r.atRow&&-1!=r.atRow,C=-1===this.sortColumn&&(this.ownerGrid.additiveResponse||
r.addRows);!this.gxIsFreestyle&&x&&p++;var B,N=function(){if(0!==Number(this.pageSize)){B=this.getMaxPage();0>=this.currentPage?this.currentPage=1:this.currentPage>B&&(this.currentPage=B);var X=q?r.atRow:Math.max(this.pageSize*(this.currentPage-1),0);var U=Math.min(X+this.pageSize,this.rows.length)}else X=0,U=this.rows.length;return{firstRow:X,lastRow:U}}.call(this),u=N.firstRow;N=N.lastRow;if(C||r.immediateApplyInfiniteScroll){var y=u;u=C||"0"!=this.firstRecordOnPage&&-1==this.sortColumn?this.lastRenderedRow:
0;N=this.rows.length;this.ownerGrid.firstAdditiveRow=u}else y=u;this.gxAllowCollapsing&&this.appendCollapsingWrapperStart(e);var H=k.length;if(!this.gxIsFreestyle&&N>u)for(var E=0;E<H;E++){var J=k[E];var G=J.gxControl;var I=!1;var L=gx.lang.gxBoolean(J.visible);J.visible=L;this.ownerGrid.checkPromptColumn(J);for(w=y;w<N&&!I;w++){var O=this.rows[w];var M=O.gxProps[J.index];h||G.setProperties.apply(G,M);G.visible&&(I=!0)}w=function(X){J.visible=I;C=!1;u=y;v.ownerGrid.firstAdditiveRow=0;r.addRows=!1};
this.ownerGrid.additiveResponse||(J.visible&&!I&&w(!1),!J.visible&&I&&w(!0))}if(E=!q&&(!C||-1!=this.sortColumn))this.appendContainerStart(c,e),this.appendHeaderText(p,e),this.gxIsFreestyle||this.appendHeader(k,e),this.appendBodyWrapperStart(e);if(this.ownerGrid.InverseLoading)for(w=N-1;w>=u;w--)this.renderRow.call(this,O,d,w,u,N,D,e,void 0,void 0,H,J,L,M,G,h,k);else for(w=u;w<N;w++)this.renderRow.call(this,O,d,w,u,N,D,e,void 0,void 0,H,J,L,M,G,h,k);this.gxIsFreestyle&&0<this.gxGridCols&&D&&this.appendRowEnd(e);
this.lastRenderedRow=N;E&&(this.appendBodyWrapperEnd(e),this.appendFooterWrapperStart(e),this.ownerGrid.InfiniteScrolling||!x&&!this.hasPagingButtons()||this.appendNavigationBar(p,e),this.appendFooterText(p,e),this.appendFooterWrapperEnd(e),this.appendContainerEnd(e),this.gxAllowCollapsing&&this.appendCollapsingWrapperEnd(e));this.fromCollection=h;c=e.toString();e.clear();e=null;return c};this.defineEventHandlers=function(){var c={};if(this.ownerGrid&&this.ownerGrid.parentObject&&this.ownerGrid.parentObject.IsComponent)var d=
this.ownerGrid.parentObject;d&&(d=gx.pO.getWebComponent(d.CmpContext),c.hookKey=d&&d.getContainer()&&d.getContainer().id);this.gxIsFreestyle||(gx.evt.attach(this.container,"mouseover",this.mouseOverHandler,this,c),gx.evt.attach(this.container,"mouseout",this.mouseOutHandler,this,c));this.isGxTrn()&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu&&gx.evt.attach(this.container,"contextmenu",this.contextMenuHandler,this,c);gx.evt.attach(this.container,["mousedown","touchstart"],this.mouseDownHandler.closure(this,
[],!0),this,c);gx.evt.attach(this.container,"click",this.clickHandler,this,c);this.isGxTrn()&&gx.evt.attach(this.container,"keydown",this.keyDownHandler,this,c)};this.isGridRow=function(c){return c&&c.tagName.toLowerCase()==this.ROW_TAG&&null!=c.getAttribute("data-gxrow")&&f(c).closest(".gx-grid")[0]==this.container};this.getTargetRow=function(c,d){for(;c&&gx.dom.isChildNode(c,this.container);){if(this.isGridRow(c)&&(!d||"body"==d&&"TBODY"==c.parentNode.tagName||"header"==d&&"THEAD"==c.parentNode.tagName))return c;
c=gx.dom.findParentByTagName(c,this.ROW_TAG)}};this.mouseOverHandler=function(c){!gx.runtimeTemplates&&this.gxAllowHovering&&(c=this.getTargetRow(gx.evt.source(c)))&&"1"!=c.getAttribute("data-selected")&&(this.toggleRowHoverById(this.gxHoveredRowId,!1),this.startRowHover(c),this.gxHoveredRowId=parseInt(c.getAttribute("data-gxrow").substring(0,4),10)-1)};this.mouseOutHandler=function(c){!gx.runtimeTemplates&&this.gxAllowHovering&&(c=this.getTargetRow(gx.evt.source(c)))&&"1"!=c.getAttribute("data-selected")&&
this.endRowHover(c)};this.contextMenuHandler=function(c){var d=this.getTargetRow(gx.evt.source(c));d&&this.ownerGrid.showContextMenu(d,c)};this.mouseDownHandler=function(c,d){if(c=this.getTargetRow(gx.evt.source(c)))d="undefined"===typeof d?this.gxAllowSelection&&!this.gxIsFreestyle:d,this.setRowSelected(c,c.getAttribute("data-gxrow"),!1,d)};this.keyDownHandler=function(c){this.getTargetRow(gx.evt.source(c))&&this.ownerGrid.rowKeyPressed(c)};this.clickHandler=function(c){var d=gx.evt.source(c);d.parentNode&&
gx.dom.hasClass(d.parentNode,this.pagingBarClass)&&gx.evt.waitGridRefresh(function(){this.pagingHandler(d,c)}.closure(this))};this.pagingHandler=function(c,d){var e="";gx.evt.cancel(d,!0);gx.dom.hasClass(c,this.pagingButtonDisabled)||(gx.dom.hasClass(c,this.pagingButtonFirstClass)?e="FIRST":gx.dom.hasClass(c,this.pagingButtonPreviousClass)?e="PREV":gx.dom.hasClass(c,this.pagingButtonNextClass)?e="NEXT":gx.dom.hasClass(c,this.pagingButtonLastClass)&&(e="LAST"),this.changeGridPage(e))};this.changeGridPage=
function(c,d){var e=f.Deferred(),h=this.gxGridName.toUpperCase()+"PAGING",r=this.ownerGrid,v="";if(c){r.InfiniteScrolling||this.mask();if(gx.pO.fullAjax){if(gx.setGxO(this.parentGxObject),v="E"+r.realGridName.toUpperCase()+"_"+c+"PAGE"+(r.isMasterPageGrid?"_MPAGE":""),r.parentGrid)var x=r.parentGrid.gridId}else gx.fn.setHidden(this.gxCmpContext+h,c),v=this.gxCmpContext+"E"+h+".";gx.evt.execEvt(this.gxCmpContext,this.parentGxObject.IsMasterPage,v,gx.evt.dummyCtrl,x,void 0,void 0,!1,function(){this.unmask();
e.resolve()}.closure(this),d);return e.promise()}};this.setRowSelected=function(c,d,e,h,r){gx.grid.setActiveGridRow(this,d);h=void 0===h||h;r=void 0===r||r;var v=function(){var x=gx.O;if(!gx.lang.emptyObject(this.parentGxObject)){h&&!gx.runtimeTemplates&&void 0===c.gxOriginalBackcolor&&(c.gxOriginalBackcolor=c.style.backgroundColor);this.instanciateSelectionVars(d);var D=this.getRowByGxId(d),k=this.selectedRows||[],p=[];D&&k.push(D);for(D=0;D<k.length;D++){var w=k[D];w.selected=w.gxId==d;w.selected?
(h&&(gx.runtimeTemplates||(c.gxSBackcolor=void 0!==c.gxOriginalBackcolor?c.gxOriginalBackcolor:c.style.backgroundColor,this.gxSelectionColor&&(c.style.backgroundColor=this.gxSelectionColor.Html)),gx.dom.addClass(c,this.selectedRowClass),f(c).attr("data-gxselected","")),p.push(w)):h&&(w=gx.dom.el(this.gxCmpContext+this.gxGridObject+"Row_"+w.gxId),null==w||void 0===w.gxSBackcolor||gx.runtimeTemplates||(w.style.backgroundColor=w.gxSBackcolor),gx.dom.removeClass(w,this.selectedRowClass),f(w).removeAttr("data-gxselected"))}for(D=
0;D<p.length;D++)this.instanciateSelectedRow(p[D],!r);gx.setGxO(x)}};e&&(h||gx.O.isTransaction())?setTimeout(v.closure(this),100):v.call(this)};this.instanciateSelectionVars=function(c){gx.setGxO(this.parentGxObject);gx.fn.setCurrentGridRow(this.gxId,c);gx.fn.setHidden(this.gxCmpContext+this.gxGridName.toUpperCase()+"_ROW",c.substring(0,4))};this.instanciateSelectedRow=function(c,d){this.selectedRows=[c];this.setSelectedRowVars(c);if(this.gxOnLineActivate&&!this.ownerGrid.isLoading&&(gx.csv.instanciatedRowGrid=
this.ownerGrid,!d)){var e=this.parentGxObject;gx.lang.doCallTimeout(function(){gx.evt.doAfterProcessing(function(){if(e.fullAjax){var h=e.isServerEvent(this.gxOnLineActivate);gx.evt.dispatcher.dispatch(e.getServerEventName(this.gxOnLineActivate),e,this.ownerGrid.gridId,c.gxId,h)}else e[this.gxOnLineActivate].call(e,c.gxId)},this)},this,[],100)}};this.setSelectedRowVars=function(c){for(var d=this.parentGxObject,e=this.columns.length,h=0;h<e;h++){var r=d.GXValidFnc[this.columns[h].gxId];null!=r&&r.c2v&&
r.c2v(c.gxId)}};this.scrollIntoView=function(c,d,e){function h(p,w,q,C){return!1===d||q<=p+C&&p<=w+C?Math.min(q,Math.max(w,p)):(w+q)/2}function r(p,w,q,C){return{left:p,top:w,width:q,height:C,right:p+q,bottom:w+C,translate:function(B,N){return r(B+p,N+w,q,C)},relativeFromTo:function(B,N){var u=p,y=w;B=B.offsetParent;N=N.offsetParent;if(B===N)return v;for(;B;B=B.offsetParent)u+=B.offsetLeft+B.clientLeft,y+=B.offsetTop+B.clientTop;for(;N;N=N.offsetParent)u-=N.offsetLeft+N.clientLeft,y-=N.offsetTop+
N.clientTop;return r(u,y,q,C)}}}var v,x;for(v=r(c.offsetLeft,c.offsetTop,c.offsetWidth,c.offsetHeight);x=c.parentNode;){var D=x.offsetLeft+x.clientLeft,k=x.offsetTop+x.clientTop+e;v=v.relativeFromTo(c,x).translate(-D,-k);x.scrollTop=h(x.scrollTop,v.bottom-x.clientHeight+e,v.top,x.clientHeight);v=v.translate(D-x.scrollLeft,k-x.scrollTop);c=x}};this.keepGridItemVisible=function(c,d){var e=gx.util.browser.isOldIE(),h=f(this.ownerGrid.getContainerControl()),r=e?h.closest(".gx-grid-fixed-header-ie7"):
f("#"+this.ownerGrid.getContainerControlId()+" > table > tbody");0<r.length&&r[0].offsetHeight<r[0].scrollHeight&&(c=this.ownerGrid.getRowCtrlByIdx(c))&&(e=e?parseInt(h.css("paddingTop"),10):0,this.scrollIntoView(c,d,e))};this.setNextRowHovered=function(){return this.toggleRowHoverById(this.gxHoveredRowId+1,!0,!1)};this.setPreviousRowHovered=function(){return this.toggleRowHoverById(this.gxHoveredRowId-1,!0,!0)};this.toggleRowHoverById=function(c,d,e){var h=this.ownerGrid.getRowCtrlByIdx(c),r=!1;
h&&(r=!0,d?(this.toggleRowHoverById(this.gxHoveredRowId,!1),this.startRowHover(h),this.gxHoveredRowId=c,this.keepGridItemVisible(c,e)):this.endRowHover(h));return r};this.getRowByDOMCtrl=function(c){c=parseInt(c.getAttribute("data-gxrow").substring(0,4),10)-1;return this.getRowById(c)};this.startRowHover=function(c){if(gx.runtimeTemplates)f(c).addClass("gx-row-hovered");else{void 0===c.gxOriginalBackcolor&&(c.gxOriginalBackcolor=c.style.backgroundColor);var d=this.getRowByDOMCtrl(c);this.gxAllowHovering&&
this.gxHoverColor&&!d.selected&&(c.gxHBackcolor=c.style.backgroundColor,c.style.backgroundColor=this.gxHoverColor.Html)}};this.endRowHover=function(c){if(gx.runtimeTemplates)f(c).removeClass("gx-row-hovered");else{var d=this.getRowByDOMCtrl(c);this.gxAllowHovering&&!d.selected&&void 0!==c.gxHBackcolor&&(c.style.backgroundColor=c.gxHBackcolor)}};this.hasPagingButtons=function(){return this.usePaging&&0<this.pageSize&&(!this.isFirstPage()||!this.isLastPage())};this.appendNavBarRowStart=function(c,d){gx.lang.emptyObject(this.gxRealTitleBackColor)?
d.append('<tr><td colspan="'+c+'" class="'+this.navigationClass+'" style="text-align: center;">'):d.append('<tr><td colspan="'+c+'" class="'+this.navigationClass+'" style="text-align: center;background-color:'+this.gxRealTitleBackColor+';">')};this.appendNavBarRowEnd=function(c){c.append("</td></tr>")};this.appendNavigationBar=function(c,d){var e=this.getRowCount();e=(0<e||0===e&&!this.isFirstPage())&&this.usePaging;var h=this.parentGxObject.Gx_mode;h=this.isGxTrn()&&!this.gxHasAddlines&&!("DSP"==
h||"DLT"==h);this.navigationClass=this.gxFooterClass;this.gxIsFreestyle&&1<this.gxGridCols&&(c=this.gxGridCols);(e||h)&&this.appendNavBarRowStart(c,d);e&&(d.append('<div class="'+this.pagingBarClass+'" style="padding-bottom:5px;">'),0>=this.currentPage&&(this.currentPage=1),d.append(this.buildPagingButton(this.pagingButtonFirstClass,!this.isFirstPage(),gx.getMessage("GXM_first"))),d.append(this.buildPagingButton(this.pagingButtonPreviousClass,!this.isFirstPage(),gx.getMessage("GXM_previous"))),d.append(this.buildPagingButton(this.pagingButtonNextClass,
!this.isLastPage(),gx.getMessage("GXM_next"))),d.append(this.buildPagingButton(this.pagingButtonLastClass,!this.isLastPage(),gx.getMessage("GXM_last"))),d.append("</div>"));h&&(c="["+this.gxNewRowText+"]",gx.O.DSO&&(c=this.gxNewRowText),d.append(this.buildLink(c,this.gridObject()+".getNewRows(1,event);",this.gxNewRowText,this.gxGridObject+"_NewRow",this.gridObject()+".gxNewRowFocused(this);")));(e||h)&&this.appendNavBarRowEnd(d)};this.buildPagingButton=function(c,d,e){return'<button type="button" class="'+
c+(d?"":" "+this.pagingButtonDisabled)+'"style="padding-left:20px;padding-bottom:5px;'+((d?"":"opacity:.7;cursor:default")+'" title="')+e+'"'+(d?"":" disabled")+"/>"};this.buildLink=function(c,d,e,h,r){var v=this.navigationLinkClass;return"<a class='gx_newrow' type='gxlink' style='text-decoration:none;' tabindex='0' onfocus=\""+r+'" onblur="this.style.textDecoration = \'none\';"><span '+(void 0!==h?'id="'+h+'"':"")+' style="cursor:'+((document.createTextRange?"hand":"pointer")+';" class="')+v+'" onclick="'+
d+'" onMouseOver="this.className=\''+this.highlightedNavigationLinkClass+"';window.status='"+e+"';return true;\" onMouseOut=\"this.className='"+v+"';window.status='';return true;\">"+c+"</span></a>"};this.isLastPage=function(){return"0"!=this.eof};this.isFirstPage=function(){return"0"==(gx.lang.emptyObject(this.firstRecordOnPage)?"0":this.firstRecordOnPage)};this.getWebImageTag=function(c){return'<img border="0" src="/'+this.basePath+this.imgsDir+c.toString()+'"/>'};var b=0;this.handleLabel=function(c){if(c.src){var d=
"img"+b;b++;var e="sort-ico--asc";c.src.includes("desc")&&(e="sort-ico--desc");return"<img name='"+d+"' border='0' src='"+c.src+"' class='"+e+"' >"}return c};this.sort=function(c,d){if(c.table.isGxTrn())if(c.gxExists()||d.gxExists()||c.gxIsMod()||d.gxIsMod()){if(!c.gxExists()&&d.gxExists()||!c.gxIsMod()&&d.gxIsMod())return 1;if(c.gxExists()&&!d.gxExists()||c.gxIsMod()&&!d.gxIsMod())return-1}else return 0;var e=c.table,h=e.getColumnByIndex(e.sortColumn);c=c.values[e.sortColumn];d=d.values[e.sortColumn];
gx.lang.instanceOf(c,Array)||(c=[c]);gx.lang.instanceOf(d,Array)||(d=[d]);switch(h.type){case gx.types.numeric:h=function(p){p=gx.num.parseFloat(p,gx.thousandSeparator,gx.decimalPoint);isNaN(p)&&(p=0);return p};break;case gx.types.date:case gx.types.dateTime:h=function(p){try{p=(new gx.date.gxdate(p)).Value}catch(w){gx.dbg.logEx(w,"JSTable.js","sort")}return p.valueOf()};break;case gx.types.bool:h=function(p){return gx.lang.booleanValue(p)?1:0};break;default:h=function(p){return String(p).replace(/<[^>]*>/g,
"").toUpperCase()}}for(var r=Math.max(c.length,d.length),v=0,x=0;0===v&&x<r;x++){var D=c[x];null==D&&(v=-1);var k=d[x];null==k&&(v=1);0===v&&(D=h(D),k=h(k),v="function"==typeof D.localeCompare?D==k?0:D.localeCompare(k):D==k?0:D>k?1:-1);0!==v&&(v*=e.ascSort?1:-1)}return v};this.mask=function(){var c=this.container||"function"===typeof this.getContainerControl&&this.getContainerControl();c&&c.firstChild&&gx.dom.mask(c.firstChild)};this.unmask=function(){var c=this.container||"function"===typeof this.getContainerControl&&
this.getContainerControl();c&&c.firstChild&&gx.dom.unmask(c.firstChild)}}}(gx.$);
gx.grid.column=function(f,n,g,m,a){this.table=null;this.index=-1;this.title=f||"";this.type="undefined"!=typeof n?n:gx.types.character;this.width=g||"";this.align=m||"left";this.valign=a||"middle";this.htmlName=null;this.sortable=this.enabled=this.visible=!0;this.rowspan=this.colspan=1;this.gxAttId=this.gxId=-1;this.gxWidthUnit=this.gxAttName="";this.gxUnChecked=this.gxChecked=void 0;this.buffer=new gx.text.stringBuffer;this.isGxRemove=function(){return this.gxAttName?-1!=this.gxAttName.indexOf("GxRemove")||
-1!=this.gxAttName.indexOf("nRcdDeleted"):!1}};
gx.grid.row=function(f,n,g,m){this.table=null;this.id=f;this.gxParentRowId=m||"";this.gxId=g+this.gxParentRowId;this.gxCmpContext="";this.values=[];this.selected=!1;this.gxLvl=0;this.gxProps=n.Props||[];this.gxRenderProps=n.RenderProps||[];this.gxGrids=[];this.gxKeyValues=[];this.gxExists=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nRcdExists_"+this.gxLvl+"_"+this.gxId);return null!=a?0!==Number(a):!1};this.gxIsMod=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nIsMod_"+this.gxLvl+"_"+
this.gxId);return null!=a?0!==Number(a):!1};this.gxDeleted=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nRcdDeleted_"+this.gxLvl+"_"+this.gxId);return null!=a?0!==Number(a):!1};this.setDeleted=function(a){gx.fn.setHidden(this.gxCmpContext+"nRcdDeleted_"+this.gxLvl+"_"+this.gxId,a?1:0)}};
gx.grid.responsiveGrid=function(f){var n=["xs","sm","md","lg"];return function(g){g=new gx.grid.impl(g);g.appendContainerStart=function(m,a){a.append("<div ");this.appendGridClassAttribute(a);a.append(' id="'+m+'" ');gx.lang.emptyObject(this.gxToolTipText)||a.append('title="'+this.gxToolTipText+'" ');a.append('style="');this.appendGridStyle(a);a.append('" ');this.appendGridAttributes(a);a.append(">")};g.getRowByPos=function(m){return this.container.querySelector((1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:nth-child("+
m+")")};g.scroll_last_row_selector=function(){return(1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:last"};g.scroll_firt_row_selector=function(){return(1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:first"};g.ROW_TAG="div";g.CELL_TAG="div";g.ROW_BASE_CLASS="row";g.getRowRenderingProps=function(m,a){var b=this.ROW_TAG,c=this.ROW_BASE_CLASS,d=this.gxGridResponsiveCols;this.gxIsFreestyle&&(b=this.CELL_TAG,c=f.map(n,function(e,h){return["col-",e,"-",Math.floor(12/(d[h]||12))||1].join("")}).join(" "));
this.gxIsFreestyle||(c+=" "+(m?this.evenRowClass:this.oddRowClass)+(a?" RowDeleted":""));return{cls:c,tag:b}};g.appendGridClassAttribute=function(m){m.append(' class="'+this.gxCssClass+'"')};g.appendGridAttributes=function(m){this.gxAllowCollapsing&&this.gxCollapsed&&m.append(" data-gx-sr-only ")};g.appendContainerEnd=g.simpleAppendFn("</div>");g.appendHeaderText=gx.emptyFn;g.appendFooterText=gx.emptyFn;g.appendHeader=gx.emptyFn;g.appendBodyWrapperStart=gx.emptyFn;g.appendBodyWrapperEnd=gx.emptyFn;
g.appendFooterWrapperStart=g.simpleAppendFn("<div>");g.appendFooterWrapperEnd=g.simpleAppendFn("</div>");g.appendRowStart=function(m,a,b){a==b&&!0!==this.ownerGrid.additiveResponse&&m.append('<div class="row">')};g.appendRowEnd=function(m,a,b,c){a==c&&!0!==this.ownerGrid.additiveResponse&&m.append("</div>")};g.appendRowBreaksWrapperStart=function(m,a){m.append("<div>");this.appendDeleteImage(m,a,gx.grid.deletePositions.left)};g.appendRowBreaksWrapperEnd=g.simpleAppendFn("</div></div>");g.appendRowPrefix=
function(m,a,b){if(a!=b){var c=this.gxGridResponsiveCols,d=!1;b=f.map(n,function(e,h){return 1!=c[h]&&0===a%c[h]||0===c[h]&&0===a%12?(d=!0,"visible-"+e):""}).join(" ");d&&m.append('<div class="clearfix '+b+'"></div>')}};g.appendCellPrefixStart=function(m,a,b,c,d){a=d.gxDeleted()?" RowDeleted":"";1==this.gxGridCols&&(m.append('<div id="'+this.gxCmpContext+this.gxGridObject+"Row_"+d.gxId+'" data-gxrow="'+d.gxId.toString()+'" class="row'+a+'"><div class="col-xs-12">'),this.appendDeleteImage(m,d,gx.grid.deletePositions.left))};
g.appendCellPrefixEnd=function(m){1==this.gxGridCols&&m.append("</div></div>")};g.appendNavBarRowStart=function(m,a){a.append('<div class="'+this.ROW_BASE_CLASS+'"><div class="col-xs-12 '+this.navigationClass+'">')};g.appendNavBarRowEnd=function(m){m.append("</div></div>")};return g}}(gx.$);
gx.grid.flexGrid=function(f){var n,g=gx.dom;this.useNativeChildControls=!0;this.show=function(){n=f("#"+this.getContainerControl().id);var b=this.drawGrid((this.gxCmpContext||"")+this.gxGridObject+"Tbl",!this.IsPostBack);this.setGridHtml(n.get(0),b);this.ownerGrid.applyTemplateObject({deferred:!1});gx.dom.fixes.fixTableResets(this.container);this.gxWidth&&n.width(g.addUnits(this.gxWidth,this.gxWidthUnit));this.gxHeight&&n.height(g.addUnits(this.gxHeight,this.gxHeightUnit))};this.destroy=function(){n&&
n.hide()};this.appendGridAttributes=function(b){gx.grid.flexGrid.prototype.appendGridAttributes.apply(this,arguments);b.append(" data-gx-flex")};var m={"flex-direction":"row","flex-wrap":"no-wrap","justify-content":"flex-start","align-items":"flex-start","align-content":"flex-start"},a=function(b,c,d){m[c]!==d&&b.append(c+": "+d+";")};this.appendGridStyle=function(b){gx.grid.flexGrid.prototype.appendGridStyle.apply(this,arguments);a(b,"flex-direction",this.FlexDirection);a(b,"flex-wrap",this.FlexWrap);
a(b,"justify-content",this.JustifyContent);a(b,"align-items",this.AlignItems);a(b,"align-content",this.AlignContent)};this.getRowRenderingProps=function(){return{cls:"",tag:this.ROW_TAG}};this.appendRowPrefix=this.appendRowEnd=this.appendRowStart=gx.emptyFn;this.appendRowBreaksWrapperStart=function(b,c){this.appendDeleteImage(b,c,gx.grid.deletePositions.left)};this.appendRowBreaksWrapperEnd=this.simpleAppendFn("</div>");this.appendCellPrefixStart=function(b,c,d,e,h){1==this.gxGridCols&&(b.append('<div id="'+
this.gxCmpContext+this.gxGridObject+"Row_"+h.gxId+'" data-gxrow="'+h.gxId.toString()+'">'),this.appendDeleteImage(b,h,gx.grid.deletePositions.left))};this.appendCellPrefixEnd=function(b){1==this.gxGridCols&&b.append("</div>")};this.appendNavBarRowStart=function(b,c){c.append('</div></div><div class="'+this.navigationClass+'">')};this.appendNavBarRowEnd=function(b){b.append("</div>")};this.scroll_last_row_selector=function(){return" > DIV[data-gxrow]:last"};this.scroll_firt_row_selector=function(){return" > DIV[data-gxrow]:first"}};
gx.lang.inherits(gx.grid.flexGrid,gx.grid.responsiveGrid);
gx.GxObject=function(f){var n=function(){this.onLoadDeferred=f.Deferred();this._isTrn=null;this.ServerClass=this.Gx_mode="";this.ReadonlyForm=!1;this.ObjectType="web";this.MasterPage=null;this.IsComponent=this.IsMasterPage=!1;this.AjaxSecurity=!0;this.OnSessionTimeout=gx.timeoutActions.ignore;this.JustCreated=!1;this.CmpContext="";this.WebComponents=[];this.Grids=[];this.GridsUpper=[];this.UserControls={};this.GridUCsProps={};this.GridUCsEvts={};this.UCBindings={};this.UCBindingsHiddens={};this.GXValidFnc=
[];this.GXLastCtrlId=0;this.GXCtrlIds=[];this.MsgList=[];this.CmpControls={};this.VarControlMap={};this.FormBCs={};this.GridBCs={};this.LvlOlds=[];this.Events={};this.EvtParms={};this.InternalParms={};this.conditionsChanged=this.autoRefresh=this.focusOnlyNEmb=this.hasEnterEvent=!1;this.toValid=this.fromValid=0;this.getValidStructFld_cache={};this.cmpRegex=n.CONTROL_CMP_REGEX;this.rowPatternRegex=/_([0-9]{4})+$/;this.postEventPopupCommands=[];this.targetsCounter=9996;this.feedbackCallCounter=this.feedbackTimeoutId=
0;gx.lang.apply(this,new gx.util.Observable)};n.GX_EVENT_CONTROL_DATA_ATTR="data-gx-evt-control";n.GX_EVENT_CONDITION_DATA_ATTR="data-gx-evt-condition";n.GX_EVENT_DATA_ATTR="data-gx-evt";n.GX_EVENT_CODE_DATA_ATTR="data-gx-evt-code";n.GX_EVENT_CONTEXT_DATA_ATTR="data-gx-context";n.GX_EVENT_CONTROL_DELAYED_ATTR="data-gx-click-delay";n.GX_EVENT_EXCLUDED_CTRLTYPES=["dyncombo","combo"];n.GX_EVENT_EVENT_IN_PROGRESS="data-gx-evt-inprogress";n.WEBCOMPONENT_CLASS_NAME="gxwebcomponent";n.WEBCOMPONENT_LOADING_CLASS_NAME=
"gxwebcomponent-loading";n.WEBCOMPONENT_BODY_CLASS_NAME="gxwebcomponent-body";n.CONTROL_CMP_REGEX=/((?:(?:MP)?W[0-9]{4})*)((?:MP)?W[0-9]{4})([0-9]{4})?/;return n}(gx.$);
gx.fn=function(f){var n=/((?:(?:MP)?W[0-9a-zA-Z\-]{4}[\S]*)*)gxHTMLWrp((?:MP)?W[0-9]{4}[\S]*)*/,g=function(a){a=a.replace(/\\/g,".");return gx.gen.isDotNet()||gx.gen.isDotNetCore()?a.replace(/\.aspx$/,""):a},m=function(){var a=function(b,c){return b.gxIndex<c.gxIndex?-1:b.gxIndex>c.gxIndex?1:0};return function(b){return gx.fn.toArray(b).sort(a)}}();return{disableKeys:function(){gx.fx.obs.addObserver("gx.keypress",gx.fn,gx.fn.swallowKeys)},enableKeys:function(){gx.fx.obs.deleteObserver("gx.keypress",
gx.fn,gx.fn.swallowKeys)},swallowKeys:function(a){a.cancel=!0;a.event.preventDefault()},attachedControls:function(){return gx.attachedControls},cancelWindow:function(a){this.closeWindow(a,{ignoreCmds:gx.config.popup.ignoreCmdsOnCancel})},closeWindow:function(a,b,c){b=b||{};c=c||gx.O;if("string"==typeof a){if(this.closeFromServer(a,b.parmsMetadata))return;a=[]}a||(a=[]);if(gx.popup.ispopup()){var d=gx.popup.getPopup(),e=d.url?gx.util.noParmsUrl(d.url):"";if(!d.frameWindow||-1!=d.frameWindow.location.href.search(e+
"(\\?.*)?$")||gx.grid.drawAtServer){d.close(a,b,c);return}}-1!=location.href.indexOf("gxCalledAsPopup")?this.closeWindowImpl():(a=gx.ajax.getCallerUrl(gx.popup.popuplvl()),gx.lang.emptyObject(a)?this.closeWindowImpl():(gx.ajax.windowClosed(-1),a=gx.absoluteurl(a),gx.spa.started?(gx.spa.redirect(a),gx.ajax.enableForm(c,!0)):(gx.evt.redirecting=!0,location.href=a)))},closeWindowImpl:function(){gx.util.browser.isIE()?window.close():0<history.length?history.back():window.location.assign("about:blank")},
closeFromServer:function(a,b){try{if(window.parent&&window.parent.gx)return!gx.popup.ispopup()||gx.grid.drawAtServer||window.parent.gx.grid.drawAtServer?window.parent.gx.fn.closeWindow(gx.json.evalJSON(a,!0),{parmsMetadata:gx.json.evalJSON(b,!0)}):gx.fn.closeWindow(gx.json.evalJSON(a,!0),{parmsMetadata:gx.json.evalJSON(b,!0)}),!0}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","closeFromServer")}return!1},closeWindowServerScript:function(a,b,c){gx.evt.execLoad=!1;c&&(gx.evt.clinav=!0,gx.ajax.pushReferer(gx.popup.popuplvl()));
this.closeWindow(a,{parmsMetadata:b})},invalidEmptyValue:function(a){if(gx.lang.emptyObject(a.s)){for(var b=a.v.length,c=0;c<b;c++)if(a.v[c][0]===a.s)return!1;return!0}return!1},trimSelectValue:function(a,b){return"int"==b?gx.text.trim(a):gx.text.rtrim(a)},selectedDescription:function(a,b){for(var c=a.v.length,d=0;d<c;d++)if(this.trimSelectValue(a.v[d][0],b)===a.s)return a.v[d][1];return null},setGridCheckBoxValue:function(a,b,c,d){this.setCheckBoxValue(a+"_"+b,c,d)},setGridDecimalValue:function(a,
b,c,d,e){return this.setGridControlValue(a,b,c)},setGridControlValue:function(a,b,c,d){if(void 0!==b)return this.setControlValue(a+"_"+b,c,d)},setVarValues:function(a,b){for(var c=a.length,d=0;d<c;d++){var e=gx.fn.vStructForVar(a[d]);e&&e.v2v?e.v2v(b[d]):eval(a[d]+'="'+b[d]+'"')}},refreshControlOldValue:function(a){if(void 0!==f(a).attr(gx.csv.GX_OLD_VALUE_ATTRIBUTE)){var b=gx.fn.getControlValue("radio"==a.type?a.name:gx.dom.id(a));gx.fn.setControlOldValue(a,b)}},setControlOldValue:function(a,b){if(a){var c=
a.id,d=gx.O.getValidStructFld(c);b=gx.applyPicture(d,b,a);d&&d.gxgrid&&(d.gxgrid.IsValidState[c]=d.gxgrid.IsValidState[c]||{},d.gxgrid.IsValidState[c][gx.csv.GX_OLD_VALUE_ATTRIBUTE]=b);if("radio"==a.type)for(a=gx.dom.byName(a.name),c=a.length,d=0;d<c;d++)a[d].setAttribute(gx.csv.GX_OLD_VALUE_ATTRIBUTE,b);else a.setAttribute(gx.csv.GX_OLD_VALUE_ATTRIBUTE,b)}},setControlGxValid:function(a,b){if(a&&a.id){var c=a.id,d=gx.O.getValidStructFld(c);d&&d.gxgrid&&(d.gxgrid.IsValidState[c]?d.gxgrid.IsValidState[c].gxvalid=
b:d.gxgrid.IsValidState[c]={gxvalid:b});a.setAttribute(gx.csv.GX_VALID_ATTRIBUTE,b)}},setControlValue:function(a,b,c){a=gx.csv.ctxControlId(a);this.setControlValueAny(a,b,c)},clearControlRoundedValue:function(a){a&&a.removeAttribute("data-gx-rounded-value")},setControlRoundedValue:function(a,b){a&&a.setAttribute("data-gx-rounded-value",b)},getControlRoundedValue:function(a){if(a&&(a=a.getAttribute("data-gx-rounded-value"),null!==a))return"."==gx.decimalPoint?a:a.replace(".",gx.decimalPoint)},setControlValueAny:function(a,
b,c){var d=gx.O.getValidStructFld(a),e=!1;var h=gx.dom.el(a,d&&("edit"==d.ctrltype||"checkbox"==d.ctrltype||"combo"==d.ctrltype));var r=function(){return gx.lang.emptyObject(D)?b:D};h&&gx.lang.isEmpty(b)&&!0===h.GXFormatError&&(gx.csv.setFormatError(h,!1),gx.util.balloon.clear(a));d&&("dtime"==d.type||"date"==d.type?""===b?b=gx.date.nulldate_toc(d.len,d.dec):"string"==typeof b&&(b=new gx.date.gxdate(b)):gx.lang.isFixedCharacterType(d.type)&&(b=gx.text.rtrim(b)));if(b instanceof gx.date.gxdate)gx.lang.emptyObject(d)||
(b=gx.date.formatDateTime(d.dec,d.len,gx.dateFormat,b));else if(gx.lang.instanceOf(b,Number)||"undefined"!=typeof gx.num.dec&&b instanceof gx.num.dec.bigDecimal){if(!gx.lang.emptyObject(d)){var v=gx.rtPicture(d,h),x=gx.numericLenDec(v).Decimals;if(0<x&&x!==d.dec){var D=gx.num.toFixed(b,d.dec);D="."==gx.decimalPoint?D:D.replace(".",gx.decimalPoint);this.setControlRoundedValue(h,D)}b=gx.num.formatNumber(b,d.dec,v,d.len,d.sign,!1,d.emptyAsNull)}}else"string"!=typeof b||gx.lang.emptyObject(d)||((e=void 0!=
d.isPwd)?null!=h&&"SPAN"==h.nodeName&&(b=gx.text.formatString(b,d.len,d.isPwd)):b=gx.text.formatString(b,d.len,d.isPwd,gx.rtPicture(d,h)));this.persistGridControlValue(a,r());null!=h&&"SPAN"!=h.nodeName?(this.setControlValue_impl(h,b,c),!0!==gx.csv.settingUIparms&&gx.fn.setControlOldValue(h,r())):gx.fn.setHidden(a,r());null!=h&&"SPAN"==h.nodeName&&(a=h);r=!1;r=d?d.multiline:null!=h&&"TEXTAREA"==h.tagName;e?this.setControlValue_span_safe(a,gx.text.formatString(b,d.len,d.isPwd,gx.rtPicture(d,h),c,r)):
this.setControlValue_span_safe(a,b,c,r)},setDecimalValue:function(a,b,c,d){this.setControlValue(a,b)},toDecimalValue:function(a,b,c){return gx.num.parseFloat(a,b,c)},toDatetimeValue:function(a,b){return new gx.date.gxdate(a,b)},setCheckBoxValue:function(a,b,c){try{a=gx.csv.ctxControlId(a);var d=gx.dom.byId(a);d||(d=gx.dom.form()[a]);if(d){var e=b.toString()==c.toString();d.checked=e;gx.dom.toggleAttribute(d,"checked",e);d.value=b}}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","setCheckBoxValue")}},persistGridControlValue:function(a,
b,c){var d=a.lastIndexOf("_");-1!=d&&(c=c?c:gx.O.getValidStructFld(a.substring(0,d)))&&c.gxgrid&&(d=a.substring(d+1),4<d.length?(d=d.substring(4,d.length),(d=gx.O.getGrid(c.gxgrid.gridName+"_"+d))&&d.persistControlValue(a,b,c)):c.gxgrid.persistControlValue(a,b,c))},setControlValue_span_safe:function(a,b,c,d){"string"==typeof a&&(a=gx.dom.byId("span_"+a));if(a&&"SPAN"!==a.nodeName){var e="span_";e="string"==typeof a?e+a:e+gx.dom.id(a);a=gx.dom.byId(e)}null!=a&&(e=gx.dom.bySelector('[data-name="'+a.id+
'"]'),2>e.length&&(e=[a]),f.each(e,function(h,r){gx.fn.setControlValue_fmt(r,b,c,d)}))},setControlValue_fmt:function(a,b,c,d){try{if(null!=a)if(1==c){var e=a.getAttribute("data-gxlink");gx.lang.emptyObject(e)||null==a.firstChild||"A"!=a.firstChild.nodeName||(a=a.firstChild);gx.html.setInnerHtml(a,b,!0)}else{0==c&&"string"==typeof b&&(b=b.replace(/ +/g," "));for(e=a;null!=a.firstChild&&"#text"!=a.firstChild.nodeName;)a=a.firstChild;0!=c||null!=a.firstChild&&"#text"==a.firstChild.nodeName||"A"==a.nodeName?
gx.html.setInnerText(a,b,c,d):gx.html.setInnerText(e,b,c,d)}}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","setControlValue_fmt")}},setControlValue_impl:function(a,b,c){"string"==typeof a&&(a=gx.dom.el(a));b instanceof gx.date.gxdate&&(b=b.getString());if(null!=a){var d=gx.dom.byName(a.id);if(2>d.length||"radio"===a.type)d=[a];f.each(d,function(e,h){"radio"===h.type?gx.fn.setRadioValue(h.name,b):gx.dom.isEditControl(h)||"textarea"==h.type?(e=h.value!==b&&gx.dom.getActiveElement()===h&&h.selectionStart!==
h.selectionEnd&&0<h.selectionEnd,h.value=b,e&&gx.fn.setSelection(h)):void 0!=h.value?h.value=b:gx.fn.setControlValue_span_safe(h,b,c)})}},setGridComboBoxValue:function(a,b,c){this.setComboBoxValue(a+"_"+b,c)},setComboBoxValue:function(a,b){var c=gx.util.browser.isIE();a=gx.csv.ctxControlId(a);var d=gx.dom.byId(a);if(d){var e="",h=gx.O.getValidStructFld(a);gx.lang.emptyObject(h)||(e=h.type);"int"==e?b=gx.text.trim(b):"date"==e&&b instanceof gx.date.gxdate?b=b.getStringWithFmt("Y4MD"):"decimal"!=e&&
(b=gx.text.rtrim(b));var r=b,v=!1;try{for(var x=d.options.length,D,k=0;k<x;k++){var p=d.options[k];if(gx.lang.isNumericType(e)?Number(p.value)==Number(b):gx.text.trim(p.value)==gx.text.trim(b)){if(r="undefined"!=typeof p.innerText?p.innerText:p.text,d.selectedIndex=k,v=!0,p.setAttribute("selected","selected"),D=p,c)break}else c||p.removeAttribute("selected")}D&&D.value!=d.value&&gx.util.browser.isFirefox()&&gx.dom.redrawControl(d);v||(d.selectedIndex=0);0<h.grid&&this.persistGridControlValue(a,b,
h)}catch(w){gx.dbg.logEx(w,"gxfrmutl.js","setComboBoxValue")}this.setControlValue_span_safe(a,r,0)}},call_v2bc:function(a,b,c){"function"==typeof a.v2bc&&a.v2bc.call(b,c)},loadRadioButton:function(a,b,c){var d=f(a).parent().closest(".gx-radio-button"),e=f(a);b=f(gx.html.controls.applyTemplate("radio",{id:a.name,className:d.attr("class"),style:d.attr("style"),title:a.title,isDisabled:a.disabled,gxoch0:e.attr("data-gxoch0"),values:f.map(b,function(h,r){return{itemId:a.name+"_"+r,itemValue:h[0],itemDesc:h[1],
isSelected:gx.text.trim(c.toString())==gx.text.trim(h[0].toString())}})}));d.replaceWith(b);gx.plugdesign.applyTemplateObject(b)},loadComboBox:function(a,b){this.setComboValues(a,b)},setGridComboValues:function(a,b){if(0==this.controlGridId(a))this.setComboValues(a,b);else for(var c=1;999>c;c++){var d=gx.text.padl(c.toString(),4,"0");d=gx.dom.el(a+"_"+d);if(null==d)break;this.setComboValues(d.name,b)}},setComboValues:function(a,b){a=gx.dom.el(a);var c=gx.util.browser;if(null!=a){var d="";-1!=a.selectedIndex&&
(d=a.options[a.selectedIndex].value);for(;a.options.length>b.length;)a.remove(a.options.length-1);for(;b.length>a.options.length;){var e=document.createElement("OPTION");a.options.add(e)}for(var h=b.length,r=0;r<h;r++)if(e=a.options[r],e.value=b[r][0],c.isIE()&&9<=c.ieVersion()?e.innerText!=b[r][1]&&(e.innerText=b[r][1]):e.text!=b[r][1]&&(e.text=b[r][1]),Number(e.value)?Number(e.value)==Number(d):gx.text.trim(e.value)==gx.text.trim(d))a.selectedIndex=r;if(0==a.options.length)a.selectedIndex=-1;else if(-1==
a.selectedIndex||a.selectedIndex>a.options.length-1)a.options[0].selected=!0}},getControlRefById:function(a){return(a=this.validStruct(a))?0==a.grid?this.getControlRef(a.fld,!1):this.getControlGridRef(a.fld,a.grid):null},getControlRef:function(a,b,c){b||(a=gx.csv.ctxControlId(a));if("FORM"==a)return document;a=gx.dom.el(a,null,null,null,c);return null!=a?a:null},getControlRef_list:function(a){var b=gx.dom.byName(a);if(null!=b)return b;a=gx.dom.byId(a);return null!=a?[a]:null},screen_CtrlRef:function(a){a=
this.getControlGridRef(a,this.controlGridId(a));return gx.lang.emptyObject(a)?null:("hidden"==a.type&&(a=gx.dom.byId("span_"+gx.dom.id(a))),a)},screen_CtrlId:function(a){return this.getControlGridId(a,this.controlGridId(a))},getControlGridId:function(a,b,c){a=gx.csv.ctxControlId(a);if(gx.dom.el(a))return a;try{if(0==b)return a;void 0==c&&(c=this.currentGridRow(b));return a+"_"+c}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","getControlGridId")}},getControlGridRef:function(a,b,c){var d;a=gx.csv.ctxControlId(a);
if(0==b||-1!==a.search(gx.csv.CTRL_ROW_INDEX_REGEXP))if(d=gx.dom.el(a))return d;try{if(0==b)return null;void 0==c&&(c=this.currentGridRow(b));if(d=gx.dom.el(a+"_"+c))return d;var e=gx.O.getComponentData(a);if(e)return gx.dom.el("gxHTMLWrp"+e.Prefix+c)}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","getControlGridRef")}},setCurrentGridRowSafe:function(a,b){var c=gx.fn.getGridObj(a,b);if(c&&c.grid.rows.length>=b)return gx.fn.setCurrentGridRow(a,b)},setCurrentGridRow:function(a,b){if("0000"!=b)try{return gx.currentRows[a]=
b}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","setCurrentGridRow")}},currentGridRowImpl:function(a){try{return gx.currentRows[a]}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","currentGridRowImpl")}},currentGridRow:function(a){a=this.currentGridRowImpl(a);return void 0==a?"0001":a},gridDuplicateKey:function(a){a=gx.fn.validStruct(a);if(void 0!=a){var b=a.gxgrid;if(null!=b&&(b=b.updateControlValue(a,!0)))return b.gxHasDuplicateKey()}return!1},firstGridControl:function(a,b){for(var c=gx.fn.controlIds(),d=c.length,
e=0;e<d;e++){var h=gx.fn.validStruct(c[e],b);if(void 0!=h&&h.grid==a)return c[e]}return-1},lastGridControl:function(a,b){for(var c=gx.fn.controlIds(),d=c.length-1;0<=d;d--){var e=gx.fn.validStruct(c[d],b);if(void 0!=e&&e.grid==a)return c[d]}return-1},getGridDateTimeValue:function(a,b,c,d){a=this.getControlValue(a+"_"+b);return new gx.date.gxdate(a,gx.dateFormat)},getGridDecimalValue:function(a,b,c,d){return this.getDecimalValue(a+"_"+b,c,d)},getGridIntegerValue:function(a,b,c){return this.getIntegerValue(a+
"_"+b,c)},getGridControlValue:function(a,b){return this.getControlValue(a+"_"+b)},getControlValue:function(a,b,c,d){return this.getControlValue_impl(gx.csv.ctxControlId(a,c),b,c,d)},getControlValue_impl:function(){var a=/_CMPPGM$/g;return function(b,c,d,e){if("hidden_only"==c)return gx.fn.getHidden(b);if(0<=b.search(a))return"nohidden"===c?null:gx.fn.getHidden(b);d=d||gx.O;e=e||(d?d.getValidStructFld(b):null);if(!(e&&e.gxgrid&&e.gxgrid.grid&&e.gxgrid.grid.useHiddensForControlValues)){var h=!e||"edit"!=
e.ctrltype&&"checkbox"!=e.ctrltype&&"combo"!=e.ctrltype?gx.dom.el(b,!1,!0):gx.dom.byId(b);if(null!=h&&d){d=this.getControlRoundedValue(h);if(!gx.lang.emptyObject(d))return d;e&&!h.gxtype&&(h.gxtype={type:e.type,len:e.len,dec:e.dec});if("checkbox"==h.type&&e.values&&e.values.length&&1<e.values.length)var r=h.checked?e.values[0]:e.values[1];else if("hidden"==h.type||"text"==h.type||"textarea"==h.type||"checkbox"==h.type)r=h.value;else if("radio"==h.type)r=gx.fn.getRadioValue(gx.dom.byName(b));else if("SELECT"==
h.nodeName&&0<h.options.length?r=-1!=h.selectedIndex?"screen"==c?h.options[h.selectedIndex].text:h.options[h.selectedIndex].value:"screen"==c?h.options[0].text:h.options[0].value:e&&"date"!=e.type&&"dtime"!=e.type&&"bits"!=e.type&&"audio"!=e.type&&"video"!=e.type&&"binaryfile"!=e.type&&(r=h.value),"IMG"==h.nodeName||"INPUT"==h.nodeName&&"image"==h.type)r=h.getAttribute("src");if(void 0!==r)return e&&"boolean"==e.type?gx.lang.gxBoolean(r):r}h=gx.dom.byId("span_"+b);if(null!=h)return b=gx.fn.getHidden(b),
d=this.getControlRoundedValue(h),h=gx.lang.emptyObject(d)?gx.fn.getControlValue_span(h):d,"screen"==c?void 0!=h?h:b:void 0!=b?b:h;h=gx.dom.form()[b];if(null!=h)return"file"==h.type&&(c=gx.html.multimediaUpload.getPreviewAtt(h.id+"_ct"))?c:this.getControlValueInt(h);e=gx.dom.byName(b);if(null!=e){r=e.length;for(d=0;d<r;d++)if(h=e[d],null!=h)return this.getControlValueInt(h);if(h=e[0])return h.value}}return null==h?"nohidden"===c?null:gx.fn.getHidden(b):""}}(),setRadioValue:function(a,b){a=gx.csv.ctxControlId(a);
a=gx.dom.byName(a);if(null!=a)for(var c=a.length,d=0;d<c;d++){var e=f(a[d]);if(gx.text.ltrim(a[d].value)==gx.text.ltrim(b)){e.attr("checked","");e.prop("checked",!0);break}}},getRadioValue:function(a){for(var b=a.length,c=0;c<b;c++)if(a[c].checked)return a[c].value;return""},getRadioSelected:function(a){a=gx.dom.byName(a);for(var b=a.length,c=0;c<b;c++)if(a[c].checked)return a[c];return null},getControlValueInt:function(a){if(void 0!=a.length&&"SELECT"!=a.tagName&&"undefined"!=typeof a[0]&&"radio"==
a[0].type)return this.getRadioValue(a);if("checkbox"==a.type)return a.checked;if("SPAN"==a.tagName){var b=gx.fn.getHidden(gx.dom.id(a));return void 0!=b?b:gx.fn.getControlValue_span(a)}if("INPUT"==a.tagName&&"text"==a.type&&(b=gx.dom.id(a),gx.O)){var c=gx.O.getValidStructFld(b);if(c&&"undefined"!=typeof gx.rtPicture(c,a)){if("int"==c.type)return this.getIntegerValue(b,-1!=gx.rtPicture(c,a).indexOf(",")?gx.thousandSeparator:"");if("decimal"==c.type)return this.getDecimalValue(b,-1!=gx.rtPicture(c,
a).indexOf(",")?gx.thousandSeparator:"",gx.decimalPoint)}}return a.value},getControlValue_span:function(a){for(;a&&!a.nodeValue;)a=a.childNodes[0];return a&&a.nodeValue?a.nodeValue:""},getDateTimeArrayValue:function(a){try{var b=function(e,h){gx.lang.emptyObject(e)||f.each(e,function(r,v){e[r]=new gx.date.gxdate(v,h)});return""},c=this.getControlValue(a,"nohidden");var d=b(c,gx.dateFormat);d||(c=gx.fn.getHidden(gx.csv.ctxControlId(a)),d=b(c,"Y4MD"));return d}catch(e){gx.dbg.logEx(e,"gxfrmutl.js",
"getDateTimeArrayValue")}return""},getDateValue:function(a){return this.getDateTimeValue(a)},getDateTimeValue:function(a){try{var b=this.getControlValue(a,"nohidden");if(!gx.lang.emptyObject(b))return new gx.date.gxdate(b,gx.dateFormat);b=gx.fn.getHidden(gx.csv.ctxControlId(a));return new gx.date.gxdate(b,"Y4MD")}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","getDateValue")}return""},getIntegerValue:function(a,b,c){var d=gx.O?gx.O.getValidStructFld(a):null;a=this.getControlValue(a,c,void 0,d);d&&a&&(a=gx.num.extractValue(gx.rtPicture(d),
b,a));if(gx.lang.isArray(a))return a;a="undefined"!=typeof a?a.toString():"";if(0===a.length&&d&&"Blank"===d.emptyAsNull)return a;b=a.length<gx.num.maxNumericPrecision()||"undefined"==typeof gx.num.dec?gx.num.parseInt(a,10,b):(new gx.num.dec.bigDecimal(gx.text.replaceAll(a,b,""))).setScale(0,gx.num.dec.ROUND_UP).toString();return isNaN(b)?0:b},getDecimalValue:function(a,b,c,d){var e=gx.O?gx.O.getValidStructFld(a):null;d=this.getControlValue(a,d,void 0,e);a=gx.dom.el(a,e&&("edit"==e.ctrltype||"checkbox"==
e.ctrltype||"combo"==e.ctrltype));e&&d&&(d=gx.num.extractValue(gx.rtPicture(e,a),b,d));if("undefined"!==typeof d&&0===d.length&&e&&"Blank"===e.emptyAsNull)return"";if(gx.lang.isArray(d))return d;b=gx.num.parseFloat(d||"",b,c);return isNaN(b)?0:b},getBlobValue:function(a){var b=gx.dom.byId("Object_"+a);if(null!=b){if(b.data&&!gx.text.endsWith(b.data,"about:blank"))return b.data}else if(b=gx.dom.byId("Link_"+a),null!=b)return b.getAttribute("href");return""},getVarControlMap:function(a,b){if(a=a||gx.O)for(var c in a.VarControlMap)if("function"!=
typeof c){var d=a.VarControlMap[c];if(d.id==b||a.CmpContext+d.id==b)return c}return null},getVarControlMapForVar:function(a){for(var b in gx.O.VarControlMap)if("string"==typeof b&&b==a)return gx.O.VarControlMap[b];return null},v2c:function(a,b,c,d){a.v2c(d);"undefined"===typeof b&&(b=a.val(d));a=gx.fn.getControlGridRef(a.fld,a.grid,d);gx.plugdesign.controlValueChanged(a,b);c&&(a.value="")},v2cMap:function(a){var b=this.getVarControlMapForVar(a);if(null!=b){var c="";"number"==typeof b.grid&&0!=b.grid&&
(c="_"+gx.fn.currentGridRowImpl(b.grid));gx.fn.setHidden(gx.O.CmpContext+b.id+c,gx.O[a])}},c2vMap:function(a){var b=this.getVarControlMapForVar(a);if(null!=b){var c="";"number"==typeof b.grid&&0!=b.grid&&(c="_"+gx.fn.currentGridRowImpl(b.grid));gx.O[a]=gx.fn.getHidden(gx.O.CmpContext+b.id+c)}},depsToVars:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=gx.fn.vStructForVar(c);gx.lang.emptyObject(d)||"function"!=typeof d.c2v?this.c2vMap(c):d.c2v()}},verticalFormula:function(a,b,c,d,e,h,r,v){var x=
gx.fn.vStructForVar(a);h&&(gx.lang.emptyObject(x)?this.v2cMap(a):x.v2c(d));var D=gx.fn.currentGridRowImpl(c),k=gx.fn.getGridObj(c,d),p=0,w=!1;if(k){for(var q=k.grid.rows.length,C=0;C<q;C++){var B=k.grid.rows[C],N=B.gxDeleted(),u=B.gxExists(),y=B.gxIsMod();N||!u&&!y||(h&&(gx.fn.setCurrentGridRow(c,B.gxId),v&&0<v.length?this.depsToVars(v):gx.lang.emptyObject(x)||"function"!=typeof x.c2v?this.c2vMap(a):x.c2v()),e.call(gx.O)&&(w=!0,p=r(C,p)))}h&&gx.fn.setCurrentGridRow(c,D);v&&0<v.length?this.depsToVars(v):
gx.lang.emptyObject(x)||"function"!=typeof x.c2v?this.c2vMap(a):x.c2v(d);w||(p=b)}else gx.dbg.write("verticalFormula: cant find grid "+c+" at row "+d);return p},rowValueHandler:function(a,b,c,d,e,h,r){try{var v=gx.fn.vStructForVar(a)||gx.fn.getVarControlMapForVar(a),x=v?v.type:"decimal";switch(x){case "boolean":return d(a,b,c);case "int":case "decimal":var D=gx.num.parseFloat(gx.O[a],h,r);return 0==b?D:e(a,b,c,D);default:gx.dbg.write("Warning: Forumula not supported for: ",a,x)}}catch(k){gx.dbg.logEx(k,
"gxfrmutl.js","Formula could not be calculated for Field: "+a)}},maxFrm:function(a,b,c,d,e,h,r,v){var x=function(k,p,w){return w||gx.O[k]},D=function(k,p,w,q){return q>w?q:w};return gx.fn.verticalFormula(a,b,e,h,r,!0,function(k,p){return gx.fn.rowValueHandler(a,k,p,x,D,c,d)},v)},sumFrm:function(a,b,c,d,e,h,r,v){var x=function(k,p,w){return w||gx.O[k]},D=function(k,p,w,q){return q+w};return gx.fn.verticalFormula(a,b,e,h,r,!0,function(k,p){return gx.fn.rowValueHandler(a,k,p,x,D,c,d)},v)},minFrm:function(a,
b,c,d,e,h,r,v){var x=function(k,p,w){return w&&gx.O[k]},D=function(k,p,w,q){return q<w?q:w};return gx.fn.verticalFormula(a,b,e,h,r,!0,function(k,p){return gx.fn.rowValueHandler(a,k,p,x,D,c,d)},v)},averageFrm:function(a,b,c,d,e,h,r,v){return gx.fn.verticalFormula(a,b,e,h,r,!0,function(x,D){var k=gx.num.parseFloat(gx.O[a],c,d);return 0==x?k:(D*x+k)/(x+1)},v)},countFrm:function(a,b,c,d,e,h){return gx.fn.verticalFormula(a,b,c,d,e,!1,function(r,v){return 0==r?1:v+1},h)},serialRule:function(a,b,c,d,e){e=
e||gx.O;if("INS"!=gx.fn.getGridRowMode(gx.fn.gridLvl(c),c))return e[a];gx.lang.emptyObject(e[b])&&(e[b]=e[a]+d,(c=gx.fn.vStructForVar(b))&&c.v2c(),(c=e.VarControlMap[a])&&gx.fn.setControlValue(c.id,e[b]));b=e[b]||0;a=e[a]||0;return 0<d?Math.max(b,a):Math.min(b,a)},setReturnParms:function(a,b,c,d){try{gx.csv.settingUIparms=!0;var e;if(d){var h=c.length;for(e=0;e<h;e++){var r=gx.fn.vStructForVar(b[e]);d.grid.setCellValue.apply(d.grid,[r,c[e]])}}else if(a&&b&&c&&(h=b.length,h<=c.length)){gx.setGxO(a);
d=null;for(e=0;e<h;e++){var v=b[e];if(v){var x=c[e];r=gx.fn.vStructForVar(v);gx.lang.emptyObject(r)&&(r=gx.fn.vStructForHC(v));if(r){var D=gx.fn.screen_CtrlRef(gx.csv.ctxControlId(r.fld));r.v2v&&(r.v2v(x),gx.fn.v2c(r,x));gx.fn.call_v2bc(r,a);gx.fn.isAccepted(D)&&(d=D,gx.evt.onchange_impl(D));a.refreshDependantGrids(r)}else a.setVariable(v,x)}}d&&gx.fn.setFocus(d)}}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","setReturnParms")}gx.csv.settingUIparms=!1},isOutputParm:function(a){return a&&a.IOType&&("out"==
a.IOType||"inout"==a.IOType)?!0:!1},checkPopupFocus:function(a){if(gx.popup.ispopup()){var b=gx.popup.getPopup();if(b&&b.frameDocument&&(a.ownerDocument?a.ownerDocument:a.document).URL!=b.frameWindow.location.href)return b.setFocusFirst(),!1}return!0},persistControlProperty:function(a,b,c){a=gx.fn.screen_CtrlId(gx.csv.ctxControlId(a));gx.usrPtys[a]||(gx.usrPtys[a]={});gx.usrPtys[a][b.toLowerCase()]=c},setCtrlProperty:function(a,b,c,d){if(gx.O){var e="string"===typeof a&&gx.fn.isColumnProperty(b)?
gx.O.getGridColumn(a,""):a;if(e instanceof gx.grid.column){var h=e;ControlId=e.htmlName}else"string"===typeof a?(ControlId=a,h="FORM"==ControlId?document:gx.fn.screen_CtrlRef(gx.csv.ctxControlId(ControlId))):(h=a,ControlId=h.id);h&&((d=d||gx.O.getValidStructFld(ControlId))&&d.grid&&gx.fn.persistControlProperty(ControlId,b,c),this.setCtrlPropertyImpl(h,b,c,d))}else gx.fx.obs.addObserver("gx.onready",this,gx.fn.setCtrlProperty.closure(this,arguments),{single:!0})},setGridCtrlProperty:function(a,b,c){var d=
gx.fn.screen_CtrlRef(a);if(null!=d){this.setCtrlPropertyImpl(d,b,c);var e=gx.fn.controlGridId(a);e&&(d=f(d).parent().closest("TD",f("[data-gxgridid="+e+"]").get(0)).get(0))&&(this.persistControlProperty(a,b,c),this.setCtrlPropertyImpl(d,b,c))}},getControls:function(a){var b=[a];(a=this.getRONode(a.id,!1))&&b.push(a);return f(b)},setCtrlPropertyImpl:function(a,b,c,d){try{if(null!=a&&(a==document&&"Backcolor"==b&&(a=document.body,this.setCtrlPropertyImpl(gx.dom.form(),b,c)),d=d||gx.O.getValidStructFld(a.id),
!(("Enabled"===b||"Visible"===b)&&d&&0<d.grid&&gx.fn.rowIsRemoved(d.grid,gx.fn.controlRowId(a))))){var e=d?d.ctrltype:null,h=a,r={control:h,property:b,value:c};gx.fx.obs.notify("gx.control.onbeforepropertychange",[r]);if(!r.cancel){var v=f();switch(b){case "Picture":a.setAttribute("data-gx-rt-picture",c);d&&(d.v2c(),d.c2v());break;case "Caption":this.setCtrlCaption(a,c);break;case "Tooltiptext":a.title=c;break;case "Invitemessage":a.placeholder=c;break;case "Visible":if("INPUT"==a.nodeName&&"button"==
a.type)this.setButtonVisibility(a,!this.propertyValueFalse(c));else{var x="checkbox"===a.type;if("INPUT"==a.nodeName){if(x&&f(a).parent().is("span:not(.gx-checkbox-wrapper)"))v=f(a).parent();else if("radio"==a.type){var D=f(a).parent().closest(".gx-radio-button");0<D.length&&(a=D[0])}var k=gx.html.multimediaUpload.getContainer(a);k&&(a=k)}var p=this.propertyValueFalse(c),w=a.gxusrdisabled&&!x?a.gxusrdisabled:!1;if(p){var q=gx.dom.byId("span_"+a.id);this.setVisible(a,!p);q&&this.setVisible(q,!p)}else(q=
this.getRONode(a.id,w))&&this.setVisible(q,w),this.setVisible(a,!w);for(var C=0;C<v.length;C++)this.setVisible(v[C],!w);gx.fn.setDateCtrlProperties(a,!w,!p)}gx.fn.checkAttachedProperty(a.id,b,gx.lang.gxBoolean(c));break;case "Enabled":p=this.propertyValueFalse(c);if("hidden"===a.type)return;"textblock"===e&&f(a).toggleClass("gx-disabled",p);if(("SPAN"===a.tagName||"DIV"===a.tagName&&"1"===a.getAttribute("data-gxformat"))&&p)return;if("INPUT"===a.nodeName&&"radio"===a.type){var B=gx.dom.byName(a.name),
N=B.length;for(C=0;C<N;C++)this.setEnabledProperty(B[C],!p)}else!gx.dom.isEditControl(a)&&"textarea"!==a.type&&"file"!==a.type&&"SELECT"!==a.tagName||"password"===a.type?this.setEnabledProperty(a,!p):(q=this.getRONode(a.id,p,d.fmt,d.multiline),gx.fn.isVisible(a,0)||q&&gx.fn.isVisible(q,0)?(q&&this.setVisible(q,p),this.setEnabledProperty(a,!p),this.setVisible(a,!p),gx.fn.setDateCtrlProperties(a,!p,!0),gx.fn.checkAttachedProperty(a.id,b,!p),gx.fn.checkAttachedProperty(a.id,"Visible",!p)):(this.setEnabledProperty(a,
!p),gx.fn.setDateCtrlProperties(a,!p,!1),gx.fn.checkAttachedProperty(a.id,b,!p)));break;case "Class":if(a==document){var u=f(gx.dom.form()),y=f(document.body),H=u.attr("data-gx-class")||"";y.removeClass(H).attr("class",c+" "+y.attr("class"));u.removeClass(H).attr({"class":c+" "+u.attr("class"),"data-gx-class":c})}else{var E=this.getControls(a);E.attr("class",c);!gx.O.DSO&&0>=c.indexOf("Readonly")&&f(this.getRONode(a.id,!1)).attr("class",c+" Readonly"+c)}break;case "Columnclass":var J=a.parentNode;
J&&"TD"==J.tagName&&this.setCtrlClass(J,"gx-attribute "+c);break;case "Columnheaderclass":var G=a.table.container.querySelectorAll("TH")[a.index];G&&this.setCtrlClass(G," "+c+" "+a.table.columnAutoHeaderClass);break;case "Link":this.setCtrlLink(this.getRONode(a.id,!1)||a,c);break;case "Linktarget":this.setCtrlLinkTarget(this.getRONode(a.id,!1)||a,c);break;case "Backcolor":var I=gx.color.html(c);if(I&&void 0==a.gxGridName){a:{var L=a;if(L&&"radio"==L.type){var O=f(L).parent().closest(".gx-radio-button");
if(0<O.length){a=O[0];break a}}a=L}E=this.getControls(a);E.css("background-color",I.Html)}break;case "Background":E=this.getControls(a);E.css("background-image","url("+c+")");break;case "Forecolor":if(I=gx.color.html(c))E=this.getControls(a),E.css("color",I.Html);break;case "Fontbold":p=this.propertyValueFalse(c);E=this.getControls(a);E.css("fontWeight",p?"normal":"bold");break;case "Fontitalic":p=this.propertyValueFalse(c);E=this.getControls(a);E.css("fontStyle",p?"normal":"italic");break;case "Fontunderline":p=
this.propertyValueFalse(c);E=this.getControls(a);E.css("textDecoration",p?"none":"underline");break;case "Fontstrikethru":p=this.propertyValueFalse(c);E=this.getControls(a);E.css("textDecoration",p?"none":"line-through");break;case "Fontname":E=this.getControls(a);E.css("fontFamily",c);break;case "Fontsize":E=this.getControls(a);E.css("fontSize",c+"pt");break;case "Filename":this.setBlobFilename(a,c);break;case "Filetype":this.setBlobFiletype(a,c);break;case "URL":this.setBlobUrl(a,c);break;case "IsBlob":this.setMultimediaType(a,
c);break;case "Bitmap":var M=gx.util.imageName(c);M?gx.html.setGXImageCSSClass(a,"GX_Image_"+M+"_Class"):a.src=c;break;case "SrcSet":void 0!==c&&(a.srcset=c);break;case "gximage":c&&gx.html.setGXImageCSSClass(a,"GX_Image_"+c+"_Class");break;case "Multimedia":this.setMultimediaValue(a.id,c);break;case "Jsonclick":a.jsevent=c;break;case "Source":E=c;L=E.indexOf("?");0<L&&(E=E.substring(0,L));-1==E.indexOf(":")&&-1==E.indexOf("/")?a.src=gx.ajax.objectUrl(c):a.src=gx.util.resourceUrl(c,!0);gx.evt.attach(a,
"load",gx.dom.autofitIFrame);break;case "Values":if("SELECT"==a.tagName||gx.dom.isRadio(a)||"SPAN"==a.tagName)if(c=gx.json.evalJSON(c),"SELECT"==a.tagName)0!=c.isset&&(gx.fn.loadComboBox(a.id,c.v),gx.fn.setComboBoxValue(a.id,c.s),gx.plugdesign.controlValueChanged(a,c.v));else if(gx.dom.isRadio(a))0!=c.isset&&(gx.fn.loadRadioButton(a,c.v,c.s),gx.plugdesign.controlValueChanged(a,c.v));else{var X=a.id.substring(5);E="";var U=c.s;d=gx.O.getValidStructFld(X);gx.lang.emptyObject(d)||(E=d.type);U=gx.fn.trimSelectValue(U,
E);c.s=U;gx.fn.setControlValue_span_safe(X,gx.fn.selectedDescription(c,E))}break;case "Width":a.width&&(a.width=c);a.style.width=gx.dom.addUnits(c);break;case "Height":a.height&&(a.height=c);a.style.height=gx.dom.addUnits(c);break;case "Ispassword":a.type=gx.lang.gxBoolean(c)?"password":"text";break;case "Title":var aa=a.table.ownerGrid.getContainerControl();gx.dom.getOrCreatebyCss(aa,"[data-colindex='"+a.index+"'] span").innerHTML=c;a.title=c}var da=gx.dom.id(a);if(da){d=gx.O.getValidStructFld(da);
var ha=da+(d&&d.grid&&0<d.grid?"":"_")+b;if(gx.fn.createPtyCondition(b)||gx.fn.isHidden(ha))c=1==c?"1":0==c?"0":c,gx.fn.setHidden(ha,c)}gx.fx.obs.notify("gx.control.onafterpropertychange",[{control:h,property:b,value:c}])}}}catch(ea){gx.dbg.logEx(ea,"gxfrmutl.js","setCtrlPropertyImpl")}},createPtyCondition:function(a){return("Visible"==a||"Enabled"==a)&&gx.O.isTransaction()},setEnabledProperty:function(a,b,c){var d=gx.dom.id(a);if(gx.lang.gxBoolean(b)){if(delete gx.disabledControls[d],gx.fn.isAccepted(a,
!1))return}else gx.util.addOnce(gx.disabledControls,a,d);1==gx.csv.isvalidating()&&b&&null==gx.csv.validActivatedControl&&a!=gx.csv.lastControl&&(d=gx.O.getValidStructId(d),d>gx.O.fromValid&&d<=gx.O.toValid&&(gx.csv.validActivatedControl=a));a.gxusrdisabled=!b;a.disabled=a.gxdisabled?1==a.gxdisabled?!0:a.gxusrdisabled:a.gxusrdisabled;(void 0===c||c)&&this.setEnabled(a,b)},setEnabled:function(a,b){var c=function(e,h){gx.lang.booleanValue(h)?e.removeAttribute("data-gx-readonly"):e.setAttribute("data-gx-readonly",
"")};gx.lang.booleanValue(b)?gx.dom.removeClass(a,"gx-disabled"):gx.dom.addClass(a,"gx-disabled");if(this.disabledAsSpan(a)){try{if("checkbox"==a.type)var d=a.parentNode;"radio"==a.type&&(d=f(a).parent().closest(".gx-radio-button")[0],c(a,b))}catch(e){}if(gx.lang.booleanValue(b))!gx.O.DSO&&d&&0==d.className.indexOf("Readonly")&&(d.className=d.className.substring(8)),this.isVisible(a)&&(this.setVisible(a,1),(b=this.getRONode(a.id,!0))&&this.setVisible(b,0));else if(!gx.O.DSO&&d&&0>d.className.indexOf("Readonly")&&
!gx.text.startsWith(d.className,"gx-")&&(d.className="Readonly"+d.className),this.isVisible(a)&&"password"!=a.type&&"image"!=a.type&&"checkbox"!=a.type&&"radio"!==a.type&&(b=this.getRONode(a.id,!0)))this.setVisible(a,0),this.setVisible(b,1),c=gx.O.getValidStructFld(a),d=0,!gx.lang.emptyObject(c)&&c.format&&(d=c.format),this.setControlValue_span_safe(b,gx.fn.getControlValue(gx.dom.id(a),"screen",void 0,c),d,"textarea"==a.type)}else c(a,b)},disabledAsSpan:function(a){var b=a.tagName.toUpperCase();return"IMG"!=
b&&!("INPUT"==b&&"button"==a.type)},setVisible:function(a,b){f(a).toggleClass("gx-invisible",!gx.lang.booleanValue(b));a.style.display=0==b?"none":this.displayByType(a.nodeName);var c=gx.O.getValidStructFld(a);if(b&&c&&c.gxgrid&&!c.gxgrid.grid.gxIsFreestyle){var d=a.closest("td[data-colindex]");if(d){c.gxgrid.applyPropEntireColumn(d.getAttribute("data-colindex"),"Visible",b);return}}gx.fn.rowGridId(a)&&(a=f(a).find("table")[0])&&this.setVisible(a,b)},getRONodePrefix:function(){return"span_"},prefixROClass:function(a){return gx.O.DSO||
""===a||0===a.indexOf("Readonly")?a:"Readonly"+a},getRONode:function(a,b,c,d){c=void 0===c?gx.html.controls.formats.TEXT:c;if(c===gx.html.controls.formats.RAW_HTML||c===gx.html.controls.formats.HTML||gx.lang.emptyObject(a))return null;var e=gx.dom.byId(a);a=this.getRONodePrefix()+a;var h=gx.dom.byId(a);if(null!=h)return h;if(!b||null==e||"INPUT"===e.nodeName&&("radio"===e.type||"checkbox"===e.type))return null;b=document.createElement("SPAN");b.setAttribute("id",a);b.setAttribute("data-gx-readonly",
"");this.setVisible(b,!1);b.className=gx.fn.prefixROClass(e.className);a="IMG"==e.nodeName||"INPUT"==e.nodeName&&"image"==e.type?e.value:gx.fn.getControlValue(gx.dom.id(e),"screen");e.parentNode.insertBefore(b,e);gx.html.setInnerText(b,a||"",c,d);return b},setDateCtrlProperties:function(a,b,c){var d=gx.dom.byId(gx.dom.id(a)+"_dp_trigger");d&&f(d).toggle(b);if(d=f(gx.dom.byId(gx.dom.id(a)+"_dp_container")))a.Flat&&f(a).hide(),a=f(".calendar",d),d.toggle(b&&c||!b&&c),a&&a.toggle(b&&c)},getGridCtrlProperty:function(a,
b,c){try{if(0!=a){var d=this.getGridObj(a);if(d){var e=d.grid.getColumnByHtmlName(b);if(e)return e[c.toLowerCase()]}}else return this.getCtrlProperty(b,c)}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","getGridCtrlProperty")}return""},getCtrlProperty:function(a,b){var c=gx.O.getValidStructFld(a),d=c&&0<c.grid?"_"+gx.fn.currentGridRowImpl(c.grid):"";d=gx.uc.getUserControlObj(gx.uc.userControlContainerId(a+d));if(null!=d)return d[b];if(d=this.screen_CtrlRef(a))return"Picture"===b?gx.rtPicture(c,d):"Text"===
b?this.getControlValue(a,"screen",void 0,c):"Visible"==b&&gx.fn.getRONode(d.id)?this.getCtrlProperty_impl(d,b)||this.getCtrlProperty_impl(gx.fn.getRONode(a),b):"Enabled"==b&&gx.fn.getRONode(d.id)?!this.getCtrlProperty_impl(gx.fn.getRONode(d.id),"Visible"):this.getCtrlProperty_impl(d,b)},getCtrlProperty_impl:function(a,b){if(null==a)return"";switch(b){case "Tooltiptext":return a.title;case "Invitemessage":return a.placeholder;case "Visible":return"INPUT"===a.nodeName&&"radio"===a.type&&(b=f(a).parent().closest(".gx-radio-button"),
0<b.length&&(a=b[0])),"none"!=a.style.display;case "Enabled":return void 0===a.disabled?f(a).hasClass("gx-disabled")?!1:!0:!a.disabled;case "Class":return a.className;case "Backcolor":return gx.color.css(a.style.backgroundColor);case "Forecolor":return gx.color.css(a.style.color);case "Width":return gx.dom.dimensions(a).w;case "Height":return gx.dom.dimensions(a).h;case "Caption":return this.getCtrlCaption(a);case "Fontbold":return"bold"==a.style.fontWeight;case "Fontitalic":return"italic"==a.style.fontStyle;
case "Fontunderline":return"underline"==a.style.textDecoration;case "Fontstrikethru":return"line-through"==a.style.textDecoration;case "Fontname":return a.style.fontFamily;case "Filename":return a.value.split(/(\\|\/)/g).pop();case "Fontsize":return a=parseInt(a.style.fontSize),isNaN(a)?12:a;case "Ispassword":return"password"==a.type}},displayByType:function(a){switch(a){case "TABLE":return!gx.util.browser.isIE()||8<=gx.util.browser.ieVersion()?"table":"block";case "P":case "DIV":return"block"}return""},
setCtrlCaption:function(a,b){try{var c=gx.html.getFieldLabel(a);if(c)gx.fn.setControlValue_fmt(c,b,0,!1);else{switch(a.tagName){case "SPAN":case "DIV":case "FIELDSET":var d=a.getAttribute("data-gxformat"),e=gx.O.getValidStructFld(a);null==d&&(d=!gx.lang.emptyObject(e)&&e.format?e.format:0);c=!1;e&&(c="edit"===e.ctrltype?e.multiline:!0);gx.fn.setControlValue_fmt(a,b,d,c);return;case "INPUT":"checkbox"!=a.type&&(a.value=b);return}"#document"==a.nodeName&&(a.title=b)}}catch(h){gx.dbg.logEx(h,"gxfrmutl.js",
"setCtrlCaption")}},getCtrlCaption:function(a){var b=gx.html.getFieldLabel(a);if(b)return f(b).text();switch(a.tagName){case "SPAN":case "DIV":case "FIELDSET":b=a.getAttribute("data-gxformat");if(null!=b&&"1"==b)return a.innerHTML;for(;null!=a.firstChild&&"#text"!=a.firstChild.nodeName;)a=a.firstChild;return"undefined"!=typeof a.innerText?a.innerText:a.textContent||a.text;case "INPUT":if("checkbox"!=a.type)return a.value;break;default:return""}},propertyValueFalse:function(a){return"string"==typeof a&&
(a=a.toLowerCase(),"false"==a||0==gx.num.parseFloat(a))?!0:0==a},setButtonVisibility:function(a,b){b=b?"":"none";var c=a.parentNode;gx.lang.emptyObject(c)||"SPAN"!=c.nodeName||(c.style.display=b,c=c.parentNode,gx.lang.emptyObject(c)||"SPAN"!=c.nodeName||(c.style.display=b,c=c.parentNode,gx.lang.emptyObject(c)||"SPAN"!=c.nodeName||(c.style.display=b,c=c.parentNode,gx.lang.emptyObject(c)||"SPAN"!=c.nodeName||(c.style.display=b))));a.style.display=b},setBlobValue:function(a,b){a=gx.dom.byId(a)||gx.dom.byId("Object_"+
a);this.setBlobUrl(a,b)},setBlobFilename:function(a,b){null!=a&&(a=gx.O.getValidStructFld(a))&&gx.fn.setHidden(a.fld+"_Filename",gx.text.trim(b))},setBlobFiletype:function(a,b){if(null!=a){var c=gx.O.getValidStructFld(a);c&&gx.fn.setHidden(c.fld+"_Filetype",gx.text.trim(b));c=a;"INPUT"==c.nodeName&&"file"==c.type&&(c=gx.dom.byId("Object_"+a.id));null!=c&&(b=gx.util.getContentType(b),this.setObjectCtrlType(c,b),gx.fn.setVisible(c,!0))}},resolveResourceUrl:function(a,b){if(""==a)return b?gx.ajax.getImageUrl(gx,
"blankImage"):"";if(!gx.isabsoluteurl(a))if(gx.isRelativeToHost(a)){if(0!=a.toLowerCase().indexOf("/"+gx.basePath.toLowerCase()))return gx.util.resourceUrl(gx.basePath+a,!1)}else return gx.util.resourceUrl(gx.basePath+gx.staticDirectory+a,!1);return a},setBlobUrl:function(a,b){var c=gx.html.multimediaUpload.getContainer(a);if(c)a=this.resolveResourceUrl(b,!1),gx.html.multimediaUpload.setPreviewImage(c,a),gx.html.multimediaUpload.setPreviewLink(c,a);else if(!b.match(/^[a-z]:[\S]*/i)&&null!=a){c=a;
var d="INPUT"==c.nodeName&&"file"==c.type;if(""===b&&""===b){var e=f(c);e.wrap("<form>").closest("form").get(0).reset();e.unwrap()}d&&(c=gx.dom.byId("Object_"+a.id));null!=c&&(d=gx.util.getContentTypeFromExt(b),c=this.setObjectCtrlType(c,d));null!=c?"IMG"==c.tagName?(b=this.resolveResourceUrl(b,!0),c.src=b):(c.data=b||"about:blank",gx.fn.setVisible(c,!0),this.resizeObject(c),gx.dom.redrawControl(c)):(c=gx.dom.byId("Link_"+a.id),null!=c&&(c.style.display=""!=b?"block":"none",c.href=b))}},setGridMultimediaValue:function(a,
b,c,d){if(void 0!==b)return this.setMultimediaValue(a+"_"+b,c,d)},setMultimediaValue:function(a,b,c){var d=gx.dom.byId(gx.csv.ctxControlId(a));if(d){var e=gx.html.multimediaUpload.getContainer(d),h=this.resolveResourceUrl(c||b||"",!1);if(e){0<=gx.util.Url.parseWithAnchor(b).protocol.search(/^https?:/)&&gx.html.multimediaUpload.setPreviewImage(e,h);var r=""==b&&""==c||""!=b;if(!r){var v=gx.dom.byId(d.id+"_GXI");v&&(v.value=c)}(a=gx.dom.byId(a))&&""==b&&(a.value="");this.setMultimediaType(d,r);gx.html.multimediaUpload.setPreviewLink(e,
h)}else{if("IMG"==d.tagName||"INPUT"==d.tagName&&"image"==d.type)d.src=h;(b=d.parentNode)&&"A"==b.tagName&&gx.dom.isMultimediaElement(d)&&(h?b.href=h:b.removeAttribute("href"))}}},setMultimediaType:function(a,b){a&&(a=gx.html.multimediaUpload.getContainer(a))&&gx.html.multimediaUpload.setType(a,gx.lang.gxBoolean(b))},setObjectCtrlType:function(a,b){var c=a;if("IMG"==a.nodeName&&(!b||0==b.indexOf("image/")))return c;if(a.type!=b||"OBJECT"==a.nodeName&&0==b.indexOf("image/"))if(c=0==b.indexOf("image/")?
gx.html.nodesFromText('<img id="'+a.id+'">')[0]:gx.html.nodesFromText('<object style="display:none;" id="'+a.id+'" type="'+b+'">')[0]){try{for(var d in a.attributes)if("id"!=d&&"type"!=d&&"implementation"!=d&&a[d])try{c[d]=a[d]}catch(r){gx.dbg.logEx(r,"gxfrmutl.js","setObjectCtrlType")}}catch(r){gx.dbg.logEx(r,"gxfrmutl.js","setObjectCtrlType")}if(b=a.parentNode){d=null;for(var e=b.childNodes.length,h=0;h<e;h++)if(b.childNodes[h]==a){h<e-1&&(d=b.childNodes[h+1]);break}gx.dom.removeControlSafe(a);
null!=d?b.insertBefore(c,d):b.appendChild(c)}}return c},resizeObject:function(a){var b=gx.lang.emptyObject;!b(a.data)&&"about:blank"!=a.data&&b(a.width)&&b(a.height)&&b(a.style.width)&&b(a.style.height)&&(a.style.width="200px",a.style.height="200px")},restoreLostCtrlOnGridRefresh:function(a,b,c){if(null==b.form){var d=gx.dom.id(b);!(d=gx.O.getValidStructFld(d))||"checkbox"!=b.type||d.gxgrid&&parseInt(a||0,10)!==parseInt(d.gxgrid.grid.firstRecordOnPage||0,10)||(b=gx.dom.el(b.id)||gx.dom.el(b.name),
b.checked=c)}return b},checkboxClick:function(a,b,c,d,e){var h=b.checked;e=e?gx.getObj(e):null;var r="object"===typeof a?a:gx.fn.validStruct(a,e),v=r&&r.gxgrid?r.gxgrid.grid.firstRecordOnPage:0;a=r&&r.grid?r.grid:0;var x=function(D){b=this.restoreLostCtrlOnGridRefresh(v,b,h);b.checked=h;b.value=h?c:d;gx.dom.toggleAttribute(b,"checked",h);r&&(D=gx.fn.controlRowIndex(b),"function"==typeof r.c2v&&r.c2v(D),gx.fn.call_v2bc(r,gx.O),gx.csv.invalidateCtrl(b,!0))}.closure(this);a&&gx.pO.supportAjaxEvents&&
gx.evt.doAfterValidating(x);gx.fx.obs.notify("gx.validation",null,function(){if(gx.evt.fixWebKitOnFocus())b.onfocus();x.call(this,!0)});gx.pO.fullAjax||x.call(this,!0);e&&gx.util.browser.isIE()&&gx.setGxO(e)},setCtrlClass:function(a,b){null!=a&&(a.className=b)},setCtrlLink:function(a,b){if(null!=a)if(""==b)this.unsetCtrlLink(a);else if("A"==a.tagName)a.href=b;else{var c=a.firstChild;if(c&&"A"==c.tagName)c.href=b;else{var d=a.parentNode;if("A"==d.tagName)d.href=b;else{var e=document.createElement("A");
e.href=b;c&&"#text"==c.nodeName?(gx.dom.shouldPurge()&&gx.dom.purge(e,!0),e.innerHTML=c.nodeValue,a.replaceChild(e,c)):(d.replaceChild(e,a),e.appendChild(a));(a=f(a).attr("data-gx-link-target"))&&f(e).attr("target",a)}}}},unsetCtrlLink:function(a){if(null!=a&&(a=a.parentNode,"A"==a.tagName)){var b=a.firstChild,c=a.parentNode;if(null!=c){for(;null!=b;)c.insertBefore(b,a),b=a.firstChild;gx.dom.removeControlSafe(a)}}},setCtrlLinkTarget:function(a,b){if(null!=a){var c=f(a);c.is("a")||(c=c.children());
c.is("a")&&c.attr("target",b);f(a).attr("data-gx-link-target",b)}},scrollIntoViewIfNeeded:function(a,b,c){gx.fn.isVisibleAtScroll(a,b)||a.scrollIntoView(c)},isVisibleAtScroll:function(a,b){var c=a.getBoundingClientRect();a=c.bottom;var d=c.height;c=c.top;b=b.getBoundingClientRect();return c<=b.top?b.top-c<=d:a-b.bottom<=d},isVisible:function(a,b){if(!a||gx.dom.hasClass(a,"gx-invisible")||"INPUT"===a.tagName.toUpperCase()&&"hidden"===a.type||"none"===a.style.display)return!1;try{for(var c;a&&("undefined"==
typeof b||0<=b);){if((c=gx.dom.getComputedStyle(a))&&("hidden"==c.visibility||"none"==c.display))return!1;a=a.parentNode;"undefined"!=typeof b&&b--}}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","isVisible")}return!0},gridRowIsMod:function(a,b){var c=this.gridObjByLvl(a);if(c)return c=gx.O.getGridById(c.gridId,b)||c,(a=c.grid.getRowByGxId(b))?a.gxIsMod():!0;c=!1;try{c=1==this.getControlValue("nIsMod_"+a+"_"+b)}catch(d){c=!1}return c},gridObjByLvl:function(a){for(var b=gx.O.Grids,c=b.length,d=0;d<c;d++)if(b[d].gridLvl==
a)return b[d];return null},forceEnableControls:function(a){for(var b in gx.disabledControls){b=this.getControlRef_list(b);for(var c=b.length,d=0;d<c;d++)try{"button"!=b[d].type&&"submit"!=b[d].type&&(b[d].disabled=a)}catch(e){gx.dbg.logEx(e,"gxfrmutl.js","forceEnableControls")}}},alert:function(a,b){try{var c=gx.util.balloon.getNew(a.id);c.setError(b);c.show();gx.csv.invalidForcedCtrl=gx.csv.invalidForcedCtrl||{};gx.csv.invalidForcedCtrl.Ctrl=a;gx.csv.invalidForcedCtrl.ForceFocus=!1}catch(d){gx.util.alert.showError(b)}},
getGridRowMode:function(a,b){return this.getGridRowModeImpl(a,b,this.currentGridRow(b))},getGridRowModeImpl:function(a,b,c){b=this.rowIsRemoved(b,c);a=this.getControlValue("nRcdExists_"+a+"_"+c);return"1"==b?"DLT":"0"==a?"INS":"UPD"},rowIsRemoved:function(a,b){a=this.getGridObj(a);return null!=a&&(b=a.grid.getRowByGxId(b))?b.gxDeleted():!1},getGridObj:function(a,b){return gx.O.getGridById(a,b)},changeCmpContext:function(){try{gx.O.SetStandaloneVars()}catch(a){gx.dbg.logEx(a,"gxfrmutl.js","changeCmpContext")}},
initOld:function(a){void 0==gx.oldValues[a.id]&&(gx.oldValues[a.id]=a.value)},hasUnicode:function(a){return/[^\u0000-\u00ff]/.test(a)},setFocusOnError:function(a){var b=gx.fn.controlGridId(a);a=gx.csv.ctxControlId(a);b=0==b?gx.dom.el(a):gx.fn.getControlGridRef(a,b);return null!=b&&(gx.O.AnyError=1,gx.csv.anyError=!0,b.setAttribute("data-gxvalid","0"),gx.csv.stopOnError||gx.csv.invalidForcedCtrl&&gx.csv.invalidForcedCtrl.ForceFocus)?(gx.fn.setFocus(b),!0):!1},usrSetFocus:function(a){gx.usrPendingControl=
a},usrSetFocus_commit:function(){gx.usrPendingControl&&(gx.fn.usrSetFocus_impl(gx.usrPendingControl),delete gx.usrPendingControl)},usrSetFocus_impl:function(a,b){void 0===b&&(b=!0);var c=gx.fn.screen_CtrlRef(a);null==c?gx.grid.setActiveGridRow(a,0):(a=gx.dom.id(c),1==gx.csv.isvalidating()?b?gx.fx.obs.addObserver("gx.onaftervalidate",this,function(d){gx.lang.doCallTimeout(gx.fn.usrSetFocus_impl,gx.fn,[d,!1],200)}.closure(gx.fn,[a]),{single:!0}):gx.usrFocusControl=a:(gx.fn.setFocus(c),delete gx.usrFocusControl))},
setFocus:function(a,b){if(a){try{gx.popup.ispopup()&&(gx.util.browser.isIE()&&window.parent.document.selection?window.parent.document.selection.empty():window.parent.gx.csv.lastControl&&window.parent.gx.csv.lastControl.blur&&window.parent.gx.csv.lastControl.blur())}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","setFocus")}try{if(!gx.lang.emptyObject(a.id)&&(a=gx.dom.byId(a.id),!a))return;gx.fn.setFocusSafe(a,function(c){gx.fn.setSelection(c);c.forcedFocus=!0;b&&b()})}catch(c){gx.dbg.logEx(c,"gxfrmutl.js",
"setFocus")}}},setFocusSafe:function(a,b){var c=this,d=gx.csv.setFocusOnload;if(a){var e=function(r,v){try{d&&v&&gx.fx.obs.addObserver("gx.onafterfocus",this,v.closure(this,[r]),{single:!0}),r.focus()}catch(x){}!d&&v&&v(r)},h=function(){gx.lang.doCallTimeout(e,c,[a,b],d?500:0)};gx.spa.isNavigating()?gx.spa.addObserver("onnavigatecomplete",window,h,{single:!0}):h()}},setFocusInit:function(){try{gx.csv.lastActiveControl=window.document.activeElement}catch(a){}gx.csv.lastActiveControl||(gx.csv.lastActiveControl=
gx.csv.lastControl)},arrayCtrlFocus:function(a){a&&"radio"==a.type&&(a=gx.fn.getRadioSelected(a.name)||a);return a},setFocusOnload:function(a){a=void 0===a?!0:!1;gx.wpo(function(){if(!gx.pO.focusOnlyNEmb||top===self||gx.popup.ispopup()){var b=null;b=gx.pO.getUserFocus();if(!gx.lang.emptyObject(b)){if("notset"==b)return;var c=gx.pO.getUserControl(gx.uc.userControlContainerId(b));if(gx.lang.emptyObject(c))gx.csv.userFocus=gx.fn.getControlRef(b,null,!0);else{c.setFocusBase();return}}if("notset"!=gx.csv.userFocus){b=
gx.csv.userFocus;gx.fn.isAccepted(b)||(gx.csv.lastActiveControl&&gx.fn.isAccepted(gx.csv.lastActiveControl)?b=gx.csv.lastActiveControl:(b=gx.fn.firstAcceptedControl(gx.popup.ispopup()),b=gx.fn.arrayCtrlFocus(b)));try{b?(c=function(){gx.csv.setFocusOnload=!1},gx.csv.lastControl=b,gx.csv.setFocusOnload=a,gx.fn.isAccepted(b)?(gx.O&&gx.O.IsComponent&&(gx.csv.disableFocus=!0),gx.fn.setFocus(b,c)):(gx.popup.setFocus(),c())):gx.popup.setFocus()}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","setFocusOnload")}}}})},
setSelectionImpl:function(a){setTimeout(function(){document.activeElement===a&&f(a).select()},0)},setSelection:function(a){if(a&&gx.fn.isVisible(a))try{if(gx.csv.lastControl=a,(gx.dom.isEditControl(a)||"file"==a.type)&&a.select)this.setSelectionImpl(a);else if("TEXTAREA"==a.nodeName||"SELECT"==a.nodeName)a.focus(),this.setSelectionImpl(a)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","setSelection")}},isActiveCtrl:function(a,b,c){return gx.fn.isAccepted(a,b,c)||gx.TabFocusOnPrompt&&a&&a.parentElement&&"IMG"==
a.tagName&&"A"==a.parentElement.tagName},isAccepted:function(a,b,c){b=void 0===b||b;c=c||gx.O;var d=["FIELDSET"];d=null!=a&&a.type&&"hidden"!==a.type&&!a.disabled&&!a.readOnly&&!gx.util.inArray(a.nodeName,d)&&gx.fn.isVisible(a);if(!d)return!1;b&&(a=gx.dom.id(a),b=c.getValidStructFld(a),a=c.getVariable("Gx_mode"),0<gx.csv.lastGrid&&c.setVariable("Gx_mode",gx.fn.getGridRowMode(gx.fn.gridLvl(gx.csv.lastGrid),gx.csv.lastGrid)),d=!gx.lang.emptyObject(b)&&b.nac?!b.nac.call(c):!0,c.setVariable("Gx_mode",
a));return d},enterHasFocus:function(){return null==gx.csv.lastControl?!1:gx.evt.isEnterEvtCtrl(gx.csv.lastControl)},skipFocus:function(a,b){b=b||gx.csv.lastControl;var c=gx.fn.getControlIndex(b),d=c,e=this.controlGridId(b.id||b.name),h=!1;a&&gx.dom.hasClass(b,"gx_newrow")&&(d=b.gxControlIdx,h=!0);if(-1==d)return!0;var r=gx.fn.getFormElements();for(b=gx.fn.searchFocus(++d,!0);;b=gx.fn.searchFocus(++d,!0))if(null==b||d==r.length)d=-1;else{if(a)break;if(gx.evt.isEnterEvtCtrl(b))break;if("INPUT"==b.nodeName&&
"submit"!=b.type&&"button"!=b.type&&"image"!=b.type)break}!h&&e&&gx.O.isTransaction()&&this.controlGridId(b.id||b.name)!=e&&(a=gx.O.getGridById(e),b=gx.dom.byId(a.containerName+"_NewRow").parentNode,b.gxControlIdx=c);gx.fn.setFocus(b)},getFormElements:function(){return f.makeArray(f("button, fieldset, input, img, object, output, select, textarea, div[class="+gx.uc.gxCssClass+"]"))},getControlIndex:function(a){var b=gx.fn.getFormElements().length-1;return this.controlIndex(a,0,b)},controlIndex:function(a,
b,c){if(document.all){var d=gx.fn.getFormElements(),e=d[b].sourceIndex,h=d[c].sourceIndex,r=parseInt(b+(c-b)/2)+1;d=d[r].sourceIndex;if(b==c&&a.sourceIndex==e&&a.sourceIndex==h||a.sourceIndex==e)return b;if(a.sourceIndex==h)return c;if(a.sourceIndex==d)return r;if(a.sourceIndex>d&&a.sourceIndex<h)return this.controlIndex(a,r+1,c-1);if(a.sourceIndex>e&&a.sourceIndex<d)return this.controlIndex(a,b+1,r-1)}else return a.gxIndex},searchFocus:function(a,b){return b?this.searchFocusFwd(a):this.searchFocusBack(a)},
findControlToFocus:function(a){if(gx.fn.isActiveCtrl(a))return a;var b=f(a).find("div[tabindex=0]")[0];if(f(a).is("div")&&f(a).hasClass("gx_usercontrol")&&b)return b},searchFocusBack:function(a){for(var b=m(gx.fn.getFormElements());0<=a;a--){var c=this.findControlToFocus(b[a]);if(c)return c}return null},searchFocusFwd:function(a){for(var b=m(gx.fn.getFormElements()),c=b.length;a<c;a++){var d=this.findControlToFocus(b[a]);if(d)return d}return null},rowGridId:function(a){if(!a||!a.getAttribute)return null;
var b=a.getAttribute("data-gxgridid");return null!=b?b:gx.fn.rowGridId(a.parentNode)},controlRowIndex:function(a){return f(a).parentsUntil(".gx_usercontrol, .gxwebcomponent").filter("[data-gxrow]").attr("data-gxrow")||""},controlRowIdImpl:function(a){if(!a||!a.getAttribute)return null;var b=a.getAttribute("data-gxrow");return null!=b?b:gx.fn.controlRowIdImpl(a.parentNode)},controlRowId:function(a){var b=gx.fn.controlRowIdImpl(a);null===b&&a&&a.id&&0<a.id.lastIndexOf("_")&&(b=a.id.lastIndexOf("_"),
b=a.id.substring(b+1));return b},controlGridId:function(a){try{var b,c=gx.O.Grids;if(c){var d=0;for(b=c.length;d<b;d++)if(c[d].grid.columnsHtmlName[a])return c[d].gridId}var e=gx.fn.controlIds();d=0;for(b=e.length;d<b;d++){var h=gx.fn.validStruct(e[d]);if(gx.O.isSameField(h,a))return h.grid}var r=gx.O.getComponentData(a);if(r){var v=gx.fn.gridObjByLvl(r.lvl);if(v)return v.gridId}}catch(x){}return 0},oldGridId:function(a){try{for(var b=gx.fn.controlIds(),c=b.length,d=0;d<c;d++){var e=gx.fn.validStruct(b[d]);
if(void 0!=e&&e.gxold==a)return e.grid}}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","oldGridId")}return 0},saveLvlOldParm:function(a,b){var c="no_mode";null!=gx.csv.validatingGrid?this.isLvlParmOld(gx.csv.lastGrid,a)&&(c=gx.fn.getGridRowMode(gx.fn.gridLvl(gx.csv.lastGrid),gx.csv.lastGrid)):this.isLvlParmOld(0,a)&&(c=gx.O.Gx_mode);return"no_mode"==c?!0:"UPD"==c||null==gx.csv.validatingGrid?(window[a]=b,!0):!1},isLvlParmOld:function(a,b){try{var c=gx.O.getOldLvl(b);if(0<=c){if(0<a){var d=gx.fn.gridLvl(a);
return c<d}return!0}}catch(e){gx.dbg.logEx(e,"gxfrmutl.js","isLvlParmOld")}return!1},gridLvl:function(a){try{for(var b=gx.fn.controlIds(),c=b.length,d=0;d<c;d++){var e=gx.fn.validStruct(b[d]);if(void 0!=e&&void 0!=e.lvl&&e.grid==a)return e.lvl}}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","gridLvl")}return 0},lvlGrid:function(a){try{for(var b=gx.fn.controlIds(),c=b.length,d=0;d<c;d++){var e=gx.fn.validStruct(b[d]);if(void 0!=e&&e.lvl==a)return e.grid}}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","lvlGrid")}return 0},
vStructId:function(a){try{for(var b=gx.fn.controlIds(),c=0;c<b.length;c++){var d=gx.fn.validStruct(b[c]);if(void 0!=d&&d.fld==a)return b[c]}}catch(e){gx.dbg.logEx(e,"gxfrmutl.js","vStructId")}return 0},getVStruct:function(a,b){try{var c=null;b&&(c=[]);for(var d=gx.fn.controlIds(),e=d.length,h=0;h<e;h++){var r=gx.fn.validStruct(d[h]);if(void 0!=r&&a(r))if(r.id=d[h],b)c.push(r);else return r}}catch(v){gx.dbg.logEx(v,"gxfrmutl.js","getVStruct")}return c},vStructForOld:function(a){return gx.fn.getVStruct(function(b){return b.gxold==
a})},vStructForVar:function(a){return gx.fn.getVStruct(function(b){return b.gxvar==a})},vStructForVarWId:function(a,b){var c=gx.fn.getVStruct(function(r){return r.gxvar==a},!0),d=c[0],e=c.length;if(1<e)for(var h=0;h<e&&(d=c[h],d.id!=b);h++);return d},vStructForHC:function(a){return gx.fn.getVStruct(function(b){return b.hc==a})},firstCtrlAfterGrid:function(a,b){for(var c=gx.fn.lastCtrlId();a<c;a++){var d=gx.fn.validStruct(a);if(void 0!=d&&d.grid!=b)return a}return c},clearOldKeys:function(){gx.oldKeyValues=
[]},oldKey:function(a){try{return gx.oldKeyValues[a]}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","oldKey")}return""},oldGridKey:function(a,b){try{return gx.oldKeyValues[a+gx.fn.currentGridRow(b)]}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","oldGridKey")}return""},setKey:function(a,b){null!=a&&(gx.oldKeyValues[a]=b)},unsetKey:function(a){null!=a&&(gx.oldKeyValues[a]=void 0)},setGridKey:function(a,b,c){null!=a&&(gx.oldKeyValues[a+gx.fn.currentGridRow(b)]=c)},unsetGridKey:function(a,b){null!=a&&(gx.oldKeyValues[a+
gx.fn.currentGridRow(b)]=void 0)},removeGridRow:function(a,b){var c=gx.fn.rowIsRemoved(b,a);try{for(var d=gx.fn.controlIds(),e=d.length,h=0;h<e;h++){var r=gx.fn.validStruct(d[h]);if(void 0!=r&&r.grid==b){var v=gx.dom.el(r.fld+"_"+a);null!=v&&(v.gxdisabled=c,v.disabled=c)}}}catch(x){gx.dbg.logEx(x,"gxfrmutl.js","removeGridRow")}gx.evt.doAfterValidating(function(){gx.csv.validGridRow(b,a)})},controlFiresEvent:function(a){return a&&(a.evt||a.triggersEvt)},controlIds:function(a){return(a=a||gx.O)?a.getControlIds():
[]},getControlContext:function(a){var b=null;(a=gx.json.evalJSON(f(a).attr(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR)||"{}"))&&1<a.length&&(b=gx.getObj(a[0],a[1]));return b},validStruct:function(a,b){b=b||gx.O;return b.getValidStruct(a)},lastCtrlId:function(a){if(!0===a){a=this.controlIds();for(var b=a.length-1;0<=b;b--){var c=this.validStruct(a[b]);if(c.v2v&&(void 0===c.isacc||1==c.isacc))return a[b]}}else return gx.O.getLastControlId()},lastMainLevelCtrlId:function(a,b){return 0==b&&a==this.lastCtrlId(!0)},
vStructsArray:function(){return gx.O.GXValidFnc},firstAcceptedControl:function(a){try{for(var b=gx.fn.vStructsArray(),c=gx.fn.controlIds(),d=c.length,e=0;e<d;e++){var h=b[c[e]];if(null!=h){var r=gx.fn.getControlGridRef(h.fld,h.grid);if(r&&gx.fn.isAccepted(r)&&(a||"submit"!=r.type&&"image"!=r.type&&"button"!=r.type&&"fieldset"!=r.type))return r}}}catch(v){gx.dbg.logEx(v,"gxfrmutl.js","firstAcceptedControl")}return null},enableDisableDelete:function(a){var b=gx.dom.byId(gx.csv.cmpCtx+"BTN_DELETE");
null!=b&&a.isTransaction()&&gx.fn.setCtrlPropertyImpl(b,"Enabled","INS"==gx.getVar("Gx_mode")?0:1)},setFocusAfterLoad:function(a){1!=gx.csv.isvalidating()&&gx.lang.emptyObject(gx.csv.autoRefreshing)&&(a&&gx.csv.invalidateForm(),gx.csv.onloadFocus=!0,gx.lang.emptyObject(gx.usrFocusControl)||(gx.O.fromValid=gx.csv.lastId,gx.fn.setFocus(gx.dom.byId(gx.usrFocusControl)),gx.usrFocusControl=""),gx.csv.onloadFocus=!1)},disableCtrl:function(a){var b=function(c){try{for(var d=c.length,e=0;e<d;e++)gx.fn.setCtrlPropertyImpl(c[e],
"Enabled",0)}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","disableCtrl")}};a=gx.fn.getControlRef_list(a);if(null!=a)if("complete"==document.gxReadyState)b(a);else gx.evt.on_ready(this,b.closure(this,[a]))},refreshGridRowBC:function(a,b){try{var c=gx.O.getGridBC(a);if(c){var d=gx.pO.getGridForColl(c.gxvar);if(gx.csv.validatingGrid&&d&&gx.csv.validatingGrid.gridId==d.gridId)return gx.fn.setGridHidden(a,b),b=b[parseInt(gx.fn.currentGridRow(d.gridId))-1],gx.O.bcToScreen(c,b),!0}}catch(e){gx.dbg.logEx(e,"gxfrmutl.js",
"refreshGridRowBC")}return!1},refreshBC:function(a,b){b=gx.O.applySDTVarMapping(b,a);return this.refreshFormBC(a,b)||this.refreshGridRowBC(a,b)},refreshFormBC:function(a,b){try{var c=gx.O.getFormBC(a)||gx.O.getFormBCForVar(a);if(c)return gx.setVar(a,b),gx.fn.setGridHidden(a,b),gx.O.bcToScreen(c,b),!0}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","refreshFormBC")}return!1},isHidden:function(a){gx.http.viewStateLoaded||gx.http.loadState();return"undefined"!=typeof gx.http.viewState[a]},GX_HASH_PREFIX:"gxhash_",
getHash:function(a,b,c){return gx.fn.getHidden(a+gx.fn.GX_HASH_PREFIX+b+(c?"_"+c:""))||gx.fn.getHidden(a+gx.fn.GX_HASH_PREFIX+b)},getHidden:function(a){gx.http.viewStateLoaded||gx.http.loadState();return gx.http.viewState[a]},setHidden:function(a,b){gx.http.viewStateLoaded||gx.http.loadState();gx.http.viewState[a]=b},setGridHidden:function(a,b){var c=a,d=gx.fn.oldGridId(a);0<d&&(c=a+"_"+gx.fn.currentGridRowImpl(d));gx.fn.setHidden(c,b)},deleteHidden:function(a){gx.http.viewState&&delete gx.http.viewState[a]},
setJsonHiddens:function(a,b,c){var d=[];c=void 0===c||c;for(var e in b){c?gx.fn.setGridHidden(e,b[e]):gx.fn.setHidden(e,b[e]);var h=gx.fn.getVarControlMap(a,e);var r=b[e];if(!gx.lang.emptyObject(h)){if(a){var v=a.VarControlMap[h];if("date"==v.type||"dtime"==v.type)r=new gx.date.gxdate(b[e],"Y4MD")}gx.setVar(h,r)}gx.fn.vStructForOld(e)&&gx.setVar(e,r);a&&a.UCBindingsHiddens[e]&&(d=d.concat(gx.O.UCBindingsHiddens[e].uc))}return d},filterHiddens:function(a,b){var c={},d;for(d in b)d&&0==d.search(a)&&
(c[d]=b[d]);return c},autoRefreshingControl:function(a,b){return!gx.lang.emptyObject(gx.csv.autoRefreshing)&&null!=gx.csv.lastControl&&gx.csv.lastControl.id==b+a},setJsonValues:function(a,b,c,d,e){if(!a)return[];for(var h=gx.O,r=a.length,v=[],x,D,k=0;k<r;k++){var p=a[k],w=p.CmpContext,q=gx.lang.booleanValue(p.IsMasterPage),C=gx.setGxO(w,q);if(!gx.lang.emptyObject(gx.O))for(var B in p)if("CmpContext"!=B&&"IsMasterPage"!=B&&(!e||e(B))){var N=p[B];if(("object"!=typeof N||!gx.fn.refreshBC(B,p[B]))&&"function"!=
typeof N){var u=gx.fn.vStructForVar(B)||gx.O.getValidStructFld(B);if(u){if(u.v2v&&!gx.fn.autoRefreshingControl(u.fld,w)){var y=gx.O.getGridById(u.grid);y=y&&y.InfiniteScrolling;0!=u.grid&&(x=gx.dom.el(B,!1,!1),x=gx.fn.controlRowId(x)||(u.grid==c?d:gx.fn.currentGridRow(u.grid)));y||(u.v2v(N),gx.fn.v2c(u,N,!1,x))}}else"GX_FocusControl"!=B||b?(u=gx.fn.vStructForHC(B),gx.lang.emptyObject(u)||gx.lang.emptyObject(u.hc)||u.grid||(u.hc==B?(C[u.hc]=N,gx.fn.setHidden(w+"GXH_"+u.fld,N)):u.hd==B&&(C[u.hd]=N)),
gx.lang.emptyObject(u)||(D="",0!=u.grid&&(D=u.grid==c?d:gx.fn.currentGridRow(u.grid)),gx.fn.setHidden(w+"GXHC"+u.fld+"_"+D,N)),D=gx.fn.getVarControlMap(C,B),gx.lang.emptyObject(D)?gx.setVar(B,N):gx.setVar(D,N),u&&!y&&gx.fn.call_v2bc(u,C),gx.fn.setGridHidden(B,N),gx.O.UCBindings[B]&&(gx.O.v2UC(B),v=v.concat(C.UCBindings[B].uc))):h.CmpContext==w&&h.IsMasterPage==q&&(gx.usrFocusControl=N)}}}gx.setGxO(h);return v},getPropertyControlRef:function(a,b,c){var d=gx.fn.getControlRef(a,!0);d=null!=d||c?d:gx.dom.byId("Object_"+
a);null==d&&(d=gx.fn.screen_CtrlRef(gx.csv.ctxControlId(a)));null==d&&b&&(d=gx.dom.el(a+"_"+b));return d},isColumnProperty:function(a){return"title titlebackcolor titlebackstyle titlefontbold titlefontitalic titlefontname titlefontsize titlefontstrikethru titlefontunderline titleforecolor titleformat columnheaderclass".split(" ").includes(a.toLowerCase())},setJsonProperties:function(a,b){if(!a)return[];for(var c=gx.O,d=a.length,e=[],h=0;h<d;h++){var r=a[h],v=r.CmpContext,x=gx.lang.booleanValue(r.IsMasterPage);
v=gx.setGxO(v,x);if(!gx.lang.emptyObject(gx.O))for(var D in r)if("CmpContext"!==D&&"IsMasterPage"!==D&&""!==D&&(x=r[D],"function"!=typeof x)){var k=v.getValidStructFld(D);if("FORM"==D||k||0<=D.indexOf("gxHTMLWrp")||0<=D.indexOf("ContainerDiv")){var p=k&&("bits"==k.type||"bitstr"==k.type||"audio"==k.type||"video"==k.type||"binaryfile"==k.type);p=gx.fn.getPropertyControlRef(D,b,!p)}else p=gx.fn.getPropertyControlRef(D,b);var w=!1;if(p&&p.gxGridName){var q=gx.fn.gridObjFromGxO(p.gxGridName);w=q.setProperty(x)}if(!w){var C=
b||(k&&k.grid?gx.fn.currentGridRow(k.grid):"");w=v.getGridColumn(D,C);if((null==p||q)&&gx.uc.isUserControl(D,v)||w&&w.isUserControl)k=D,w&&w.isUserControl&&(k=D+"_"+C),gx.uc.setProperties(k,x),e.push(gx.uc.getUserControlObj(gx.uc.userControlContainerId(k)));else if(null!=p||null!=w)for(var B in x)if(gx.fn.isColumnProperty(B))w&&gx.fn.setCtrlProperty(w,B,x[B],k);else if(p)if(p.parentElement||(p=gx.fn.getPropertyControlRef(D,C)),"object"===typeof x[B])for(var N in x[B])gx.fn.setCtrlProperty(p,N,x[B][N],
k);else gx.fn.setCtrlProperty(p,B,x[B],k)}}}gx.setGxO(c);return e},loadJsonGrids:function(a,b,c){c=c||[];var d=[],e=function(E){for(var J=0;J<E.length;J++)if("string"===typeof E[J])return E[J];return""},h=function(E){var J="",G=E.lastIndexOf("_");-1!==G&&(J=(E=E.substring(G+5))?"_"+E:"");return J},r=function(E,J,G){for(var I=0;I<E.Count;I++){var L=E[I],O;for(O in L.Grids)(L=gx.fn.gridObj(J,O+"_"+gx.text.padl((I+1).toString(),4,"0"),!1))&&L.isUsercontrol&&G.push({cmpCtx:J,gridName:O+"_"+gx.text.padl((I+
1).toString(),4,"0"),inMasterPage:!1})}},v=[];if(a)for(var x=a.length,D,k=0;k<x;k++)try{var p=a[k];if(void 0!=p.Count){var w=p.CmpContext,q=p.GridName,C=gx.csv.validatingGrid;if(gx.pO.fullAjax||gx.lang.emptyObject(C)||C.gxComponentContext!=w&&C.gridName!=q||!gx.lang.emptyObject(C.boundedCollType)){var B="true"==p.InMasterPage?!0:!1,N="",u="";p[0]&&p[0].Props&&p[0].Props[0]&&gx.lang.isArray(p[0].Props[0])&&(u=e(p[0].Props[0]));N=h(u);if(D=gx.fn.gridObj(w,q+N,B))r(p,w,v),v.push({cmpCtx:w,gridName:q+
N,inMasterPage:B}),b?gx.O.Grids[D.gridName]&&gx.O.Grids[D.gridName].parentGrid||d.push(D.loadGrid({rowProps:p,isPostback:b})):D.updatePropsHidden(p)}}}catch(E){gx.dbg.logEx(E,"gxfrmutl.js","loadJsonGrids")}v=v.filter(function(E){return(E=gx.fn.gridObj(E.cmpCtx,E.gridName,E.inMasterPage))&&E.isUsercontrol});v=gx.lang.arrayUnique(v,function(E,J){return E.gridName===J.gridName});var y=[];for(k=0;k<v.length;k++)a=v[k],(a=gx.fn.gridObj(a.cmpCtx,a.gridName,a.inMasterPage))&&a.grid&&(a.grid.ownerGrid&&a.grid.ownerGrid.parentGrid?
y.push(a.grid):c.push(a.grid));var H=f.Deferred();f.when.apply(f,d).done(function(){gx.dom.indexElements();H.resolve(y)});return H.promise()},getErrorViewerCtrls:function(){var a=gx.dom.byClass("gx_ev");if(0==a.length){a=[];for(var b=gx.dom.byTag("span"),c=b.length,d=0;d<c;d++)"gxErrorViewer"==b[d].getAttribute("data-gx-id")&&a.push(b[d])}return a},setErrorViewer:function(a,b){b=void 0===b||b;gx.O.AnyError=0;if(a)try{gx.fx.obs.notify("gx.onmessages",[a]);var c=gx.dom.byClass("gx_ev"),d=c.length,e;
for(e in a){var h=a[e];if(!gx.lang.isArray(h)){var r=h.fields;h=h.msgs}var v=[];if(r)for(var x=0,D=r.length;x<D;x++)if(!gx.lang.isArray(r[x])){var k=gx.fn.vStructForVar(r[x].replace(/^gx\.O\./,""));k&&v.push(k.fld)}"MAIN"==e&&(e="");if("undefined"!=typeof h){for(x=0;x<d;x++){var p=c[x];if(p&&p.getAttribute("data-gx-id")==e+"gxErrorViewer"){var w=gx.csv.setFocusOnload?p.innerHTML:"";break}}var q={},C=!1,B;for(B in h){var N=h[B];N&&1==N.type&&(gx.O.AnyError=1);if(!gx.lang.emptyObject(N.text)&&"function"!=
typeof N){var u=gx.fn.screen_CtrlRef(N.att),y=u&&f(u).is("[data-gxgridid].gx-invisible "+u.tagName);if(""!=N.att&&(y&&gx.fn.isVisible(u,0)||gx.fn.isVisible(u))){var H=q[N.att];H||(H=gx.util.balloon.getNew(N.att,void 0,N.id?v:[]),q[N.att]=H);1==N.type?H.setError(N.text):H.setMessage(N.text);C||"ForeignKeyNotFound"!==N.id||(C=!0)}else if("ForeignKeyNotFound"===N.id&&!C||"ForeignKeyNotFound"!==N.id){var E=1==N.type?"gx-error-message":"gx-warning-message";if("SuccessfullyAdded"===N.id||"SuccessfullyDeleted"===
N.id||"SuccessfullyUpdated"===N.id)E="gx-success-message";w+='<div class="'+E+'">'+gx.html.encode(N.text)+"</div>"}}}C=!1;for(var J in q)if(H=q[J],0!=H.show()||C||(C=!0,gx.fn.setFocusOnError(J)),gx.csv.oneAtAtime)break;for(x=0;x<d;x++)if((p=c[x])&&p.getAttribute("data-gx-id")==e+"gxErrorViewer"&&p.innerHTML!=w&&(gx.dom.shouldPurge()&&gx.dom.purge(p,!0),p.innerHTML=b?w:p.innerHTML+w,""!=w)){var G=gx.fx.dom.highlight(p,[255,255,165],2500);G.play();p.effect=G}}}gx.plugdesign.applyTemplateObject({templateSelector:function(I){return"errorviewer"===
I.name},classMapSelector:function(){return!1}});gx.config.csv.scrollTopOnError&&gx.O.AnyError&&!C&&window.scrollTo(0,0)}catch(I){gx.dbg.logEx(I,"gxfrmutl.js","setErrorViewer")}},cmpContextFromCtrl:function(a){var b=n.exec(a);return b?b[1]+b[2]:a},clearCompontHiddens:function(a){var b=[],c;for(c in a)"function"!=typeof a[c]&&b.push(gx.fn.cmpContextFromCtrl(c));try{gx.O.deleteComponentHiddens(b)}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","clearCompontHiddens")}},setJsonComponents:function(a,b,c,d,e){try{var h=
[],r=!1,v=[],x;for(x in a)if(v.push(x),"function"!=typeof a[x])try{var D=a[x];if(D){var k=gx.dom.byId(x);!k&&b&&(k=gx.dom.byId(b[x]));gx.lang.emptyObject(k)&&(f(document.body).append("<div id='"+x+"'></div>"),k=gx.dom.byId(x));if(!gx.lang.emptyObject(k)){k.id&&(gx.fx.obs.deleteObserverByKey(k.id),gx.evt.removeHookByKey(k.id));gx.html.setInnerHtml(k,D,!1,e);var p=gx.fn.cmpContextFromCtrl(x),w=g(gx.fn.getHidden(p+"_CMPPGM"));h.push({type:p,name:w,html:D,container:k})}}}catch(q){r=!0,gx.dbg.logEx(q,
"gxfrmutl.js","setJsonComponents")}}catch(q){r=!0,gx.dbg.logEx(q,"gxfrmutl.js","setJsonComponents")}0!=h.length&&!r||"function"!=typeof d?(a=f.map(h,function(q){return gx.fn.createComponentAsync(q,c)}),f.when.apply(f,a).done(function(){d(v)})):d(v)},cmpRegexCache:{},getCmpRegex:function(a){var b=this.cmpRegexCache[a];this.cmpRegexCache[a]||(b=new RegExp("^"+a),this.cmpRegexCache[a]=b);return b},processCodeCallback:function(a,b,c,d,e,h){gx.fn.createComponentObj(a,b,d);gx.fn.setJsonHiddens(e,c);h.resolve()},
createComponentAsync:function(a,b){var c=f.Deferred(),d=a.type,e=a.name,h=a.html;a=a.container;c.then(function(){gx.fx.obs.notify("gx.onafterevent",[gx.csv.lastEvtResponse])});try{var r=gx.O,v=gx.fn.filterHiddens(gx.fn.getCmpRegex(d),b);gx.cache.codeLoaded(d+e)?(gx.fn.createComponentObj(e,d,a),gx.fn.setJsonHiddens(r,v),c.resolve()):(gx.cache.addInlineCode(d+e),gx.html.processCode(h,!1,gx.html.onTypeAvailable,[e,gx.fn.processCodeCallback,[e,d,v,a,r,c],0],e))}catch(x){gx.dbg.logEx(x,"gxfrmutl.js","createComponentAsync"),
c.resolve()}return c},createComponentObj:function(a,b,c){a=gx.createComponent(a,b,c);null!=a&&gx.addComponent(a)},cleanAttachedCtrls:function(a){gx.attachedControls=[]},getAttachedCtrl:function(a){for(var b=gx.attachedControls.length,c=0;c<b;c++){var d=gx.attachedControls[c];if(d.id==a)return d}return null},attachCtrl:function(a,b){null==gx.fn.getAttachedCtrl(a)&&gx.attachedControls.push({id:a,info:b})},doAttachs:function(a){var b=gx.fn.attachedControls(),c=b.length,d=gx.O;a=a&&a.length?f.map(a,gx.fn.cmpContextFromCtrl):
void 0;var e,h;for(h=0;h<c;h++){var r=b[h];if(!a||0<=f.inArray(r.info.wc,a)){var v=gx.setGxO(r.info.wc,r.info.mp);if(r.info.isPrompt&&v.isTransaction()&&"DSP"==v.Gx_mode)gx.fn.setCtrlPropertyImpl(gx.dom.el(r.info.wc+r.info.id),"Visible",!1);else if(!r.attached){v=r.info.controls;var x=v.length;var D=[];for(e=0;e<x;e++){gx.fn.addAttach(v[e],r);var k=gx.fn.validStruct(v[e]);gx.fn.checkAttachedPropertyVS(k,"Visible",!1);gx.fn.checkAttachedPropertyVS(k,"Enabled",!1);D.push(k.fld)}r.attached=!0;f("#"+
r.id).attr("data-gx-attached-ctrl",D.join(" "))}}}gx.setGxO(d);gx.fn.setPromptlisteners()},setPromptlisteners:function(a){gx.TabFocusOnPrompt&&f("[data-gx-attached-ctrl]",a).not("[gxfocusable]").parent().on("focus",gx.evt.promptFocus).on("mousedown",gx.evt.promptMousedown).attr("gxfocusable","1")},clearPromptlisteners:function(a){f("[data-gx-attached-ctrl]",a).parent().off("focus").off("mousedown")},addAttach:function(a,b){a=gx.fn.validStruct(a);void 0==a.attachedCtrls&&(a.attachedCtrls=[]);a.attachedCtrls.push(b)},
checkAttachedProperty:function(a,b,c){gx.fn.checkAttachedPropertyVS(gx.O.getValidStructFld(a),b,c)},checkAttachedPropertyVS:function(a,b,c){if(void 0!=a&&(a=a.attachedCtrls,void 0!=a))for(var d=a.length,e=0;e<d;e++)gx.fn.checkAttachedControlProperty(a[e],b,c)},checkAttachedControlProperty:function(a,b,c){var d=a.info.id;a=a.info;var e=!0,h=a.controls;a=a.wc;for(var r=h.length,v=0;v<r;v++){var x=gx.fn.getCtrlProperty(a+gx.fn.validStruct(h[v]).fld,b);e=c?x==c:e&&x==c;if(c&&e)break}e&&gx.fn.setCtrlPropertyImpl(gx.dom.el(a+
d),b,c)},changeControlOpacity:function(a,b,c,d){var e=Math.round(d),h="";h="string"==typeof a?a:a.id;b>c?(gx.fn.setOpacity(b,h),setTimeout(function(){gx.fn.changeControlOpacity(a,b-10,c,d)},e)):b<c?(gx.fn.setOpacity(b,h),setTimeout(function(){gx.fn.changeControlOpacity(a,b+10,c,d)},e)):gx.fn.setOpacity(c,h)},setOpacity:function(a,b){var c=b;"string"==typeof b&&(c="body"==b?document.body:gx.dom.el(b));null!=c&&(b=c.style,c="reset"==a?"":a/100,b.opacity=c,b.MozOpacity=c,b.filter="alpha(opacity="+("reset"==
a?100:a)+")")},fadeControl:function(a,b,c){"in"==b?gx.fn.changeControlOpacity(a,0,100,c):gx.fn.changeControlOpacity(a,100,0,c)},fadeIn:function(a,b){gx.fn.fadeControl(a,"in",b)},statusMsg:function(a){window.status=a},objectOnload:function(a,b){var c=document.documentElement,d=null;try{d=window.top.document.documentElement}catch(v){}d&&c!=d&&gx.dom.getAttributeNames(d).filter(function(v){return v.startsWith("gx-data-")}).forEach(function(v){return c.setAttribute(v,d.getAttribute(v))});var e=f(document.body),
h="true"===e.attr("data-HasEnter"),r="true"===e.attr("data-Skiponenter");gx.evt.onkeypress_hdlr=gx.evt.onkeypress_hdlr||function(v){gx.evt.onkeypress(v,h,r)};gx.evt.attach(document,["keydown"],gx.evt.onkeypress_hdlr);f(document).on("input",function(v){gx.evt.oninput(v)});f(document).on("keyup",function(v){gx.evt.onkeyup(v)});f(document).on("keyup",'input[type="text"], input[type="password"], input[type="email"], input[type="number"], input[type="search"], input[type="url"], textarea',function(v){var x=
v.target.id+" + "+v.target.value;gx.evt.cvcingContext!==x&&(gx.evt.cvcingContext=x,gx.evt.oncontrolvaluechanging(v))});f(document).on("paste",'input[type="text"], input[type="password"], input[type="email"], input[type="number"], input[type="search"], input[type="url"], textarea',function(v){gx.evt.oncontrolpasting(v)});null!=gx.pO&&(gx.pO.onload(a,b),gx.setGxO(gx.pO))},objectOnUnload:function(a){if(null!=gx.pO)gx.pO.onunload(a)},objectOnpost:function(){if(null!=gx.pO)gx.pO.onpost()},objectPostback:function(a,
b){null!=gx.pO&&(gx.pO.postbackLoad(a,b),gx.fx.obs.notify("gx.onobjectpostback",arguments))},gridObjFromGxO:function(a){return gx.fn.gridObj(gx.O.CmpContext,a,gx.O.IsMasterPage)},gridObj:function(a,b,c){return(a=gx.getObj(a,c))?a.getGrid(b):null},installComponents:function(a,b){var c=gx.fn.getHidden("GX_CMP_OBJS");if(void 0!=c)for(var d in c)if(a||!gx.pO.getWebComponent(d)){var e=g(c[d].toLowerCase());e=gx.createComponent(e,d);null!=e&&(gx.addComponent(e,b),setTimeout(function(h){this.addComponentRemoteFiles(h)}.closure(this,
[e]),1))}},addComponentRemoteFiles:function(a){if(a=a.getContainer())gx.html.processCode(a.innerHTML,!0),gx.dom.fitToParent(a)},datePickerFormat:function(a,b,c){var d=gx.dateFormat,e=d.substr(0,1),h=d.substr(1,1);d=d.substr(2,1);e=gx.fn.datePickerDateFormat(e,a);h=gx.fn.datePickerDateFormat(h,a);a=gx.fn.datePickerDateFormat(d,a);d=gx.fn.datePickerTimeFormat(b);return 0<c&&0<b?e+"/"+h+"/"+a+" "+d:0<c?e+"/"+h+"/"+a:d},datePickerDateFormat:function(a,b){return"Y"==a&&"99/99/9999"==b.substr(0,10)?"%Y":
"Y"==a?"%y":"M"==a?"%m":"D"==a?"%d":""},datePickerTimeFormat:function(a){var b=gx.timeFormat;if(12==b){b="%I";var c=" %p"}else b=24==b?"%H":"",c="";if(2==a)a="";else if(5==a)a=":%M";else if(8==a)a=":%M:%S";else return"";return b+a+c},installDatePicker:function(a,b,c,d,e,h,r,v,x,D){(new gx.ui.controls.datePicker({inputId:a,triggerId:a+"_dp_trigger",inline:d,inputType:e?"datetime":"date",weeksNumbers:h,mondayFirst:r,format:v,datePartLength:x,timePartLength:D,afterChange:gx.fn.datePickerChanged,vStruct:b,
gxO:c})).render()},datePickerChanged:function(a,b,c,d,e){if(!a||a.dateClicked){e=e||gx.O;if("undefined"===typeof d)for(var h=gx.fn.controlIds(),r=h.length,v=0;v<r;v++){d=gx.fn.validStruct(h[v]);var x=0!=d.grid?"_"+gx.fn.currentGridRow(d.grid):"";if(c.id==e.CmpContext+d.fld+x)break}null!=d&&void 0!=d.dp&&(b=gx.date.isNullDate(b)?gx.date.nulldate_toc(d.len,d.dec):b.print(gx.fn.datePickerFormat(d.dp.pic,d.dp.dec,d.len)),b!=c.value&&(c.setAttribute("data-gxvalid","0"),c.value=b,c.onchange(),a&&a.callCloseHandler(),
0<d.grid&&(gx.fn.getGridObj(d.grid)||d.gxgrid).setRowModified(gx.fn.currentGridRow(d.grid)),e.refreshDependantGrids(d)))}},toArray:function(a){if(gx.util.browser.isIE()&&8>=gx.util.browser.ieVersion()){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return Array.prototype.slice.call(a)},evalCtxScope:function(a,b){var c=gx.O;gx.setGxO(a);a=eval(b);a instanceof Object&&(a=gx.json.serializeJson(a));gx.setGxO(c);return a}}}(gx.$);
Function.prototype.closure=function(f,n,g){var m=gx.util.browser;if(m.isIE()&&8>m.ieVersion()){window.__objs||(window.__objs=[],window.__funs=[],window.__args=[]);var a=this,b=f.__objId;b||(__objs[b=f.__objId=__objs.length]=f);var c=a.__funId;c||(__funs[c=a.__funId=__funs.length]=a);n||(n=[]);var d=n.__argsId;d||(__args[d=n.__argsId=__args.length]=n);n=a=f=null;return function(){if(__funs){var e=__args[d];!0===g&&(e=Array.prototype.slice.call(arguments,0),e=e.concat(__args[d]));0==e.length&&0<arguments.length&&
(e=arguments);e=__funs[c].apply(__objs[b],e);if(__objs)try{delete __objs[b].__objId}catch(h){__objs[b].__objId=null}__funs&&delete __funs[c].__funId;__args&&delete __args[d].__argsId;return e}}}a=this;return function(){var e=n||arguments;!0===g&&(e=Array.prototype.slice.call(arguments,0),e=e.concat(n));return a.apply(f||window,e)}};
gx.thread={Map:function(){this.map={};this.add=function(f,n){this.map[f]=n};this.remove=function(f){delete this.map[f]};this.get=function(f){return null==f?null:this.map[f]};this.first=function(){return this.get(this.nextKey())};this.next=function(f){return this.get(this.nextKey(f))};this.nextKey=function(f){for(var n in this.map){if(!f)return n;f==n&&(f=null)}return null}},Command:function(f,n,g){gx.thread.Command.LastID||(gx.thread.Command.LastID=0);this.id=++gx.thread.Command.LastID;this.execute=
function(){n.apply(f,g)};this.syncExecute=function(){new gx.thread.Mutex(this,"execute")}},Mutex:function(f,n,g,m){gx.thread.Mutex.Wait||(gx.thread.Mutex.Wait=new gx.thread.Map);gx.thread.Mutex.SLICE=function(a,b){gx.thread.Mutex.Wait.get(a).attempt(gx.thread.Mutex.Wait.get(b))};this.attempt=function(a){for(var b;a;a=gx.thread.Mutex.Wait.next(a.c.id))if(a.enter||a.number&&(a.number<this.number||a.number==this.number&&a.c.id<this.c.id))return setTimeout("gx.thread.Mutex.SLICE("+this.c.id+","+a.c.id+
")",10);try{b=this.c.execute()}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","Mutex Call")}this.number=0;gx.thread.Mutex.Wait.remove(this.c.id);if("function"==typeof m)try{m.call(f,b)}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","Mutex CallBack")}};this.c=new gx.thread.Command(f,n,g);gx.thread.Mutex.Wait.add(this.c.id,this);this.enter=!0;this.number=(new Date).getTime();this.enter=!1;this.attempt(gx.thread.Mutex.Wait.first())}};gx.INTERACTIVE_EVT="gx.onInteractive";gx.PARENT_OBJECT_EVT="gx.onCreateParentObject";
gx.SETMASTERPAGE_EVT="gx.onSetMasterPage";gx.ONREADY_EVT="gx.onready";gx.ONAFTERLOAD_EVT="onafterload";gx.ONAFTERGALOAD_EVT="onaftergaload";gx.isInteractive=!1;gx.isReady=!1;gx.getActiveContext=function(){var f=window;gx.popup.getPopup()&&gx.popup.getPopup().frameWindow&&(f=gx.popup.getPopup().frameWindow);return f};gx.isReadyUI_impl=function(f){return 1>f.gx.evt.userReadyCnt&&f.gx.evt.userReadyThresholdWait()&&f.gx.isInputEnabled()&&(f.gx.ajax.isFormEnabled()||null!=gx.popup.getPopup())};
gx.isReadyUI=function(){return gx._isReadyUI()};gx._isReadyUI=function(){return gx.isReadyUI_impl(gx.getActiveContext())};gx.goInteractive=function(){gx.isInteractive=!0;gx.fx.obs.notify(gx.INTERACTIVE_EVT)};gx.goReady=function(f){gx.isReady=!0;gx.fx.obs.notify(gx.ONREADY_EVT,[],f)};gx.goOnload=function(){gx.isLoaded=!0;gx.fx.obs.notify(gx.ONAFTERLOAD_EVT)};gx.observe_run=function(f,n,g,m){g[m]=function(a,b,c){c=c||[];f()?a.apply(b,c):gx.fx.obs.addObserver(n,b,a.closure(b,c),{single:!0})}};
gx.observe_run(function(){return gx.isLoaded},gx.ONAFTERLOAD_EVT,gx,"ol");gx.observe_run(function(){return gx.isReady},gx.ONREADY_EVT,gx,"wr");gx.observe_run(function(){return gx.pO&&gx.pO.MasterPage},gx.SETMASTERPAGE_EVT,gx,"wmp");gx.observe_run(function(){return gx.isInteractive},gx.INTERACTIVE_EVT,gx,"wi");gx.observe_run(function(){return gx.pO},gx.PARENT_OBJECT_EVT,gx,"wpo");gx.observe_run(function(){return window.gtag},gx.ONAFTERGALOAD_EVT,gx,"wga");gx.isabsoluteurl=function(f){return-1!==f.search("://")};
gx.isRelativeToHost=function(f){return"/"==f.substr(0,1)};gx.absoluteurl=function(f){return gx.isabsoluteurl(f)?f:"/"!==f.charAt(0)?gx.util.resourceUrl(f,!0):location.protocol+"//"+location.host+f};gx.timeoutActions={ignore:0,warn:1};
gx.uc=function(f){var n=/^_gx_image_resource_/,g=function(a){if("string"===typeof a)return gx.util.imageUrl(a);Array.isArray(a)&&(a=a.map(function(e){return g(e)}));if("object"===typeof a)for(var b=$jscomp.makeIterator(Object.entries(a)),c=b.next();!c.done;c=b.next()){var d=$jscomp.makeIterator(c.value);c=d.next().value;d=d.next().value;a[c]=g(d)}return a},m={};return{PostRenderScripts:m,gxCssClass:"gx_usercontrol",getNew:function(a,b,c,d,e,h,r,v,x,D){try{var k=eval(d);gx.lang.inherits(k,gx.uc.UserControl,
!0);var p=new k(f)}catch(w){gx.dbg.logEx(w,"gxfrmutl.js","getNew UserControl "+d),p=new gx.uc.UserControl}p.ContainerName=e;p.DesignContainerName=e;p.LabelForAttValue=a.CmpContext+h.toUpperCase()+(x?"_"+D:"");p.setupControl(a,h,r,b,c,v,x,D);return p},fromChild:function(a){var b=gx.pO.getUsercontrolFromChild(a);if(null!=b||gx.pO.hasMasterPage()&&(b=gx.pO.MasterPage.getUsercontrolFromChild(a),null!=b))return b;for(var c=gx.pO.WebComponents.length,d=0;d<c;d++)if(b=gx.pO.WebComponents[d].getUsercontrolFromChild(a),
null!=b)return b;return null},getUserControlObj:function(a){var b=gx.O.getUserControl(a);if(gx.lang.emptyObject(b)){if(gx.pO.hasMasterPage()&&(b=gx.pO.MasterPage.getUserControl(a),!gx.lang.emptyObject(b)))return b;for(var c=gx.pO.WebComponents.length,d=0;d<c&&(b=gx.pO.WebComponents[d].getUserControl(a),gx.lang.emptyObject(b));d++);}return b},CtrlId:function(a){return a.replace(/Container$/,"")},userControlContainerId:function(a){var b=a+"Container";if(0<=a.indexOf("ContainerDiv"))return a;var c=gx.O.getValidStructFld(a);
if(c){var d=gx.O.rowPatternRegex.exec(a);d=d?d[1]:null;if(c="function"===typeof c.getUCInstance?c.getUCInstance(d):c.uc)b=c.ContainerName}return b&&(c=a.lastIndexOf("_"),-1!=c&&(a=b+a.substring(c),null!=gx.dom.byId(a)))?a:b},setProperties:function(a,b){a=gx.uc.getUserControlObj(gx.uc.userControlContainerId(a));if(null!=a)if(void 0!=b.length)for(var c=b.length,d=0;d<c;d++)for(var e in b[d]){var h=b[d][e];a[e]=h}else for(e in b)h=b[e],a[e]=h},isUserControl:function(a,b){b=b||gx.O;return gx.lang.emptyObj(b.UserControls)?
!1:a instanceof gx.uc.UserControl?!0:(a=gx.dom.byId(gx.uc.userControlContainerId(a)))&&"DIV"===a.tagName&&gx.dom.hasClass(a,gx.uc.gxCssClass)?!0:!1},StartRender:function(){m={}},pushPostRenderScripts:function(a){f.each(a&&a.Scripts||[],function(b,c){m[c]=c})},EndRender:function(){var a=gx.lang.objToArray(m);a=f.map(a,function(b){return gx.util.resourceUrl(gx.util.resolveUrl(b),!1)});gx.http.loadScripts(a,gx.emptyFn,0,!0)},isImageResourcePty:function(a){return gx.text.startsWith(a,"_gx_image_resource_")},
getComputedImagePath:function(a){try{var b=getComputedStyle(document.documentElement).getPropertyValue("--GX-Image_"+a)||"";if(b=b.replaceAll("\\","").replace(/\s*url\((.+?)\)/,"$1"))gx.uc.UserControl.theme_el=gx.uc.UserControl.theme_el||gx.getThemeElement(),b=(new URL(b,gx.uc.UserControl.theme_el.href.toString())).toString()}catch(c){}return b},getClientProperty:function(a,b){var c=b,d=a;gx.uc.isImageResourcePty(a)&&(d=a.replace(n,""),c=gx.uc.getComputedImagePath(b));return{name:d,value:c}},UserControl:function(){this.ParentObject=
null;this.GridRow=this.GridId="";this.ControlLvl=this.ControlId=0;this.ControlName=this.ContainerName="";this.LastIdBefore=0;this.Properties=[];this.DynProperties=[];this.PropTypes=[];this.ValidFunctions=[];this.V2CFunctions=[];this.C2VFunctions=[];this.IsPostBack=this.RealControl=this.C2ShowFunction=null;this.clearFunctions=function(){this.ValidFunctions=[];this.V2CFunctions=[];this.C2VFunctions=[];this.C2ShowFunction=null};this.me=function(){return"gx.getObj('"+this.ParentObject.CmpContext+"', "+
this.ParentObject.IsMasterPage.toString()+").getUserControl('"+this.ContainerName+"')"};this.getChildContainer=function(a){var b=""!=this.GridRow?"_"+this.GridRow:"",c=this.DesignContainerName+this.ControlName+"_"+a+b;c=gx.dom.byId(c);c||(c=this.DesignContainerName+a+b,c=gx.dom.byId(c));return c};this.getContainerControl=function(){return gx.dom.byId(this.ContainerName)};this.getRealControl=function(){return this.RealControl?this.RealControl:this.getContainerControl()};this.setupControl=function(a,
b,c,d,e,h,r,v){this.ParentObject=a;this.ControlName=b;this.ControlId=d;this.LastIdBefore=e;this.ControlLvl=void 0!=h?h:0;this.GridId=void 0!=r?r:0;this.GridRow=void 0!=v?v:"";gx.util.pushOnceSorted(this.ControlId,this.ParentObject.GXCtrlIds);var x=v||"_norow",D=this.ParentObject.GXValidFnc[this.ControlId];D||(this.ParentObject.GXValidFnc[this.ControlId]={id:this.ControlId,lvl:this.ControlLvl,fld:c,grid:this.GridId,op:[],ip:[],isuc:!0,uc:this,fnc:this.validateControl},D=this.ParentObject.GXValidFnc[this.ControlId]);
D=this.ParentObject.GXValidFnc[this.ControlId];D.ucInstances=D.ucInstances||{};D.ucInstances[x]=this;D.getUCInstance=function(k){k=k||x;return D.ucInstances[k]}};this.addValidFunction=function(a,b,c){this.ValidFunctions.push(a);this.ParentObject.addUsercontrolBinding(b,c+(""==this.GridRow?"":"_"+this.GridRow),this)};this.validateControl=function(){gx.csv.validatingUC=this;for(var a=this.ValidFunctions.length,b,c=0;c<a;c++)if((b=this.ValidFunctions[c])&&!b.call(gx.O))return gx.O.AnyError=1,gx.csv.validatingUC=
null,!1;gx.csv.validatingUC=null;return!0};this.attachEvents=function(){try{var a=this.getContainerControl();if(gx.lang.emptyObject(document.frames))a.onfocus=this.onfocus,this.RealControl=a;else{var b=document.frames.length;if(0<b){var c=0;for(c=0;c<b;c++){var d=document.frames[c];if(1==gx.dom.isChildNode(d,a)){d.frameElement.onfocus=this.onfocus;this.RealControl=d.frameElement;break}}}}}catch(e){gx.dbg.logEx(e,"gxfrmutl.js","attachEvents")}};this.onfocus=function(){gx.evt.onfocus(this.getRealControl(),
this.ControlId,this.ParentObject.CmpContext,this.ParentObject.IsMasterPage,this.GridRow,this.GridId);gx.csv.lastId=this.ControlId;gx.csv.anyError||this.setFocusBase()};this.oninput=function(){this.autoRefreshFn&&this.autoRefreshFn()};this.onchange=function(){0<this.GridId&&gx.fn.getGridObj(this.GridId).setRowModified(gx.fn.currentGridRow(this.GridId))};this.setFocusBase=function(){"function"==typeof this.setFocus&&this.setFocus()};this.setHtml=function(a){gx.dom.shouldPurge()&&gx.dom.purge(this.getContainerControl(),
!0);this.getContainerControl().innerHTML=a};this.createWebComponent=function(a,b,c,d,e){this.ParentObject.createWebComponent(a,b,c,this.GridRow,d,e)};this.deleteWebComponent=function(a){a=gx.fn.cmpContextFromCtrl(a);this.ParentObject.deleteComponent(a)};this.notifyContext=function(a,b){gx.fx.ctx.notify(null,a,b)};this.addV2CFunction=function(a,b,c,d){if("function"==typeof a){var e=b;this.V2CFunctions.push(a);var h=gx.fn.getVarControlMap(this.ParentObject,e);void 0!==h&&this.ParentObject.addUsercontrolBinding(h,
e,this)}else h=a,e=b,this.ParentObject.addUsercontrolBinding(h,e,this),this.V2CFunctions.push(function(r,v,x){var D=e;x&&(v&&(D=e+"_"+v),v=h,D=d?gx.fn.getControlValue(D)[d]:gx.fn.getControlValue(D),d?r.ParentObject[v][d]=D:r.ParentObject[v]=D);D=d?r.ParentObject[h][d]:r.ParentObject[h];r.useGxDateForBindings&&(v=gx.fn.getVarControlMapForVar(h),"date"!==v.type&&"dtime"!==v.type||"string"!==typeof D||(D=r.IsPostBack?new gx.date.gxdate(D):new gx.date.gxdate(D,"Y4MD"),v=h,x=D,d?r.ParentObject[v][d]=x:
r.ParentObject[v]=x));r[c](g(D))})};this.addC2VFunction=function(a){this.C2VFunctions.push(a)};this.setC2ShowFunction=function(a){this.C2ShowFunction=a};this.execV2CFunctions=function(a){var b=gx.csv.cmpCtx;gx.csv.cmpCtx=this.ParentObject.CmpContext;var c,d=this.V2CFunctions,e=d.length;for(c=0;c<e;c++)try{d[c](this,this.GridRow,a)}catch(h){gx.dbg.logEx(h,"gxfrmutl.js","execV2CFunctions")}gx.csv.cmpCtx=b};this.execC2VFunctions=function(){var a=gx.csv.cmpCtx;gx.csv.cmpCtx=this.ParentObject.CmpContext;
var b,c=this.C2VFunctions,d=c.length;for(b=0;b<d;b++)try{c[b](this,this.GridRow)}catch(e){gx.dbg.logEx(e,"gxfrmutl.js","execC2VFunctions")}gx.csv.cmpCtx=a};this.sdtV2c=function(a,b,c,d,e){if(null!==b){if(b=parseInt(b,10)-1,void 0!==this.ParentObject[a][b])this[e](this.ParentObject[a][b][c])}else this.ParentObject[a]=gx.fn.getControlValue(d,null,this.ParentObject),this[e](this.ParentObject[a][c])};this.sdtC2v=function(a,b,c,d,e){null!==b?(b=parseInt(b,10)-1,this.ParentObject[a][b][c]=this[e]()):this.ParentObject[a][c]=
this[e]();gx.fn.setControlValue(d,this.ParentObject[a])};this.execShowFunction=function(){!1===this.IsPostBack&&(this.IsPostBack=!0);null===this.IsPostBack&&(this.IsPostBack=!1);var a=this.getContainerControl();try{null!=this.C2ShowFunction&&a&&this.C2ShowFunction(this)}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","execShowFunction")}if(a){if(this.autoToggleVisibility){var b=f(a).add("label[for='"+this.LabelForAttValue+"']");gx.lang.gxBoolean(this.Visible)?b.show():b.hide()}gx.plugdesign.applyTemplateObject({selector:"#"+
a.id,templateSelector:function(c){return!0===c.onDemandInvoke}})}gx.uc.pushPostRenderScripts(this)};this.updateAndShow=function(a){try{this.execV2CFunctions(a)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","updateAndShow")}a&&(this.onFocusHandler&&f("#"+this.ContainerName).find("div[tabindex=0]").off("focus"),this.execShowFunction(),f("#"+this.ContainerName).find("div[tabindex=0]").on("focus",this.onfocus.bind(this)),this.onFocusHandler=!0)};this.getEventRow=function(){return this.GridRow};this.isServerEvent=
function(a){var b=this.ParentObject,c=b.IsMasterPage?"_MPAGE":"";a=this.ControlName.toUpperCase()+c+"."+a.toUpperCase()+c;if(a=b.getClientEventName(a))return b.isServerEvent(a);gx.dbg.logDebug("Client event name couldn't be resolved.");return!1};this.eventHandler=function(a,b,c){gx.evt.setReady(!1,"eventHandler");var d=gx.O;gx.setGxO(this.ParentObject);if(0<a){var e=this.DesignContainerName,h=(new RegExp("^(?:"+this.ParentObject.CmpContext+")?(.+)$")).exec(this.DesignContainerName);h&&h[1]&&(e=h[1]);
this.ParentObject[e]=this;(a=this.ParentObject.getGridById(a,b))&&a.instanciateRow(b)}this.execC2VFunctions();c.call(this.ParentObject,this.getEventRow()).always(function(r){gx.setGxO(r);gx.evt.setReady(!0,"eventHandler")}.closure(this,[d]));gx.csv.instanciatedRowGrid=null};this.addEventHandler=function(a,b){this[a]=function(c){var d=this.isServerEvent(a);d&&"function"===typeof c&&gx.fx.obs.addObserver("gx.onafterevent",this,c,{single:!0});this.eventHandler(this.GridId,this.GridRow,b);d||"function"!==
typeof c||c.call(this)}.closure(this)};this.addProperty=function(a,b){this.Properties[a]=b};this.setProp=function(a,b,c,d){this.addProperty(a,b);this.PropTypes[a]=d;gx.lang.isBooleanType(d)?this[a]=gx.lang.gxBoolean(c):"color"==d?gx.lang.emptyObject(c)||(this[a]="number"==typeof c||"string"==typeof c?gx.color.html(c):c):gx.lang.isNumericType(d)?gx.lang.emptyObject(c)||(this[a]=gx.num.parseFloat(c)):this[a]=c};this.setDynProp=function(a,b,c,d,e){this.addProperty(a,b);this.DynProperties.push(a);this.PropTypes[a]=
d;var h=function(){var r=this.getDynPropertyValueFromHidden(a,b);void 0===r&&(r=c);this.setProp(a,b,r,d)};e?h.call(this):this.ParentObject.CmpContext?gx.fx.obs.addObserver("webcom.render",this,function(r){r===this.ParentObject&&h.call(this)}):gx.wr(h,this)};this.refreshDynProperties=function(){for(var a=0,b=this.DynProperties.length;a<b;a++){var c=this.DynProperties[a];this[c]=this.getDynPropertyValueFromHidden(c,this.Properties[c])}};this.getDynPropertyValueFromHidden=function(a,b){var c=gx.fn.getHidden(this.getHiddenName("_gx_image_resource_"+
b))||gx.fn.getHidden(this.getHiddenName("_gx_image_resource_"+b.toLowerCase()));if(c)try{c=gx.uc.getClientProperty("_gx_image_resource_"+a,c).value}catch(d){c=""}else c=gx.fn.getHidden(this.getHiddenName(b)),void 0===c&&(c=gx.fn.getHidden(this.getHiddenName(a)));return c};this.setGridProperties=function(){for(var a,b=this.ParentObject.getGridUCProperties(this.ControlName),c=b.length,d=0;d<c;d++){var e=b[d],h=e.v;a=this.getHiddenName(e.h);a=gx.fn.getHidden(a);if(void 0===h||void 0!==a)h=a,"color"==
e.t&&(h=gx.color.html(h));this.setProp(e.p,e.h,h,e.t)}};this.setGridEventHandlers=function(){for(var a=this.ParentObject.getGridUCEventHandlers(this.ControlName),b=a.length,c=0;c<b;c++){var d=a[c];this.addEventHandler(d.e,d.h)}};this.getHiddenName=function(a){var b="",c=this.ControlName.toUpperCase();""!=this.GridRow&&(b="_"+this.GridRow,this.ownerGrid&&(c=this.ownerGrid.realGridName.toUpperCase()));return this.ParentObject.CmpContext+c+(this.ParentObject.IsMasterPage?"_MPAGE":"")+"_"+a+b};this.saveProperties=
function(){for(var a in this.Properties)if(this.hasOwnProperty(a)){var b=this[a];"function"!=typeof this.Properties[a]&&("undefined"!=typeof b&&"undefined"!=typeof b.R&&"undefined"!=typeof b.G&&"undefined"!=typeof b.B&&(b=gx.color.rgb(b.R,b.G,b.B)),gx.lang.isBooleanType(this.PropTypes[a])&&(b=b?1:0),gx.fn.setHidden(this.getHiddenName(this.Properties[a]),b))}}}}}(gx.$);gx._init();window.$?gx.dbg.write("Warning: Using custom $ version."):(window.$=gx.$,gx.dbg.write("Using jquery from GX distr."));
window.$.fn&&window.$.fn.jquery?gx.dbg.write("global $ is jquery"+window.$.fn.jquery):gx.dbg.write("Warning: $ is not a jQuery object instance");
(function(f,n,g){function m(){return"function"!==typeof n.createElement?n.createElement(arguments[0]):q?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function a(y){return y.replace(/([a-z])-([a-z])/g,function(H,E,J){return E+J.toUpperCase()}).replace(/^-/,"")}function b(y,H){return function(){return y.apply(H,arguments)}}function c(y){return y.replace(/([A-Z])/g,function(H,E){return"-"+E.toLowerCase()}).replace(/^ms-/,"-ms-")}function d(y,H,
E,J){var G=m("div");var I=n.body;I||(I=m(q?"svg":"body"),I.fake=!0);if(parseInt(E,10))for(;E--;){var L=m("div");L.id=J?J[E]:"modernizr"+(E+1);G.appendChild(L)}E=m("style");E.type="text/css";E.id="smodernizr";(I.fake?I:G).appendChild(E);I.appendChild(G);E.styleSheet?E.styleSheet.cssText=y:E.appendChild(n.createTextNode(y));G.id="modernizr";if(I.fake){I.style.background="";I.style.overflow="hidden";var O=w.style.overflow;w.style.overflow="hidden";w.appendChild(I)}y=H(G,y);I.fake?(I.parentNode.removeChild(I),
w.style.overflow=O):G.parentNode.removeChild(G);return!!y}function e(y,H){var E=y.length;if("CSS"in f&&"supports"in f.CSS){for(;E--;)if(f.CSS.supports(c(y[E]),H))return!0;return!1}if("CSSSupportsRule"in f){for(var J=[];E--;)J.push("("+c(y[E])+":"+H+")");J=J.join(" or ");return d("@supports ("+J+") { #modernizr { position: absolute; } }",function(G){if("getComputedStyle"in f){G=getComputedStyle.call(f,G,null);var I=f.console;null!==G?G=G.getPropertyValue("position"):I&&I[I.error?"error":"log"].call(I,
"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else G=G.currentStyle&&G.currentStyle.position;return"absolute"==G})}return g}function h(y,H,E,J){function G(){L&&(delete u.style,delete u.modElem)}J="undefined"===typeof J?!1:J;if("undefined"!==typeof E){var I=e(y,E);if("undefined"!==typeof I)return I}for(I=["modernizr","tspan","samp"];!u.style&&I.length;){var L=!0;u.modElem=m(I.shift());u.style=u.modElem.style}var O=y.length;for(I=0;I<O;I++){var M=y[I];var X=
u.style[M];~(""+M).indexOf("-")&&(M=a(M));if(u.style[M]!==g){if(J||"undefined"===typeof E)return G(),"pfx"==H?M:!0;try{u.style[M]=E}catch(U){}if(u.style[M]!=X)return G(),"pfx"==H?M:!0}}G();return!1}function r(y,H,E,J,G){var I=y.charAt(0).toUpperCase()+y.slice(1),L=(y+" "+B.join(I+" ")+I).split(" ");if("string"===typeof H||"undefined"===typeof H)return h(L,H,J,G);L=(y+" "+C.join(I+" ")+I).split(" ");a:{y=L;for(var O in y)if(y[O]in H){if(!1===E){H=y[O];break a}O=H[y[O]];if("function"===typeof O){H=
b(O,E||H);break a}H=O;break a}H=!1}return H}function v(y,H,E){return r(y,g,g,H,E)}var x=[],D=[],k={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(y,H){var E=this;setTimeout(function(){H(E[y])},0)},addTest:function(y,H,E){D.push({name:y,fn:H,options:E})},addAsyncTest:function(y){D.push({name:null,fn:y})}},p=function(){};p.prototype=k;p=new p;p.addTest("history",function(){var y=navigator.userAgent;return-1===y.indexOf("Android 2.")&&-1===
y.indexOf("Android 4.0")||-1===y.indexOf("Mobile Safari")||-1!==y.indexOf("Chrome")||-1!==y.indexOf("Windows Phone")||"file:"===location.protocol?f.history&&"pushState"in f.history:!1});var w=n.documentElement,q="svg"===w.nodeName.toLowerCase(),C=k._config.usePrefixes?["moz","o","ms","webkit"]:[];k._domPrefixes=C;var B=k._config.usePrefixes?["Moz","O","ms","Webkit"]:[];k._cssomPrefixes=B;var N={elem:m("modernizr")};p._q.push(function(){delete N.elem});var u={style:N.elem.style};p._q.unshift(function(){delete u.style});
k.testProp=function(y,H,E){return h([y],g,H,E)};k.testAllProps=r;k.testAllProps=v;p.addTest("flexbox",v("flexBasis","1px",!0));p.addTest("csstransitions",v("transition","all",!0));(function(){var y,H;for(H in D)if(D.hasOwnProperty(H)){var E=[];var J=D[H];if(J.name&&(E.push(J.name.toLowerCase()),J.options&&J.options.aliases&&J.options.aliases.length))for(y=0;y<J.options.aliases.length;y++)E.push(J.options.aliases[y].toLowerCase());J="function"===typeof J.fn?J.fn():J.fn;for(y=0;y<E.length;y++){var G=
E[y];G=G.split(".");1===G.length?p[G[0]]=J:(!p[G[0]]||p[G[0]]instanceof Boolean||(p[G[0]]=new Boolean(p[G[0]])),p[G[0]][G[1]]=J);x.push((J?"":"no-")+G.join("-"))}}})();(function(y){var H=w.className,E=p._config.classPrefix||"";q&&(H=H.baseVal);p._config.enableJSClass&&(H=H.replace(new RegExp("(^|\\s)"+E+"no-js(\\s|$)"),"$1"+E+"js$2"));p._config.enableClasses&&(H+=" "+E+y.join(" "+E),q?w.className.baseVal=H:w.className=H)})(x);delete k.addTest;delete k.addAsyncTest;for(k=0;k<p._q.length;k++)p._q[k]();
f.Modernizr=p})(window,document);
gx.spa=function(f){var n=/<head[^>]*>([\s\S]*?)<\/head>/i,g=/(<body[^>]*>[\s\S]*?<\/body>)/i,m=/<title[^>]*>([\s\S]*?)<\/title>/i,a=/#.*/,b=/#/,c=!1,d=!1,e=window.location.href,h=!0,r={},v,x;"state"in window.history&&(h=!1);gx.wpo(function(){gx.pO.fullAjax&&(gx.cache.exceptionsRegEx=/messages\..+\.js/)},this);var D=function(){c||d||this.notify("onnavigatecomplete")};return{timeout:-1,setTimeout:function(k){this.timeout=k},isSameApp:function(k,p){var w=k.port===p.port;w=(w=w||""===k.port&&"http:"===
k.protocol&&"80"===p.port)||""===k.port&&"https:"===k.protocol&&"443"===p.port;return k.protocol===p.protocol&&k.hostname===p.hostname&&w},handleClick:function(k){var p=this.getTarget(k),w;if(p&&"A"===p.tagName.toUpperCase()&&null!==p.getAttribute("href")&&void 0!==p.getAttribute("href")&&!(p.target&&("_blank"==p.target||"_parent"==p.target&&window.parent!=window||"_top"==p.target&&window.top!=window||"_"!=p.target.substr(0,1)&&window.name!=p.target)||1<k.which||k.metaKey||k.ctrlKey)){var q=this.parseUrl(p.href);
if(this.isSameApp(location,q)){var C="/"==q.pathname.charAt(0)?q.pathname:"/"+q.pathname;if(location.pathname.substring(0,location.pathname.lastIndexOf("/"))===C.substring(0,C.lastIndexOf("/"))&&!(0<=q.href.search(b)&&q.href.replace(a,"")===location.href.replace(a,""))&&""!==p.getAttribute("href")&&0!==p.href.indexOf("javascript:"))if(this.ignoreClick)this.ignoreClick=!1;else{q=f(p);for(w in r)if(r.hasOwnProperty(w)&&q.is(w))return;this.navigate({url:p.href,push:!0,scrollTo:!0,direction:"forward"});
k.preventDefault()}}}},redirect:function(k,p){delete gx.referrer;p=void 0===p||p;var w=this.parseUrl(k),q="/"==w.pathname.charAt(0)?w.pathname:"/"+w.pathname;this.isSameApp(location,w)?location.pathname.substring(0,location.pathname.lastIndexOf("/"))!==q.substring(0,q.lastIndexOf("/"))?window.location=k:(gx.referrer=location.href,this.navigate({url:k,push:p,scrollTo:!0,direction:"forward"})):window.location=k},setLocation:function(k){this.setStopNavigating(k);window.location=k},canNavigate:function(){return!c&&
!d},isNavigating:function(){return!this.canNavigate()},isNavigatingRaw:function(){return c},cancelNavigating:function(){c=!1},setStopNavigating:function(k){c=!1;this.notify("onnavigate",[k])},navigate:function(k){var p,w,q=k.url,C=!1;this.canNavigate()?(c=!0,this.notify("onbeforenavigate",[q]),(w=this.request)&&4>w.readyState&&(w.onreadystatechange=gx.emptyFn,gx.dbg.logMsg("Request cancelled as data ir already being retrieved: "+w.readyState),w.abort()),this.request=w=gx.http.doCall({method:"GET",
url:q,handler:function(B,N,u){B=u.getResponseHeader("X-SPA-REDIRECT-URL");var y=u.getResponseHeader("X-GXOBJECT");C||(p&&clearTimeout(p),530==u.status?this.setLocation(q):B?(this.setStopNavigating(B),setTimeout(gx.spa.redirect.closure(gx.spa,[B]),100)):(k.push&&0<w.readyState&&y?(this.updateState(),this.state=this.createState(k),window.history.pushState(null,"",w.responseURL||q)):gx.O.endFeedback(!1),this.processResponse.call(this,N,u,k)))},beforeSend:function(B){gx.spa.isNavigatingRaw()||gx.O.startFeedback(!1);
this.notify("onbeforesend",[this.createEvent(B,q),"X-SPA-REQUEST","X-SPA-MP"]);0<this.timeout&&(p=setTimeout(this.timeoutHandler.closure(this,[B,q]),this.timeout));B.setRequestHeader("X-SPA-REQUEST","1")},offline:function(){p&&clearTimeout(p);C=!0;c=!1},error:function(B){B=this.createEvent(B,q);B.cancel=!0;this.notify("onerror",[B]);B.cancel&&this.setLocation(q)},ajaxHeader:!1,avoidCache:!1,handleAllStatusCodes:!0,obj:this}),this.notify("onnavigatestart",[q])):this.setLocation(q)},processResponse:function(k,
p,w){try{var q=w.url;var C=this.parseUrl(q).hash,B=w.direction,N=p.status,u=p.getResponseHeader("X-GXOBJECT"),y=p.getResponseHeader("X-SPA-RETURN"),H=p.getResponseHeader("X-SPA-RETURN-MD"),E=this.createEvent(p,q),J=gx.pO.MasterPage,G=gx.pO.MasterPage?gx.pO.MasterPage.ServerClass:"",I=p.getResponseHeader("X-SPA-MP")||"",L=!(""===G||G.toLowerCase()!=I.toLowerCase()),O=this.getContentPlaceholder();if(null!==y)gx.fn.closeWindowServerScript(y,H,!0);else if(500===N)window.history.pushState(null,"",q),this.cancelNavigating(),
gx.dom.writeError(p.responseText,gx.getMessage("GXM_runtimeappsrv"),N);else if(u){this.notify("onbeforeprocessresponse",[E,k,u,G,I,L]);var M=this.extractContents(p,!L),X=L?O.firstChild:document.body,U=M.body;if(M.body){this.state=this.createState(w);w.push&&window.history.replaceState(this.state,"",p.responseURL||q);M.title&&(document.title=M.title);this.notify("onbeforecontentreplace",[p,q,M]);var aa=gx.getThemeElement();aa&&aa.href&&gx.cache.removeRemoteFile(gx.getThemeElement().href);gx.dom.replaceWithFx(X,
U,{domRemove:!1,domAdd:L,enteringClass:"forward"==B?"entering":"leaving",leavingClass:"forward"==B?"leaving":"entering",enterDurationClass:"forward"==B?"enter-fx-duration":"leave-fx-duration",leaveDurationClass:"forward"==B?"leave-fx-duration":"enter-fx-duration",transitionTimeout:200,transitionEndCallback:function(){U=this.replaceContentCallback(p,q,C,k,O,M,X,U,w,u,J,G,I,L);L||gx.html.processCode(M.rawHtml||M.head.innerHTML+M.body.innerHTML,!1,this.processCodeCallback.closure(this,[p,q,C,k,O,M,X,
U,w,u,J,G,I,L]),null,null,!1,!0);d=!1;this.notify("ontransitionend",[E,J,G,I,L]);this.recoverScrollPosition(w);return U}.closure(this),beforeTransitionStart:function(da){d=!0;if(L)return gx.html.processCode(k,!1,function(){da&&da();this.processCodeCallback(p,q,C,k,O,M,X,U,w,u,J,G,I,L)}.closure(this),null,null,!1),!0}.closure(this)})}else this.setLocation(q)}else this.setLocation(q)}catch(da){gx.dbg.logEx(da,"gxspa.js","processResponse"),this.setLocation(q)}},replaceContentCallback:function(k,p,w,
q,C,B,N,u,y,H,E,J,G,I){if(I)N.parentNode&&(this.dettachContent(N),N.parentNode.removeChild(N));else{if(gx.util.browser.isWebkit()||gx.util.browser.isFirefox()){this.dettachContent(document.body);f(document.body).remove();var L=document.createElement("body");k=f(u).prop("attributes");f.each(k,function(){f(L).attr(this.name,this.value)});document.documentElement.appendChild(L);L.innerHTML=u.innerHTML;u=L}else document.body=u,u=document.body;f([].concat($jscomp.arrayFromIterable(document.head.childNodes))).filter("meta[name]").remove();
f([].concat($jscomp.arrayFromIterable(B.head.childNodes)).reverse()).filter("meta[name]").each(function(O,M){document.head.insertBefore(M,document.head.firstChild)})}return u},filterTest:function(k){return $filter(this,k,1<arguments.length?arguments[1]:void 0)},processCodeCallback:function(k,p,w,q,C,B,N,u,y,H,E,J,G,I){k=this.createEvent(k,p);try{this.notify("oncontentreplace",[k,q,B,H,E,J,G,I])}catch(L){gx.dbg.logEx(L,"gxspa.js","processCodeCallback"),this.setLocation(p)}q=!0;y.scrollTo&&(window.scrollTo(0,
0),q=!1);y.push&&window._gaq&&_gaq.push(["_trackPageview"]);y.push&&window.ga&&window.ga("send","pageview",location.pathname);""!==w&&(B=this.parseUrl(p),B.hash=w,window.history.replaceState(this.state,"",B.href),w=gx.dom.el(B.hash))&&(w.scrollIntoView(!0),q=!1);this.setStopNavigating(p);q&&this.recoverScrollPosition(y)},timeoutHandler:function(k,p){var w=this.createEvent(k,p);w.cancel=!0;this.notify("ontimeout",[w]);w.cancel&&(k.abort(),gx.dbg.logMsg("Request cancelled - timeout expired: "+k.readyState),
this.setLocation(p))},getContentPlaceholder:function(){return gx.dom.byClass("gx-content-placeholder")[0]},extractContents:function(k,p){var w=document.createElement("div"),q={},C,B;if(p){w=document.createElement("iframe");w.src="about:blank";w.style.display="none";document.body.appendChild(w);p=k.responseText.match(n);1<p.length&&(C=p[1]);p=k.responseText.match(g);0<p.length&&(B=p[0]);p=k.responseText.match(m);1<p.length&&(q.title=p[1]);w.contentDocument&&null==w.contentDocument.body&&w.contentDocument.write("<body></body>");
w.contentDocument.body.outerHTML=B;var N=w.contentDocument.head;N.innerHTML=C;f("head script").each(function(u,y){f(N).find("script").each(function(H,E){null===y.getAttribute("data-gx-external-script")?y.src==E.src&&N.removeChild(E):f(y).remove()})});q.body=w.contentDocument.body;q.head=N;q.rawHtml=N.innerHTML+B}else{gx.html.setInnerHtml(w,k.responseText,!1,!1,!1);k=gx.dom.byClass("gx-content-placeholder","div",w);if(0===k.length)return q;q.body=k[0].firstChild;k=gx.dom.byTag("title",w);0<k.length&&
(q.title=k[0].innerText||k[0].textContent)}return q},handlePopState:function(k){if(k.state){k=k.state;this.getContentPlaceholder();if(k&&"gx-spa"==k.source){if(h&&e==k.url||this.state.url===k.url)return;this.navigate({id:k.id,url:k.url,push:!1,scrollPosition:k.scrollPosition,direction:this.state.id<k.id?"forward":"back"})}gx.popup.ispopup()&&gx.fn.cancelWindow()}},parseUrl:function(k){var p=document.createElement("a");p.href=k;return p},createEvent:function(k,p){return{req:k,url:p,cancel:!1}},addIgnoredSelector:function(k){r[k]=
!0},removeIgnoredSelector:function(k){delete r[k]},recoverScrollPosition:function(k){var p=k.scrollPosition;this.canNavigate()&&!k.scrollTo&&p&&window.scrollTo(p.x,p.y)},dettachContent:function(k){var p=gx.dom.getActiveElement();p&&f.contains(k,p)&&gx.dom.purgeElement(p)},updateState:function(){var k=this.state;k.url=location.href;k.scrollPosition={x:window.scrollX,y:window.scrollY};window.history.replaceState(k,"",k.url)},createState:function(k){k=k||{};return{id:k.id||(new Date).getTime(),source:"gx-spa",
url:k.url}},getTarget:function(k){return k.target&&"A"==k.target.tagName?k.target:gx.dom.findParentByTagName(k.target,"A")},applyConfig:function(k){if(k&&k.listeners)for(var p in k.listeners){var w=k.listeners[p];"function"==typeof w&&this.addObserver(p,k.listeners.scope||this,w)}},setBodyClass:function(){var k="Form",p=document.body;p.className&&(k=p.className.split(" ")[0]);gx.dom.hasClass(p,k+"-fx")||gx.dom.addClass(p,k+"-fx")},isSupported:function(){return gx.util.browser.isIE()&&!gx.util.browser.isEdge()?
!1:gx.pO&&gx.pO.fullAjax&&Modernizr.history&&!(gx.util.browser.isChrome()&&window.parent!=window)},start:function(k){this.isSupported()&&!this.started&&(this.applyConfig(k),v=this.handleClick.closure(this),x=this.handlePopState.closure(this),document.addEventListener("click",v,!1),window.addEventListener("popstate",x,!1),this.state=this.createState({url:location.href}),window.history.replaceState(this.state,document.title),this.setBodyClass(),this.started=!0,this.addObserver("onnavigate",this,D),
this.addObserver("ontransitionend",this,D))},stop:function(){this.started&&(document.removeEventListener("click",v,!1),window.removeEventListener("popstate",x,!1),this.started=!1)}}}(gx.$);gx.lang.apply(gx.spa,new gx.util.Observable);gx.core={};
gx.core.analytics=function(f){var n=function(){console.log("Google Analytics v4- GA not enabled on this webpage")};return{supported:function(){return new Promise(function(g,m){gx.wga(function(){return g()});gx.lang.doCallTimeout(m,window,[],6E3)})},trackView:function(g){this.supported().then(function(){return window.gtag("event","pageview",g)},n)},trackEvent:function(g,m,a,b){this.supported().then(function(){window.gtag("event",m,{hitType:"event",eventCategory:g,eventAction:m,eventLabel:a,eventValue:b})},
n)},trackPurchase:function(g){var m=function(a,b,c,d,e){if(d&&gx.lang.emptyObject(c)&&null==e)return console.log("Google Analytics ECommerce - Warning: Property value must be assigned: ",b),!1;gx.lang.emptyObject(c)&&d&&(c=e);return gx.lang.emptyObject(c)?!1:(a[b]=c,!0)};this.supported().then(function(){var a={};if(m(a,"id",g.TransactionId,!0))for(m(a,"affiliation",g.Affiliation),m(a,"revenue",g.Revenue),m(a,"shipping",g.Shipping),m(a,"tax",g.Tax),m(a,"currency",g.CurrencyCode),m(a,"eventCategory",
"ecommerce:addTransaction"),window.gtag("event",a.eventCategory,a),a=0;a<g.Items.length;a++){var b=g.Items[a],c={};m(c,"id",g.TransactionId,!0)&&m(c,"name",b.Name,!0)&&(m(c,"sku",b.Id),m(c,"category",b.Category),m(c,"price",b.Price),m(c,"quantity",b.Quantity),m(c,"currency",b.CurrencyCode),m(c,"eventCategory","ecommerce:addItem"),window.gtag("event",c.eventCategory,c))}},n)},setUserId:function(g){this.supported().then(function(){return window.gtag("set","userId",g)},n)}}}(gx.$);
gx.core.audio=function(f){var n,g=[],m=[];return{supported:function(){return!(gx.util.browser.isIE()&&8>=gx.util.browser.ieVersion())},getSoundVar:function(a){return 2==a?m:g[a]},playBackground:function(a){this.play(a,1)},play:function(a,b){n=!0;2!=b&&this.stop(b);3==b&&(this.stop(2),this.pauseSound(this.getSoundVar(1)));2==b&&this.stop(3);this.playSound(b,a).always(function(){3==b&&this.resumeSound(this.getSoundVar(1))}.closure(this,[]))},playSound:function(a,b){var c=f.Deferred();this.supported()?
(b=new Howl({src:[b],html5:!0,onplay:function(){},onend:function(){c.resolve()},onstop:function(){c.resolve()},onpause:function(){c.resolve()}}),b.play()):(b=f("<bgsound/>").attr({id:"gxIE7AudioSound_"+a,loop:"0",src:b}),f("body").append(b));g[a]=b;2==a&&m.push(b);return c.promise()},stop:function(a){if(a){var b=this.getSoundVar(a);this.stopSound(b);g[a]=null}else this.stopSound(this.getSoundVar(3)),this.stopSound(this.getSoundVar(2)),this.stopSound(this.getSoundVar(1))},stopSound:function(a){var b=
this.supported();a=gx.lang.isArray(a)?a:[a];f.map(a,function(c,d){c=a[d];!b&&c&&(f(c).attr("src",""),f(c).remove(),c=void 0);c&&c.stop&&c.stop()})},pauseSound:function(a){this.supported()&&a&&a.pause&&a.pause()},resumeSound:function(a){this.supported()&&a&&a.play&&a.play()},isPlaying:function(a){if(this.supported())return a?this.isPlaying_impl(this.getSoundVar(a)):this.isPlaying_impl(this.getSoundVar(3))||this.isPlaying_impl(this.getSoundVar(2))||this.isPlaying_impl(this.getSoundVar(1))},isPlaying_impl:function(a){var b,
c=!1;a=gx.lang.isArray(a)?a:[a];for(var d=0;d<a.length;d++)(b=a[d])&&(c=c||b.playing())},_deinit:function(){n&&(this.stop(3),this.stop(2));n=!1}}}(gx.$);gx.core.pwa=function(f){var n;window.addEventListener("beforeinstallprompt",function(g){n=g;n.userChoice.then(function(m){gx.fx.obs.notify("gx.pwa.onpromptchoice",[m.outcome]);n=null});gx.fx.obs.notify("gx.pwa.onbeforeinstallprompt")});return{showPrompt:function(){n&&n.prompt()}}}(gx.$);
gx.core.ds=function(f){return{setOption:function(n,g){document.documentElement.setAttribute("gx-data-"+n,g)},clearOption:function(n){document.documentElement.removeAttribute("gx-data-"+n)}}}(gx.$);
gx.core.clientSocket=function(f){var n,g,m=0;window.addEventListener("unload",function(d){g&&g.close()});var a=function(d){gx.fx.obs.notify("gx.core.clientsocket.onmessagereceived",[d])},b=function(){m=1;gx.fx.obs.notify("gx.core.clientsocket.onconnect",[void 0])},c=function(){m=0;gx.fx.obs.notify("gx.core.clientsocket.onconnectfailed",[void 0])};return{open:function(d){if(1===m)gx.dbg.logDebug("gx.core.clientSocket - WebSocket already connected");else{n="clientSocket_"+d;try{if(this.attachHandlers(n),
d)g=new gx.webSocket({wsURL:d,namespace:n});else{var e=gx.fn.getHidden("GX_WEBSOCKET_PORT"),h=gx.basePath&&0<gx.basePath.length?"/":"";g=new gx.webSocket({port:e,clientId:gx.fn.getHidden("GX_WEBSOCKET_ID"),wsProtocol:"https:"===location.protocol?"wss://":"ws://",host:e?location.hostname+":"+e+"/":location.host+"/",resourceUrl:h+(gx.gen.isDotNet()?"gxwebsocket.svc?":"gxwebsocket?"),basePath:gx.basePath,namespace:n})}}catch(r){gx.dbg.logEx(r,"genexus-core.js","Could not initialize WebSocket Client")}}},
close:function(){this.detachHandlers(n);try{g&&g.close()}catch(d){}m=0},send:function(d){1===m?g.send(d):gx.dbg.logDebug("gx.core.clientSocket - WebSocket is disconnected")},attachHandlers:function(d){gx.fx.obs.addObserver("gx.ws.onMessage."+d,this,a,{single:!1,doNotDelete:gx.O.IsMasterPage});gx.fx.obs.addObserver("gx.ws.onOpen."+d,this,b,{single:!1,doNotDelete:gx.O.IsMasterPage});gx.fx.obs.addObserver("gx.ws.onError."+d,this,c,{single:!1,doNotDelete:gx.O.IsMasterPage})},detachHandlers:function(d){gx.fx.obs.deleteObserver("gx.ws.onMessage."+
d,this,a);gx.fx.obs.deleteObserver("gx.ws.onOpen."+d,this,b);gx.fx.obs.deleteObserver("gx.ws.onError."+d,this,c)}}}(gx.$);
(function(f){var n=/(gx-form-item|col-(?:xs|sm|md|lg)-\d{1,2})/g,g=function(k){gx.plugdesign.registerTemplate(new gx.plugdesign.Template(k))},m=function(k,p){k=f(k).parent().find("span");gx.lang.gxBoolean(p)?k.parent("p").hide():(k.removeClass("form-control"),p=k.parent("p"),0===p.length?gx.plugdesign.applyTemplateOnElement("readonly-atts-vars",k[0],{checkInclusion:!0}):p.show())},a=function(k,p){var w=f(".gx-form-group[data-gx-for='"+gx.dom.id(k)+"']");0===w.length&&(w=f(k).parents("div.gx-attribute").first());
gx.lang.gxBoolean(p)?w.show():w.hide()},b=function(k,p){p=p.trim();k=gx.html.getFieldLabel(k);p=p.split(" ").join("Label ")+(p?"Label":"");if(k){var w=(w=k.className.match(n))?w.join(" ")||"":"";p=["gx-label",w,p,"control-label"].join(" ");k.className!==p&&(k.className=p)}};g({name:"labels",selector:"div.gx-form-group:has(label.gx-label:not([data-gx-sr-only]))",excluded:"div:has(.gx_usercontrol)",setContext:function(k,p){p=f(p).find("label.gx-label").addClass("control-label");k.labelEl=p[0];return k},
listeners:{control:function(k){return f(k.labelEl).attr("for")},after:{Class:b}}});g({name:"atts-vars",selector:".gx-attribute > input, .gx-attribute > select, .gx-attribute > textarea, .gx-attribute > img:first-child",initialize:function(k){(k=f("#"+k.id)[0])&&b(k,k.className.replace("form-control",""))},listeners:{control:function(k){return k.id},after:{Enabled:m,Visible:a}}});g({name:"readonly-atts-vars",selector:'.gx-attribute:not(:has([data-gx-tpl-applied-readonly-atts-vars])) span[data-gx-readonly]:not([data-gx-tpl-applied-readonly-atts-vars]),span[class^="Readonly"]:not(:has(input[type="radio"], input[type="checkbox"]))',
template:'<p data-gx-tpl-applied-readonly-atts-vars class="form-control-static">{{{outerHTML}}}</p>',outerHTML:!0,listeners:{control:function(k){return k.id},after:{Visible:function(k,p){var w=f(k).parent("p");gx.lang.gxBoolean(p)?w.show():w.hide();a(k,p)}}}});g({name:"password-atts-vars",selector:'.gx-attribute input[type="password"][data-gx-password-reveal]',template:'<div class="input-group">{{$inputEl$}}<span class="input-group-btn gx-pwd-reveal-btn"><button class="btn btn-default" type="button" title="'+
gx.getMessage("GXM_revealpassword")+'"><span class="glyphicon glyphicon-eye-open"></span></button></span></div>',setContext:function(k,p){k.inputEl=p;return k},initialize:function(k){var p=f("#"+k.id),w=f("#"+k.id)[0];p.next().on("click",function(){gx.fn.setCtrlProperty(w.id,"Ispassword","password"!=w.type)})},listeners:{control:function(k){return k.id},after:{Visible:function(k,p){gx.lang.gxBoolean(p)&&gx.fn.isVisible(k,0)?f(k).next().show():f(k).next().hide();a(k,p)},Enabled:function(k,p){gx.lang.gxBoolean(p)?
f(k).next().children().first().prop("disabled",!1):f(k).next().children().first().prop("disabled",!0)},Ispassword:function(k,p){f("button",f(k).next()).attr("title",gx.getMessage(gx.lang.gxBoolean(p)?"GXM_revealpassword":"GXM_hidepassword")).children().first().toggleClass("glyphicon-eye-open").toggleClass("glyphicon-eye-close")}}}});g({name:"checkbox",selector:'.gx-attribute > input[type="checkbox"], .gx-attribute span > input[type="checkbox"]',setContext:function(k,p){k.id=f(p)[0].id;return k},initialize:function(k){k=
f("#"+k.id).get(0);f(k).closest("span").addClass("gx-checkbox-wrapper")},listeners:{control:function(k){return k.id},after:{Visible:function(k,p){var w=f(k).parent().closest(".gx-checkbox-wrapper");gx.lang.gxBoolean(p)?(w.show(),w.children().show()):w.hide();a(k,p)}}}});g({name:"usercontrol",onDemandInvoke:!0,selector:".gx_usercontrol",setContext:function(k,p){k.id=f(p)[0].id;return k},listeners:{control:function(k){return k.id},after:{Visible:a}}});var c=function(k,p,w){k.visible=p;var q=f(k).parent().find(".input-group-btn");
gx.lang.gxBoolean(p)&&gx.fn.isVisible(k,0)?(this.enabled||void 0===this.enabled)&&q.show():q.hide();w||a(k,p)};g({name:"datepicker",selector:".dp_container:has(img):has(input)",template:'<div class="dp_container {{alignClass}}" id="{{datePickerCt.id}}"><div class="input-group">{{$inputEl$}}{{$spaneEl$}}<span class="input-group-btn"><a class="btn btn-default">{{$imgEl$}}</a></span></div></div>',outerHTML:!0,setContext:function(k,p){var w=f(p),q=w.attr("data-align");k.datePickerCt=p;k.inputEl=w.find("input")[0];
k.imgEl=w.find("img")[0];k.inputElId=k.inputEl.id;k.alignClass=q?"pull-"+q:"";k.nativeEl=w.find("#"+k.inputEl.id+"-picker")[0];p=f("#span_"+k.inputEl.id);0<p.length&&(w=p.parent("p")[0],k.spaneEl=w?w:p,w&&f(w).remove());return k},initialize:function(k){var p=f("#"+k.inputElId),w=p.parent().closest(".dp_container");k.nativeEl&&w.append(k.nativeEl);w.find("a").on("click",function(C){try{if("IMG"!=C.target.nodeName)return w.find("img")[0].click(),!1}catch(B){return!1}});var q=gx.fn.isVisible(p[0],0);
k=f("#span_"+k.inputEl.id);0<k.length&&(q=q||gx.fn.isVisible(k[0],0));c.call(this,p[0],q,!0)},listeners:{control:function(k){return k.inputEl.id},after:{Enabled:function(k,p){k.enabled=gx.lang.gxBoolean(p);var w=f(k).parent().find(".input-group-btn");if(gx.lang.gxBoolean(p)){var q=this.visible||gx.fn.isVisible(k);(q||void 0===q)&&w.show()}else w.hide();m(k,p)},Visible:c}}});var d=function(k){return f(k).parent().closest("span")},e=function(k){k.find(":checked").parent("label").button("toggle")},h=
function(k,p){var w=k.find("label");gx.lang.gxBoolean(p)?(w.prop("disabled",!1),w.removeClass("disabled"),k.find("input, label").css("pointer-events","")):(w.prop("disabled",!0),k.find("input, label").css("pointer-events","none"),w.addClass("disabled"))};g({name:"radio-button",selector:".gx-radio-button:not(.gx-tpl-ignore) label",setContext:function(k,p){var w=d(p);k.name=f(p).children("input").attr("name");k.spanEl=w;f(w).prop("initialized")||(w.children("label").addClass("gx-radio-label btn btn-default"),
p=f(p).children().prop("disabled"),0===w.children('[class*="active"]').length&&e(w),h(w,!(!0===p||"disabled"===p)),w.find("script").remove(),w.attr("data-toggle","buttons"),p=w.hasClass("gx-radio-button-vertical")?"-vertical":"",w.addClass("btn-group"+p).removeClass("gx-radio-button-vertical").css("vertical-align","baseline"));return k},initialize:function(k){f(k.spanEl).prop("initialized")||(k.spanEl.prop("initialized",!0),k.spanEl.children("label").on("click",function(){var p=f(this).children("input");
p.trigger("focus");p.attr("checked","");p.prop("checked",!0);gx.evt.onchange(p.get(0))}))},listeners:{control:function(k){return k.name},after:{Visible:a,Enabled:function(k,p){h(d(k),p)},Value:function(k){e(d(k))}}}});g({name:"prompt",selector:function(k){return f('a:has(img[id*="PROMPT"])',k).prevUntil("","input, select")},template:'<div class="input-group">{{$inputEl$}}<span class="input-group-btn">{{$promptEl$}}</span></div>',setContext:function(k,p){k.inputEl=p;k.promptEl=f(p).nextUntil("",'a:has(img[id*="PROMPT"])').addClass("btn btn-default");
return k},listeners:{control:function(k){return k.inputEl.id},before:{Visible:function(k,p){k=f(k).parent();gx.lang.gxBoolean(p)?k.show():k.hide()},Enabled:function(k,p){k=f(k).parent().find(".input-group-btn");gx.lang.gxBoolean(p)?k.show():k.hide()}}}});g({name:"prompt-trigger",selector:'img[id*="PROMPT"].gx-prompt',setContext:function(k,p){k.imgEl=p;return k},listeners:{control:function(k){return k.imgEl.id},before:{Enabled:function(k,p){k=f(k).closest(".input-group-btn");gx.lang.gxBoolean(p)?k.show():
k.hide()}}}});var r=function(k,p){k=f(k).parent();k=k.add(k.find("img"));gx.lang.gxBoolean(p)?k.show():k.hide()};g({name:"geolocation",selector:"input + img.GeoLocOption",template:'<div class="input-group"><div id="{{inputEl.id}}_hook"></div><span class="input-group-btn"><a class="btn btn-default"><div id="{{inputEl.id}}_trigger_hook"></div></a></span></div>',setContext:function(k,p){k.inputEl=f(p).prev()[0];k.triggerEl=f(p)[0];return k},initialize:function(k){gx.evt.attach(k.el,"click",function(){gx.geolocation.getMyPosition(this)});
f("#"+k.inputEl.id+"_hook").replaceWith(k.inputEl);f("#"+k.inputEl.id+"_trigger_hook").replaceWith(k.triggerEl);r.call(this,k.inputEl,gx.fn.isVisible(k.inputEl,0))},listeners:{control:function(k){return k.inputEl.id},before:{Visible:r,Enabled:function(k,p){k=f(k).parent().find(".input-group-btn");gx.lang.gxBoolean(p)?k.show():k.hide()}}}});g({name:"multimedia-upload",selector:".gx-multimedia-upload .fields-ct",template:'<div class="row"><div class="col-sm-4"><div class="row"><div class="col-sm-12">{{$fileOptionLbl$}}</div><div class="col-sm-12">{{$uriOptionLbl$}}</div></div></div><div class="col-sm-8">{{$uriField$}}{{$fileField$}}</div></div><div class="row"><div class="col-sm-12">{{$button$}}</div></div>',
applyTo:"inner",setContext:function(k,p){p=f(p).parent().closest(".gx-multimedia-upload")[0];var w=gx.html.multimediaUpload.getElements(p);w.fileOptionLbl=w.fileOption.parentNode;w.uriOptionLbl=w.uriOption.parentNode;gx.lang.apply(k,w);k.container=p;return k},initialize:function(k){f(k.button).addClass("btn btn-default Button");f(k.uriField).addClass("form-control")},listeners:{control:function(k){return gx.html.multimediaUpload.CtrlId(k.container.id)},after:{Visible:function(k,p){a(k,p,7)}}}});g({name:"navbar",
selector:".gx-navbar",setContext:function(k,p){k.toggleBtn=f(p).find(".gx-navbar-toggle");k.navBarInner=f(p).find(".gx-navbar-inner");return k},initialize:function(k){k.toggleBtn.attr("data-target","#"+k.navBarInner.attr("id"))}});gx.spa.addObserver("onnavigatecomplete",window,function(){var k=f(".navbar-collapse");k.collapse&&k.collapse("hide")});var v=function(k){k.anchor.get(0).href==location.href?k.anchor.parent().addClass("active"):k.anchor.parent().removeClass("active")};g({name:"navbar-textblock-link",
selector:"a.gx-navbar-textblock, .gx-navbar-textblock:has(a)",template:"{{$anchor$}}",setContext:function(k,p){var w=["id","class","style",gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,"title"];p=f(p);var q;k.anchor=p.children("a");0===k.anchor.length&&p.is("a")&&(k.anchor=p);for(q=0;q<w.length;q++)k.anchor.attr(w[q],p.attr(w[q]));return k},reDraw:v,initialize:v,listeners:{control:function(k){return k.id},before:{Caption:function(k,p){f(k).text(p);return!0},Link:function(k,
p){f(k).attr("href",p);return!0}}}});g({name:"navbar-textblock-text",selector:"span.gx-navbar-textblock:not(:has(a))",initialize:function(k){f(k.el).addClass("navbar-text")},listeners:{control:function(k){return k.id},after:{Link:function(k,p){var w=f(k);p&&w.hasClass("navbar-text")&&(w.removeClass("navbar-text"),gx.plugdesign.applyTemplateOnElement("navbar-textblock-link",k))}}}});g({name:"errorviewer",selector:".gx_ev div",initialize:function(k){k=f(k.el);var p=k.parent(".gx_ev"),w=p.css("position");
if("fixed"===w||"absolute"===w)p[0].effect&&p[0].effect.end(),k.addClass("alert alert-dismissible fade in").attr("style","").attr("role","alert").prepend(f('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'))}});g({name:"textarea-auto-expand",selector:".gx-attribute > textarea[data-gx-text-maxlines]",setContext:function(k,p){k.el=f(p);return k},initialize:function(k){var p=k.el;k=p[0];var w=f(window),q=parseInt(p.attr("rows"),
10),C=parseInt(p.attr("data-gx-text-maxlines"),10);p.css("overflow-x","hidden");var B=function(N,u,y){u+=y;N.attr("rows",u);return u};p=function(){for(var N=w.scrollTop(),u=parseInt(f(this).attr("rows"),10),y=f(this);u>q&&this.scrollHeight>=this.clientHeight;)u=B(y,u,-1);for(;""!==f(this).val()&&u<C&&this.scrollHeight>this.clientHeight;)u=B(y,u,1);w.scrollTop(N)};gx.evt.attach(k,["input","keyup"],p.closure(k,[]));gx.evt.on_ready(k,p.closure(k,[]))}});var x=function(k){k=k.get(0);return"on"===gx.dom.getComputedStyle(k).getPropertyValue("--gx-image-scaling").trim()},
D=function(k){var p=k;x(k)&&(0<k.parent("a").length&&(p=k.parent("a")),p.parent("div[data-align-inner]").parent().parent().attr("data-align-image",""))};g({name:"image",selector:"img[data-gx-image]",setContext:function(k,p){k.el=f(p);return k},initialize:function(k){k=k.el;var p=k.get(0).currentSrc||k.attr("src");p&&x(k)&&k.css("background-image","url("+p+")");D(k)},listeners:{control:function(k){return k.id},after:{Bitmap:function(k,p){k=f(k);p&&x(k)?k.css("background-image","url("+p+")"):k.css("background-image",
"none")},Class:function(k){var p=f(k);k.src&&x(p)?p.css("background-image","url("+k.src+")"):p.css("background-image","none");D(p)}}}})})(gx.$);
gx.ui=function(f){return{grid:function(){this.gridContainer=null;this.firstTime=!0;this.loadingCollection=this.autoRefreshing=!1;this.properties=[];this.setContainerDelayed=function(g){this.gridContainer=g;this.DesignContainerName=this.ContainerName=gx.dom.id(g);this.ParentObject.setUserControl(this)};this.getContainerControl=function(){return this.gridContainer};this.me=function(){return this.gridObject()+".grid"};this.render=function(g,m,a,b,c){this.refreshDynProperties();this.properties=[];for(var d=
0;d<this.rows.length;d++){this.properties[d]=[];for(var e=this.rows[d],h=0;h<this.columns.length;h++){var r=this.columns[h],v=e.gxProps[r.index],x=r.gxControl;x.grid=this.ownerGrid;x.row=e;x.gridId=this.gxId;x.gridRow=e.gxId;a?x.value=v[0]:x.setProperties.apply(x,v);this.setRenderProperties(e.gxRenderProps[h],x);!x.enabled&&x.type<=gx.html.controls.types.checkBox&&(x.cssClass=gx.fn.prefixROClass(x.cssClass));this.properties[d][h]=gx.lang.clone(x);this.addC2V(r,this.properties[d][h])}}this.firstTime=
g;this.autoRefreshing=m?!0:!1;this.loadingCollection=a?!0:!1;this.show&&(this.setC2ShowFunction(function(D){D.show();gx.lang.requestAnimationFrame(b)}),this.autoRefreshing&&(this.show(),b()));c();this.autoRefreshing=!1};this.addC2V=function(g,m){this.addC2VFunction(function(a){if(""!==g.gxAttName){var b=a.ParentObject.getValidStruct(g.gxId);b&&(a.ParentObject[b.gxvar]=m.value);gx.fn.setHidden(m.id,m.value)}})};this.setRenderProperties=function(g,m){if(g)for(var a in g)m[a]=g[a]};this.selectRow=function(g){if(g=
this.rows[g])this.instanciateSelectionVars(g.gxId),this.instanciateSelectedRow(g)};this.getEventRow=function(){return gx.lang.emptyObject(this.GridRow)?"0001":this.GridRow};this.executeEvent=function(g,m){if(g<this.columns.length&&m<this.rows.length)if(g=this.properties[m][g],m=gx.html.controls.eventJSCode(g.jsScrCode,g.eventName,g.jsDynCode,g.grid,g.row),""!==m)gx.lang.emptyObject(g.usrOnclick)||(m="if("+g.usrOnclick+") { "+m+" }"),g=new Function(m),"function"==typeof g&&g();else if(g.clickEvent){m=
this.parentGxObject;var a=g.row.gxId;this.ownerGrid.instanciateRow(a);m[g.clickEvent].call(m,a)}};this.executeIsValid=function(g,m){if(g<this.columns.length&&m<this.rows.length){var a=this.parentGxObject;m=this.properties[m][g];g=m.vStruct||a.GXValidFnc[m.column.gxId];m=m.row.gxId;g&&g.isvalid&&(this.ownerGrid.instanciateRow(m),a[g.isvalid].call(a))}};this.addEventHandler=function(g,m){this[g]=function(a){var b=this.isServerEvent(g);b&&a&&gx.fx.obs.addObserver("gx.onafterevent",this,a,{single:!0});
var c=gx.fn.currentGridRow(this.GridId);this.eventHandler(this.GridId,c,m);!b&&a&&a.call(this)}.closure(this)};var n={};this.requestSuggest=function(g,m,a){var b=f.Deferred();if(g<this.columns.length&&m<this.rows.length){var c=this.parentGxObject;m=this.properties[m][g];g=m.vStruct||c.GXValidFnc[m.column.gxId];m=m.row.gxId;var d=n[m+"_"+g.id];!d&&g&&g.gxsgprm&&(this.ownerGrid.instanciateRow(m),d=new gx.fx.suggestProvider(c,g.gxsgprm[1],null,g.gxsgprm[0]),n[m+"_"+g.id]=d);d?(gx.fx.updateSuggestParms(g.gxsgprm[2]),
d.requestSuggestions([],function(){b.resolve(d.values)},function(){b.reject()},a)):b.reject()}else b.reject();return b.promise()};this.executeValidate=function(g,m){if(g<this.columns.length&&m<this.rows.length){var a=this.parentGxObject;m=this.properties[m][g];g=m.vStruct||a.GXValidFnc[m.column.gxId];m=m.row.gxId;g&&g.fnc&&(this.ownerGrid.instanciateRow(m),g.fnc.call(a))}}}}}(gx.$);
gx.ui.controls=function(f){var n=function(){var g="render selectTabPageByIndex hideTabPageByIndex showTabPageByIndex getTabPageIndexByControlName getTabPageControlNameByIndex".split(" ");return{show:function(){for(var m=this.ActivePage,a=0;a<g.length;a++)this[g[a]]||console.error("Missing required method",g[a],this);this.IsPostBack?this.update&&this.update():(this.beforeRender&&this.beforeRender(),this.render(),this.ActivePageControlName&&(m=parseInt(this.getTabPageIndexByControlName(this.ActivePageControlName),
10)),m||(m=1),this.selectTabPageByIndex(m),this.tabPageSelected(m,!0,!1),this.HistoryManagement&&HistoryManager.Initialize(this),this.afterRender&&this.afterRender());this.allways&&this.allways()},destroy:function(){HistoryManager.RemoveListener(this)},tabPageSelected:function(m,a,b){this.ActivePage!==m&&(this.ActivePage=m||1,this.ActivePageControlName=this.getTabPageControlNameByIndex(m)||"",this.HistoryManagement&&!1!==b&&HistoryManager.AddHistoryPoint(this.ActivePageControlName,!0,null,!1),!a&&
this.TabChanged&&this.TabChanged())},getId:function(){return(this.ParentObject?this.ParentObject.CmpContext||"-"+this.ParentObject.ServerClass||"":"")+"-"+this.ControlName},urlListener:function(){if(!gx.grid.drawAtServer){var m=(m=0<document.location.hash.length?document.location.hash.substr(1):"")?this.getTabPageIndexByControlName(m):1;this.selectTabPageByIndex(m);this.tabPageSelected(m,!1,!1)}},SelectTab:function(m){this.selectTabPageByIndex(m);this.tabPageSelected(m,!1,void 0)},HideTab:function(m){this.hideTabPageByIndex(m)},
ShowTab:function(m){this.showTabPageByIndex(m)}}}();return{datePicker:function(g){this.$input=f("#"+g.inputId);this.$trigger=f("#"+g.triggerId);this.showInLine=g.inline;this.inputType=g.inputType;this.format=g.format;this.datePartLength=g.datePartLength;this.timePartLength=g.timePartLength;this.nativeSupport=gx.HTML5&&(gx.util.browser.isIPhone()||gx.util.browser.isIPad()||gx.util.browser.isAndroid()&&gx.util.browser.isChrome());this.afterChange=g.afterChange;this.opts=g;this.getInputType=function(){return 0<
this.timePartLength&&0===this.datePartLength?"time":0<this.datePartLength&&0===this.timePartLength?"date":"datetime-local"};this.getTimeStep=function(){return 6<this.timePartLength?1:60};this.resolveValue=function(m,a){gx.date.isNullDate(a)&&"time"!==m&&(a=new Date);if("date"==m)a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),m=a.toISOString().slice(0,10);else{a.setMinutes(a.getMinutes()-a.getTimezoneOffset());var b=0,c=19;"time"==m&&(b=11,c=60==this.getTimeStep()?16:19);m=(new gx.date.gxdate(a)).Value.toISOString().slice(b,
c)}return m};this.render=function(){if(this.nativeSupport){var m=this.$input,a=this.getInputType(),b=f("<input>");b.attr("type",a);"time"!==a&&"datetime-local"!==a||b.attr("step",this.getTimeStep());b.css("position","absolute");b.css("top","0");b.css("left","0");b.css("opacity","0");b.attr("id",m.attr("id")+"-picker");this.dtPicker=b;m.parent().append(b);b.bind("touchstart touchend mousedown mouseup",function(){return!0!==m.prop("disabled")});var c=this,d=function(e){e=e.val();var h=new gx.date.gxdate(e,
"Y4MD");e=""!==e?h.Value:gx.date.nullDate();c.afterChange&&c.afterChange(null,e,m[0],c.opts.vStruct,c.opts.gxO)};this.$trigger.on("click",function(){var e=gx.date.dateObject(m.val());gx.date.isNullDate(e)||(e=c.resolveValue(a,e),b.val(e),d(b));b.trigger("click").trigger("focus")});gx.evt.attach(b[0],"change",function(){var e=f(this);d(e)})}else this.opts.showsTime="date"!==this.opts.inputType,gx.html.onTypeAvailable("Calendar",this.installCalendar,[this.opts],0)};this.installCalendar=function(m){var a=
m.inputId,b=gx.dom.byId(a),c=f(b),d=m.inline,e=m.weeksNumbers,h=m.mondayFirst,r=m.showsTime,v=m.format;m=m.gxO;if(gx.lang.emptyObject(b)||"SELECT"!=b.nodeName)if(0===d){b=a+"_dp_trigger";if((d=gx.dom.byId(b))&&"none"!==c.css("display")&&"hidden"!==c.css("visibility")&&"none"===c.css("display")||"hidden"===c.css("visibility")||!d)b=a;c=c.parent().closest(".dp_container")[0];Calendar.setup({inputField:a,parentNode:c,showsTime:r,weekNumbers:e,mondayFirst:h,ifFormat:v,button:b,onSelect:gx.fn.datePickerChanged,
align:"Bl",singleClick:!0,displayRight:!1,gxO:m})}else gx.lang.emptyObject(b)||c.css("display","none"),Calendar.setup({inputField:a,showsTime:r,weekNumbers:e,mondayFirst:h,ifFormat:v,flat:a+"_dp_container",flatCallback:gx.fn.datePickerChanged,align:"Bl",singleClick:!0,gxO:m})}},actionGroup:function(){return{init:function(){0<f("[data-gx-base-lib='none']").length&&gx.fx.obs.addObserver("gx.onclick",this,function(g){g=g.event;var m=g.target;if(f(m).is(".gx-navbar .dropdown>a")){g.preventDefault();g=
m.getAttribute("aria-expanded");var a=function(b){var c=f(m).next(".gx-dropdown-menu");b=b.event.target;f(b).closest(c).length||b==m||"true"!==m.getAttribute("aria-expanded")||(m.setAttribute("aria-expanded","false"),gx.fx.obs.deleteObserver("gx.onclick",this,a))};"false"===g?(gx.fx.obs.addObserver("gx.onclick",this,a),m.setAttribute("aria-expanded","true")):(gx.fx.obs.deleteObserver("gx.onclick",this,a),m.setAttribute("aria-expanded","false"))}})},dynamicItems:function(){return function(g){this.preProcessItems=
function(m,a){var b;var c=0;for(b=m.length;c<b;c++){var d=(a?a+" ":"")+c.toString();m[c]._$Key=d;m[c].Children?this.preProcessItems(m[c].Children,d):m[c].Children=[]}};this.getItems=function(){return this.items};this.setItems=function(m){this.preProcessItems(m);this.items=m||[]};this.getItemPressed=function(){return this.itemPressed||{}};this.setItemPressed=function(m){this.itemPressed=m};this.assignItemPressed=function(m){m=m.split(" ");var a=this.getItems(),b;for(b=0;b<m.length;b++){var c=parseInt(m[b],
10);var d=d?d.Children[c]:a[c]}this.setItemPressed(d)};this.getType=function(m){var a;return function(){a||(a=g(m.getContainerControl()).closest("[data-gx-actiongroup-type]").attr("data-gx-actiongroup-type"));return a}}(this);this.renderMenu=function(m){this.IsPostBack?g('li[data-gx-dynitem-source="'+this.ContainerName+'"]').remove():g(this.getContainerControl()).after('<li data-gx-dynitem-hook="'+this.ContainerName+'"></li>').css("display","none").appendTo(gx.dom.form());m.length&&(m=Mustache.render("{{#Children}}{{> navbarItemTemplate}}{{/Children}}",
{containerName:this.ContainerName,Children:m},{navbarItemTemplate:'<li data-gx-dynitem-source="{{containerName}}">{{#Link}}<a href="{{Link}}" class="gx-navbar-textblock {{Class}}" data-gx-tpl-applied-navbar-textblock-link title="{{TooltipText}}">{{Caption}}</a>{{/Link}}{{^Link}}{{#Children.length}}{{> navbarDropDowntemplate}}{{/Children.length}}{{^Children.length}}{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}" class="gx-navbar-textblock {{Class}}" data-gx-tpl-applied-navbar-textblock-link title="{{TooltipText}}">{{Caption}}</a>{{/EventName}}{{^EventName}}<span class="gx-navbar-textblock {{Class}} navbar-text" data-gx-tpl-applied-navbar-textblock-text title="{{TooltipText}}">{{Caption}}</span>{{/EventName}}</span>{{/Children.length}}{{/Link}}</li>',
navbarDropDowntemplate:'<li class="dropdown" data-gx-dynitem-source="{{containerName}}"><a href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle" title="{{TooltipText}}">{{Caption}}<span class="caret"></span></a><ul class="gx-dropdown-menu dropdown-menu {{Class}}">{{#Children}}{{> navbarItemTemplate}}{{/Children}}</ul></li>'}),g('li[data-gx-dynitem-hook="'+this.ContainerName+'"]').after(m))};this.renderToolbar=function(m){var a="";m.length&&
(a=Mustache.render('{{#Children}}{{#Link}}<span class="{{Class}}" title="{{TooltipText}}"><a href="{{Link}}">{{Caption}}</a></span>{{/Link}}{{^Link}}{{#Children.length}}<div class="btn-group">{{> toolbarItemTemplate}}</div>{{/Children.length}}{{^Children.length}}<span class="{{Class}}" title="{{TooltipText}}">{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}">{{Caption}}</a>{{/EventName}}{{^EventName}}{{Caption}}{{/EventName}}</span>{{/Children.length}}{{/Link}}{{/Children}}',
{containerName:this.ContainerName,Children:m},{toolbarItemTemplate:'{{#Children}}{{#Link}}<span class="{{Class}}" title="{{TooltipText}}"><a href="{{Link}}">{{Caption}}</a></span>{{/Link}}{{^Link}}{{#Children.length}}<div class="btn-group">{{> toolbarItemTemplate}}</div>{{/Children.length}}{{^Children.length}}<span class="{{Class}}" title="{{TooltipText}}">{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}">{{Caption}}</a>{{/EventName}}{{^EventName}}{{Caption}}{{/EventName}}</span>{{/Children.length}}{{/Link}}{{/Children}}'}));
g(this.getContainerControl()).attr("data-gx-dynitem-container","").html(a)};this.show=function(){if(this.getContainerControl()){var m=this.getType(),a=gx.lang.isArray(this.items)?this.items:[this.items],b=[];"menu"==m?(this.renderMenu(a),b=document.querySelectorAll("[data-gx-dynitem-source='"+this.ContainerName+"'] a[data-event-name]")):"toolbar"==m&&(this.renderToolbar(a),b=this.getContainerControl().querySelectorAll("a[data-event-name]"));for(m=0;m<b.length;m++)gx.evt.attach(b[m],"click",this.fireEvent,
this)}};this.destroy=function(){var m=this.getType();"menu"==m?(g('li[data-gx-dynitem-source="'+this.ContainerName+'"]').remove(),g('li[data-gx-dynitem-hook="'+this.ContainerName+'"]').after(this.getContainerControl()).remove()):"toolbar"==m&&g(this.getContainerControl()).html("")};this.fireEvent=function(m){m.preventDefault();m=m.currentTarget.dataset;var a=this.ParentObject,b="E"+(a.IsMasterPage?m.eventName.toUpperCase()+"_MPAGE":"'"+m.eventName.toUpperCase()+"'");if(b=a.getClientEventName(b))this.assignItemPressed(m.key),
this.execC2VFunctions(),gx.evt.dispatcher.dispatch(a.getServerEventName(b),a,0,0,a.isServerEvent(b),void 0,void 0,!0)}}}()}}(),defineTabControl:function(g){gx.lang.apply(g.prototype,n);return g}}}(gx.$);
