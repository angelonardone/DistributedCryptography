import{h as s,r as e,g as i,H as t}from"./p-7af91c05.js";import{a as n,b as o,c as r}from"./p-9db16727.js";import{S as l}from"./p-2a2bca47.js";import{a as h}from"./p-2866a291.js";import{t as a}from"./p-2cf94d81.js";import"./p-5f934da7.js";const d="marker";const c=`${d}--hidden`;const p=`.${d}`;const m=undefined;const u=(e,i,t,l,p)=>{const u=t?{[d]:true,[c]:!i}:undefined;if(h(e)){return s("ch-action-menu-render",{role:"listitem",id:t?.id,class:u,disabled:l,getImagePathCallback:p,exportparts:n,blockAlign:e.itemsBlockAlign??"outside-end",inlineAlign:e.itemsInlineAlign??"inside-start",model:i?e.items:m},e.caption)}if(e.type==="separator"){return s("hr",{id:t?.id,class:u,part:a({[e.id]:!!e.id,[o.SEPARATOR]:true,[r.VERTICAL]:true,[e.parts]:!!e.parts})})}return t?s("div",{role:"listitem",id:t.id,class:u,style:!i?{"inline-size":t.size}:undefined},i&&s("slot",{name:e.id})):s("slot",{role:"listitem",name:e.id})};const f=(s,e,i)=>!s||e[i].displayed;const g=(s,e,i,t,n)=>s.map(((s,o)=>u(s,f(e,i,o),i?i[o]:undefined,t,n)));const v="*,::after,::before{box-sizing:border-box}:host{display:grid;grid-auto-flow:column;grid-auto-columns:max-content;align-items:center}:host([items-overflow-behavior=add-scroll]){overflow-x:auto}:host([items-overflow-behavior=multiline]){display:flex;flex-wrap:wrap}:host([items-overflow-behavior=responsive-collapse]){contain:inline-size}hr{display:grid;align-self:stretch;inline-size:1px;margin:0;background-color:color-mix(in srgb, currentColor 25%, transparent);border:unset;pointer-events:none}.marker{display:grid;align-items:center;align-self:stretch}.marker--hidden{visibility:hidden}";const b=v;const C={threshold:1};const k=class{constructor(s){e(this,s);this.collapsedItems=0;this.disabled=false;this.getImagePathCallback=undefined;this.gxImageConstructor=undefined;this.gxSettings=undefined;this.itemsOverflowBehavior="responsive-collapse";this.model=undefined;this.moreActionsAccessibleName="Show more actions";this.moreActionsBlockAlign="outside-end";this.moreActionsCaption=undefined;this.moreActionsInlineAlign="inside-start";this.useGxRender=false}#s=[];#e=false;#i=true;#t;#n;#o;collapsedItemsChanged(){this.#r()}get el(){return i(this)}itemsOverflowBehaviorChanged(){this.#i=true;this.#e=this.itemsOverflowBehavior==="responsive-collapse";this.#l();this.#h()}modelChanged(){this.#i=true;this.#l();this.#h();this.#r()}#h=()=>{this.#t=this.#e?this.model?.map(((s,e)=>({id:e.toString(),displayed:true})))??[]:undefined};#r=()=>{this.#s=[];if(this.model&&this.collapsedItems>0){this.#s=this.model.slice(this.model.length-this.collapsedItems)}};#a=()=>{if(this.#e){this.#d()}};#d=()=>{this.#o??=new l;this.#n??=new IntersectionObserver((s=>{s.forEach((s=>{const e=Number(s.target.id);if(this.model[e].type==="slot"){this.#t[e].size=`${s.target.offsetWidth}px`}this.#t[e].displayed=s.isIntersecting}));this.#o.perform(this.#c)}),C);this.el.shadowRoot.querySelectorAll(p).forEach((s=>this.#n.observe(s)))};#c=()=>{const s=this.#t.findIndex((s=>!s.displayed));if(s===-1){this.collapsedItems=0}else{this.collapsedItems=this.model.length-s}};#l=()=>{this.#o?.cancel();this.#o=undefined;this.#n?.disconnect();this.#n=undefined};connectedCallback(){this.el.setAttribute("role","list");this.collapsedItems=0;this.#e=this.itemsOverflowBehavior==="responsive-collapse";this.#h();this.#r()}componentDidRender(){if(this.#i){this.#i=false;this.#a()}}disconnectedCallback(){this.#l()}render(){if(!this.model||this.model.length===0){return""}return s(t,null,this.#e&&this.collapsedItems!==0&&s("ch-action-menu-render",{key:"__action-menu",role:"listitem",exportparts:n,blockAlign:this.moreActionsBlockAlign,disabled:this.disabled,getImagePathCallback:this.getImagePathCallback,inlineAlign:this.moreActionsInlineAlign,model:this.#s},this.moreActionsCaption,this.#s.map((e=>e.type==="slot"?s("slot",{slot:e.id,name:e.id}):undefined))),g(this.model,this.#e,this.#t,this.disabled,this.getImagePathCallback))}static get watchers(){return{collapsedItems:["collapsedItemsChanged"],itemsOverflowBehavior:["itemsOverflowBehaviorChanged"],model:["modelChanged"]}}};k.style=b;export{k as ch_action_group_render};
//# sourceMappingURL=p-23e84bfd.entry.js.map