import{r as e,c as i,g as t,h as s,H as n}from"./p-7af91c05.js";import{r as o}from"./p-23a9d308.js";import{S as r}from"./p-2a2bca47.js";import{s as a,a as l,b as c,f as d}from"./p-2cf94d81.js";const h=':where(button,a){all:unset;display:inline-flex;align-items:center;user-select:none;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{box-sizing:border-box}.caption,dialog{background-color:unset;border:none;color:inherit;font:inherit;margin:0;padding:0;outline:0}::backdrop{background:unset;pointer-events:none}:host{--ch-dialog-block-start:calc(50dvh - 50%);--ch-dialog-inline-start:calc(50dvw - 50%);--ch-dialog-block-size:max-content;--ch-dialog-inline-size:max-content;--ch-dialog-max-block-size:auto;--ch-dialog-max-inline-size:auto;--ch-dialog-min-block-size:auto;--ch-dialog-min-inline-size:auto;--ch-dialog-resize-threshold:8px;--ch-dialog-resize-threshold--half-negative:calc(\n    var(--ch-dialog-resize-threshold) * -0.5\n  );--ch-dialog-border-inline-start-width:0px;--ch-dialog-border-inline-end-width:0px;--ch-dialog-border-block-start-width:0px;--ch-dialog-border-block-end-width:0px;--ch-dialog-resize__inline-start:calc(\n    var(--ch-dialog-resize-threshold--half-negative) -\n      var(--ch-dialog-border-inline-start-width) * 0.5\n  );--ch-dialog-resize__inline-end:calc(\n    var(--ch-dialog-resize-threshold--half-negative) -\n      var(--ch-dialog-border-inline-end-width) * 0.5\n  );--ch-dialog-resize__block-start:calc(\n    var(--ch-dialog-resize-threshold--half-negative) -\n      var(--ch-dialog-border-block-start-width) * 0.5\n  );--ch-dialog-resize__block-end:calc(\n    var(--ch-dialog-resize-threshold--half-negative) -\n      var(--ch-dialog-border-block-end-width) * 0.5\n  );--ch-dialog-dragged-x:0px;--ch-dialog-dragged-y:0px;--ch-dialog-rtl:1}:host(.ch-dialog--modal){position:fixed;inset:0}:host(.ch-dialog--non-modal){display:contents}:host(.ch-dialog--hidden){display:none}.header{display:grid;grid-template:"caption close-button" 1fr/1fr max-content;align-items:center}.caption{grid-area:caption}.close-button{grid-area:close-button}dialog{display:flex;flex-direction:column;margin:unset;position:fixed;overflow:visible;inline-size:var(--ch-dialog-inline-size);block-size:var(--ch-dialog-block-size);min-inline-size:var(--ch-dialog-min-inline-size);min-block-size:var(--ch-dialog-min-block-size);max-inline-size:var(--ch-dialog-max-inline-size);max-block-size:var(--ch-dialog-max-block-size);inset-block-start:0;inset-inline-start:0;translate:calc((var(--ch-dialog-inline-start) + var(--ch-dialog-dragged-x)) * var(--ch-dialog-rtl)) calc(var(--ch-dialog-block-start) + var(--ch-dialog-dragged-y))}.content{display:grid}.footer{display:flex;justify-content:flex-end;margin-block-start:auto}.gx-dialog-dragging{cursor:move}.gx-dialog-dragging ::slotted(*){pointer-events:none !important;user-select:none}:host(.ch-dialog-resizing){pointer-events:none;user-select:none}.edge__block-start,.edge__block-end{position:fixed;inset-inline:min(0px, (var(--ch-dialog-resize-threshold) - var(--ch-dialog-border-inline-start-width)) / 2) min(0px, (var(--ch-dialog-resize-threshold) - var(--ch-dialog-border-inline-end-width)) / 2);block-size:var(--ch-dialog-resize-threshold);cursor:ns-resize}.edge__inline-start,.edge__inline-end{position:fixed;inset-block:min(0px, (var(--ch-dialog-resize-threshold) - var(--ch-dialog-border-block-start-width)) / 2) min(0px, (var(--ch-dialog-resize-threshold) - var(--ch-dialog-border-block-end-width)) / 2);inline-size:var(--ch-dialog-resize-threshold);cursor:ew-resize}.edge__block-start{inset-block-start:var(--ch-dialog-resize__block-start)}.edge__block-end{inset-block-end:var(--ch-dialog-resize__block-end)}.edge__inline-start{inset-inline-start:var(--ch-dialog-resize__inline-start)}.edge__inline-end{inset-inline-end:var(--ch-dialog-resize__inline-end)}.corner__block-start-inline-start,.corner__block-end-inline-end{position:fixed;block-size:var(--ch-dialog-resize-threshold);inline-size:var(--ch-dialog-resize-threshold);cursor:nwse-resize}.corner__block-start-inline-end,.corner__block-end-inline-start{position:fixed;block-size:var(--ch-dialog-resize-threshold);inline-size:var(--ch-dialog-resize-threshold);cursor:nesw-resize}.corner__block-start-inline-start{inset-block-start:var(--ch-dialog-resize__block-start);inset-inline-start:var(--ch-dialog-resize__inline-start)}.corner__block-end-inline-end{inset-block-end:var(--ch-dialog-resize__block-end);inset-inline-end:var(--ch-dialog-resize__inline-end)}.corner__block-start-inline-end{inset-block-start:var(--ch-dialog-resize__block-start);inset-inline-end:var(--ch-dialog-resize__inline-end)}.corner__block-end-inline-start{inset-block-end:var(--ch-dialog-resize__block-end);inset-inline-start:var(--ch-dialog-resize__inline-start)}:host(.ch-dialog-rtl) .corner__block-start-inline-start,:host(.ch-dialog-rtl) .corner__block-end-inline-end{cursor:nesw-resize}:host(.ch-dialog-rtl) .corner__block-start-inline-end,:host(.ch-dialog-rtl) .corner__block-end-inline-start{cursor:nwse-resize}.resize-layer{position:fixed;inset:0;pointer-events:none}';const g=h;const b="--ch-dialog-block-start";const u="--ch-dialog-inline-start";const k="--ch-dialog-dragged-x";const f="--ch-dialog-dragged-y";const z="--ch-dialog-rtl";const p="-1";const m="gx-dialog-dragging";const _="ch-dialog-resizing";const v="--ch-dialog-block-size";const w="--ch-dialog-inline-size";const x="--ch-dialog-border-block-start-width";const y="--ch-dialog-border-block-end-width";const D="--ch-dialog-border-inline-start-width";const C="--ch-dialog-border-inline-end-width";const R="ch-dialog-rtl";const S=e=>document.body.style.cursor=e;const E={"block-start":()=>S("ns-resize"),"block-end":()=>S("ns-resize"),"inline-start":()=>S("ew-resize"),"inline-end":()=>S("ew-resize"),"block-start-inline-start":e=>S(e?"nesw-resize":"nwse-resize"),"block-start-inline-end":e=>S(e?"nwse-resize":"nesw-resize"),"block-end-inline-start":e=>S(e?"nwse-resize":"nesw-resize"),"block-end-inline-end":e=>S(e?"nesw-resize":"nwse-resize")};const M=e=>Number(e.replace("px","").trim());const F=(e,i,t)=>e.style.setProperty(i,`${t}px`);let A=0;const B=[];const W=e=>B.push(e);const j=e=>{const i=B.indexOf(e);if(i!==-1){o(B,i)}};const L=e=>B.at(-1)===e;const P=class{constructor(t){e(this,t);this.dialogClosed=i(this,"dialogClosed",7);this.dragging=false;this.relativeDialog=false;this.resizing=false;this.adjustPositionAfterResize=false;this.allowDrag="no";this.caption=undefined;this.closable=true;this.closeButtonAccessibleName=undefined;this.show=false;this.modal=true;this.resizable=false;this.showFooter=false;this.showHeader=false}#e=`${A++}`;#i;#t;#s;#n=false;#o=false;#r;#a=0;#l=0;#c=false;#d;#h;#g;#b;#u=0;#k=0;#f=0;#z=0;#p=0;#m=0;#_={block:(e,i)=>{let t=this.#h.clientY-this.#d.clientY;if(i==="start"){t=-t}const s=e.height+t;const n=d(s,this.#p,this.#f);if(n===e.height){return}if(i==="start"){this.#k-=t;F(this.el,f,this.#k)}F(this.el,v,n)},inline:(e,i)=>{let t=this.#h.clientX-this.#d.clientX;if(this.#g){t=-t}if(i==="start"){t=-t}const s=e.width+t;const n=d(s,this.#m,this.#z);if(n===e.width){return}if(i==="start"){this.#u-=t;F(this.el,k,this.#u)}F(this.el,w,n)}};#v={"block-start":e=>this.#_.block(e,"start"),"block-end":e=>this.#_.block(e,"end"),"inline-start":e=>this.#_.inline(e,"start"),"inline-end":e=>this.#_.inline(e,"end"),"block-start-inline-start":e=>{this.#_.block(e,"start");this.#_.inline(e,"start")},"block-start-inline-end":e=>{this.#_.block(e,"start");this.#_.inline(e,"end")},"block-end-inline-start":e=>{this.#_.block(e,"end");this.#_.inline(e,"start")},"block-end-inline-end":e=>{this.#_.block(e,"end");this.#_.inline(e,"end")}};#w;#x;get el(){return t(this)}showChanged(e){this.#o=true;this.#n=true;if(e){this.#y()}else{this.#x.close();j(this.el);this.#D()}}resizableChanged(){this.#o=true}dialogClosed;connectedCallback(){a(this.#e,this.#C);this.#C(l())}componentWillRender(){this.#n&&=false;if(this.#o){this.#o=false;requestAnimationFrame((()=>setTimeout(this.#R)))}}componentDidLoad(){if(this.show){this.#o=true;this.#n=true;this.#y()}this.#R()}disconnectedCallback(){this.#S();this.#E();c(this.#e);j(this.el);this.#D()}#C=e=>{this.#g=e;if(e){this.el.style.setProperty(z,p);this.el.classList.add(R)}else{this.el.style.removeProperty(z);this.el.classList.remove(R)}};#M=()=>{if(!this.#c){this.#x.classList.add(m);this.#c=true}};#F=()=>{this.#x.classList.remove(m);this.#c=false};#A=e=>{if(!this.closable||this.dialogClosed.emit().defaultPrevented){e.preventDefault();return}this.show=false;this.#D()};#D=()=>document.removeEventListener("click",this.#B,{capture:true});#W=e=>{this.#t||=new r;this.#d=e;document.addEventListener("mousemove",this.#j,{capture:true});document.addEventListener("mouseup",this.#S,{capture:true,passive:true})};#j=e=>{this.#t.perform(this.#L,(()=>{e.preventDefault();this.#M();this.#h=e}))};#L=()=>{const e=this.#h.clientX-this.#d.clientX;const i=this.#h.clientY-this.#d.clientY;if(e!==0){this.#a+=this.#g?-e:e;F(this.el,k,this.#a)}if(i!==0){this.#l+=i;F(this.el,f,this.#l)}this.#d=this.#h};#S=e=>{if(e){e.stopPropagation()}if(this.#t){this.#t.cancel()}document.removeEventListener("mousemove",this.#j,{capture:true});document.removeEventListener("mouseup",this.#S,{capture:true});this.#F();this.#t=null;this.#d=null;this.#h=null};#y=()=>{if(this.modal){W(this.el);this.#x.showModal();document.addEventListener("click",this.#B,{capture:true})}else{this.#x.show()}};#B=e=>{const i=this.closable&&L(this.el)&&!e.composedPath().includes(this.#x);if(i){this.#A(e)}};#P=e=>i=>{this.#I();this.#s||=new r;this.#b=e;this.#d=i;E[this.#b](this.#g);this.#u=this.#a;this.#k=this.#l;const t=getComputedStyle(this.#x);this.#f=M(t.maxBlockSize);this.#z=M(t.maxInlineSize);this.#p=M(t.minBlockSize);this.#m=M(t.minInlineSize);this.#E();this.#D();document.addEventListener("mousemove",this.#O,{capture:true});document.addEventListener("mouseup",this.#T,{capture:true,passive:true})};#O=e=>{this.#s.perform(this.#q,(()=>{e.preventDefault();this.#M();this.#h=e}))};#q=()=>{const e=this.#x.getBoundingClientRect();this.#v[this.#b](e);this.#d=this.#h};#T=()=>{if(this.adjustPositionAfterResize){this.#X()}else{this.#I()}this.resizing=false;if(this.#s){this.#s.cancel()}document.body.style.cursor=null;F(this.el,k,this.#a);F(this.el,f,this.#l);this.#R();document.removeEventListener("mousemove",this.#O,{capture:true});document.removeEventListener("mouseup",this.#T,{capture:true});this.#F();this.#s=null;this.#d=null;this.#h=null;if(this.modal){requestAnimationFrame((()=>{document.addEventListener("click",this.#B,{capture:true})}))}};#R=()=>{if(!this.resizable||!this.show){this.#E();return}this.#i??=new r;this.#r=new ResizeObserver(this.#Y);this.#r.observe(this.el,{box:"border-box"});this.#r.observe(this.#w)};#Y=()=>{this.#i.perform(this.#$)};#$=()=>{const e=getComputedStyle(this.el);this.el.style.setProperty(x,e.borderBlockStartWidth);this.el.style.setProperty(y,e.borderBlockEndWidth);this.el.style.setProperty(D,e.borderInlineStartWidth);this.el.style.setProperty(C,e.borderInlineEndWidth)};#E=()=>{if(this.#r){this.#r.disconnect();this.#r=null}this.#i=null};#I=()=>{const e=this.#x.getBoundingClientRect();const i=this.#g?document.documentElement.getBoundingClientRect().width-(e.left+e.width):e.left;const t=e.top;F(this.#x,u,i-this.#a);F(this.#x,b,t-this.#l)};#X=()=>{this.#x.style.removeProperty(u);this.#x.style.removeProperty(b)};render(){return s(n,{key:"4ce5fbcc68c7c654de2943c60c322e2d645cd536",class:{"gx-dialog-header-drag":this.show&&this.allowDrag==="header","ch-dialog--modal":this.modal,"ch-dialog--non-modal":!this.modal,"ch-dialog--hidden":!this.show,[_]:this.resizing}},s("dialog",{key:"bf24e375d5cdd0f91ec513ce318b38fc8251e8a8","aria-labelledby":this.caption?"heading":null,class:this.showHeader?"dialog--header":null,part:"dialog",onCancel:this.#A,onMouseDown:this.allowDrag==="box"?this.#W:null,ref:e=>this.#x=e},this.showHeader&&s("div",{key:"header",class:"header",part:"header",onMouseDown:this.allowDrag==="header"?this.#W:null},this.caption&&s("h2",{key:"1ee81df7a1384747884f01c26971322d3ef15a67",id:"heading",class:"caption",part:"caption"},this.caption),this.closable&&s("button",{key:"9198b73691f64f1e807488e50333bb5a7398e588","aria-label":this.closeButtonAccessibleName||null,class:"close-button",part:"close-button",type:"button",onClick:this.#A})),s("div",{key:"content",class:"content",part:"content"},s("slot",{key:"d6edcf059486d2dac49829b73dcace22913ef408"})),this.showFooter&&s("div",{key:"footer",class:"footer",part:"footer"},s("slot",{key:"8b87d61e840673540960bfc79013e886d9df23c1",name:"footer"})),this.resizable&&this.show&&[s("div",{key:"edge-block-start",class:"edge__block-start",part:"edge edge-block-start",onMouseDown:this.#P("block-start")}),s("div",{key:"541a389b99ae80feb6d32434b19131db6b6be295",class:"edge__inline-end",part:"edge edge-inline-end",onMouseDown:this.#P("inline-end")}),s("div",{key:"dc39cda79e4b69ec5df4e95a51ffc66aab35863e",class:"edge__block-end",part:"edge edge-block-end",onMouseDown:this.#P("block-end")}),s("div",{key:"f2a6f148a3245182881f45fdb0b5f5d74d726dfe",class:"edge__inline-start",part:"edge edge-inline-start",onMouseDown:this.#P("inline-start")}),s("div",{key:"ed453d21b640da77c0001be2ad2546965baca569",class:"corner__block-start-inline-start",part:"corner corner-block-start-inline-start",onMouseDown:this.#P("block-start-inline-start")}),s("div",{key:"63026537c1b1b04d9108ac6be0c877a20ffbefa6",class:"corner__block-start-inline-end",part:"corner corner-block-start-inline-end",onMouseDown:this.#P("block-start-inline-end")}),s("div",{key:"a8aca3c750feed9bbcac6207547c43fa4bd43010",class:"corner__block-end-inline-start",part:"corner corner-block-end-inline-start",onMouseDown:this.#P("block-end-inline-start")}),s("div",{key:"97aa0cc3be27ec899167f8e6a27b1ee6fa5eeca3",class:"corner__block-end-inline-end",part:"corner corner-block-end-inline-end",onMouseDown:this.#P("block-end-inline-end")}),s("div",{key:"f364fc82264cfa75781d1e843b5380bdc4bf4dab",class:"resize-layer",ref:e=>this.#w=e})]))}static get watchers(){return{show:["showChanged"],resizable:["resizableChanged"]}}};P.style=g;export{P as ch_dialog};
//# sourceMappingURL=p-719096c1.entry.js.map