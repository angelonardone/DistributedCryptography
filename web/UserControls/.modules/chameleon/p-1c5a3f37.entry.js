import{r as e,g as t,h as i,H as s}from"./p-7af91c05.js";import{f as o}from"./p-5f934da7.js";const n=":where(button,a){all:unset;display:inline-flex;align-items:center;user-select:none;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{box-sizing:border-box}:host{--ch-tooltip-separation:0px;--ch-tooltip-separation-x:var(--ch-tooltip-separation);--ch-tooltip-separation-y:var(--ch-tooltip-separation);display:contents}ch-popover{--ch-popover-separation-x:var(--ch-tooltip-separation-x);--ch-popover-separation-y:var(--ch-tooltip-separation-y);animation:delay-visibility var(--ch-tooltip-delay) linear}ch-popover:not(.hydrated){display:none;opacity:0}@keyframes delay-visibility{0%,100%{opacity:0}}";const a=n;const h={passive:true};const c="aria-describedby";const r="aria-label";const l="tooltip";let d=0;const p=class{constructor(t){e(this,t);this.visible=false;this.actionElement=undefined;this.actionElementAccessibleName=undefined;this.blockAlign="outside-end";this.delay=100;this.inlineAlign="center"}#e;#t=true;#i;#s;get el(){return t(this)}visibleChanged(e){if(e){this.#o();this.#n()}else{this.#a();this.#h()}}actionElementChanged(){this.#c();this.#t=true;this.#r();this.#l()}actionElementAccessibleNameChanged(){if(this.actionElementAccessibleName){this.#d()}else{this.#r()}}#p=()=>{this.visible=true};#f=()=>{const e=o()[0]===this.#u()&&this.#i.matches(":focus-visible");if(!e){this.visible=false}};#h=()=>{this.#i.addEventListener("focus",this.#p,h);this.#i.addEventListener("mouseenter",this.#p,h)};#n=()=>{this.#i.addEventListener("focusout",this.#f,h);this.#i.addEventListener("mouseleave",this.#f,h)};#o=()=>{this.#i?.removeEventListener("focus",this.#p);this.#i?.removeEventListener("mouseenter",this.#p)};#a=()=>{this.#i?.removeEventListener("focusout",this.#f);this.#i?.removeEventListener("mouseleave",this.#f)};#b=()=>this.#i?.setAttribute(c,this.#e);#d=()=>{if(this.actionElementAccessibleName){this.#i?.setAttribute(r,this.actionElementAccessibleName)}};#l=()=>this.#i?.removeAttribute(c);#r=()=>this.#i?.removeAttribute(r);#u=()=>{if(this.actionElement===null){return this.el.parentElement}return this.actionElement??this.#s};#c=()=>{this.#o();this.#a()};#m=()=>this.actionElement===undefined;connectedCallback(){this.#e??=`ch-tooltip-${d++}`}componentDidRender(){if(this.#t){this.#t=false;this.#i=this.#u();this.#h();this.#b();this.#d()}}disconnectedCallback(){this.#c();this.#l();this.#r()}render(){const e=this.#m();return i(s,{key:"ca5f646cd79071bb7cb27a551529ce1440dc2cbe",id:!e?this.#e:undefined,role:!e?l:undefined,"aria-hidden":!e&&!this.visible?"true":undefined},e&&i("button",{key:"e9680b820fffc46cd69cff90c01f61297dac5626",part:"action",type:"button",ref:e=>this.#s=e},i("slot",{key:"780cf3dd2a6b07c5f45276569e1a10c26d4f0cd6",name:"action"})),this.visible&&i("ch-popover",{key:"6801e07ca63cc8fbb53c3c8230ade8d863b6d61f",id:e?this.#e:undefined,role:e?l:undefined,style:{"--ch-tooltip-delay":`${this.delay}ms`},part:"window",actionElement:this.#u(),blockAlign:this.blockAlign,closeOnClickOutside:true,show:true,inlineAlign:this.inlineAlign,mode:"manual",onPopoverClosed:this.#f},i("slot",{key:"bca9e2d0f366810bf1052c93013698e85aec6501"})))}static get watchers(){return{visible:["visibleChanged"],actionElement:["actionElementChanged"],actionElementAccessibleName:["actionElementAccessibleNameChanged"]}}};p.style=a;export{p as ch_tooltip};
//# sourceMappingURL=p-1c5a3f37.entry.js.map