import{r as t,c as e,g as i,h as s,H as a}from"./p-7af91c05.js";import{y as c,D as n}from"./p-9db16727.js";import{u as o}from"./p-2cf94d81.js";import{g as h,D as r}from"./p-ebac9feb.js";import{g as l}from"./p-d881edd1.js";import"./p-bb7b9247.js";const d="*,::after,::before{box-sizing:border-box}:host{--ch-checkbox__container-size:min(1em, 20px);--ch-checkbox__option-checked-image:url(\"data:image/svg+xml, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'><path fill='currentColor' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/></svg>\");--ch-checkbox__option-indeterminate-image:url(\"data:image/svg+xml, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'><rect width='8' height='8'/></svg>\");--ch-checkbox__option-size:50%;--ch-checkbox__option-image-size:100%;--ch-checkbox__image-size:0.875em;--ch-checkbox__background-image-size:100%;touch-action:manipulation;user-select:none;pointer-events:none}:host,.label{display:inline-grid;grid-auto-columns:max-content;grid-auto-flow:column;align-items:center}:host(.ch-checkbox--actionable) :is(.input,.label){cursor:pointer;pointer-events:all}.container{display:flex;align-items:center;justify-content:center;position:relative;inline-size:var(--ch-checkbox__container-size);block-size:var(--ch-checkbox__container-size);order:-1}.input{display:flex;inline-size:100%;block-size:100%;appearance:none;margin:0;padding:0;outline:unset;border:1px solid currentColor}.option{position:absolute;inline-size:var(--ch-checkbox__option-size);block-size:var(--ch-checkbox__option-size);background-color:currentColor;pointer-events:none}.option--checked{-webkit-mask:no-repeat center/var(--ch-checkbox__option-image-size) var(--ch-checkbox__option-checked-image)}.option--indeterminate{-webkit-mask:no-repeat center/var(--ch-checkbox__option-image-size) var(--ch-checkbox__option-indeterminate-image)}.option--not-displayed{opacity:0;visibility:hidden}.label{--ch-start-img:var(--ch-start-img--base);display:inline-grid;max-inline-size:max-content;gap:inherit}.start-img--hover:hover{--ch-start-img:var(--ch-start-img--hover)}.start-img--active:active{--ch-start-img:var(--ch-start-img--active)}.start-img--focus:focus{--ch-start-img:var(--ch-start-img--focus)}:host(.ch-disabled)>.start-img--disabled{--ch-start-img:var(--ch-start-img--disabled)}.pseudo-img--start::before{content:\"\";display:block;inline-size:var(--ch-checkbox__image-size);min-inline-size:var(--ch-checkbox__image-size);block-size:var(--ch-checkbox__image-size)}.start-img-type--background::before{background:no-repeat center/var(--ch-checkbox__background-image-size) var(--ch-start-img)}.start-img-type--mask::before{-webkit-mask:no-repeat center/var(--ch-checkbox__background-image-size) var(--ch-start-img);background-color:currentColor}";const g=d;const m=(t,e,i)=>{if(e){return i?`${c.DISABLED} ${c.INDETERMINATE}`:c.INDETERMINATE}const s=t?c.CHECKED:c.UNCHECKED;return i?`${c.DISABLED} ${s}`:s};const p=class{constructor(i){t(this,i);this.click=e(this,"click",7);this.input=e(this,"input",7);if(i.$hostElement$["s-ei"]){this.internals=i.$hostElement$["s-ei"]}else{this.internals=i.$hostElement$.attachInternals();i.$hostElement$["s-ei"]=this.internals}this.accessibleName=undefined;this.caption=undefined;this.checkedValue=undefined;this.disabled=false;this.getImagePathCallback=undefined;this.highlightable=false;this.indeterminate=false;this.name=undefined;this.readonly=false;this.startImgSrc=undefined;this.startImgType="background";this.unCheckedValue=undefined;this.value=undefined}#t;#e;#i;internals;get el(){return i(this)}getImagePathCallbackChanged(){this.#e=this.#s()}startImgSrcChanged(){this.#e=this.#s()}valueChanged(t){this.internals.setFormValue(t?.toString())}click;input;#s=()=>{if(!this.startImgSrc){return null}const t=this.getImagePathCallback??h("getImagePathCallback","ch-checkbox")??r;if(!t){return null}const e=t(this.startImgSrc);return e?o(e,"start"):null};#a=t=>{t.stopPropagation();this.#c(this.#n().checked);if(this.highlightable){this.click.emit()}};#o=t=>{const e=t.detail===0;if(!e){t.stopPropagation();return}if(t.composedPath()[0]!==this.#n()){return this.#c(!this.#n().checked)}const i=this.el.getRootNode();if(i instanceof ShadowRoot&&i.host.tagName.toLowerCase()==="ch-tree-view-item"){this.#c(this.#n().checked)}};#c=t=>{const e=t?this.checkedValue:this.unCheckedValue;this.value=e;this.#n().value=e;this.indeterminate=false;this.input.emit(e)};#n=()=>this.#i??this.el.shadowRoot.querySelector("input");#h=(t,e,i)=>s("div",{class:"container",part:`${c.CONTAINER} ${i}`},s("input",{"aria-label":this.#t??this.accessibleName,class:"input",part:`${c.INPUT} ${i}`,type:"checkbox",checked:e,disabled:this.disabled||this.readonly,indeterminate:this.indeterminate,value:this.value,onInput:t&&this.#a,ref:t=>this.#i=t}),s("div",{class:{option:true,"option--not-displayed":!e&&!this.indeterminate,"option--checked":e&&!this.indeterminate,"option--indeterminate":this.indeterminate},part:`${c.OPTION} ${i}`,"aria-hidden":"true"}));connectedCallback(){this.#e=this.#s();this.value||=this.unCheckedValue;this.internals.setFormValue(this.value?.toString());const t=this.internals.labels;this.#t=l(t)}render(){const t=this.value===this.checkedValue;const e=m(t,this.indeterminate,this.disabled);const i=this.#e?.classes;const o=!this.disabled&&!this.readonly;const h=!!this.#e?.styles;return s(a,{key:"20ec56329251ccf40cd1805acacd7ef9c3982eda",class:{[n]:this.disabled,"ch-checkbox--actionable":!this.readonly&&!this.disabled||this.readonly&&this.highlightable},onClickCapture:o&&this.#o},this.caption||h?s("label",{class:{label:true,[i]:!!i,[`start-img-type--${this.startImgType} pseudo-img--start`]:h},part:`${c.LABEL} ${e}`,style:h?this.#e.styles:undefined},this.#h(o,t,e),this.caption):this.#h(o,t,e))}static get delegatesFocus(){return true}static get formAssociated(){return true}static get watchers(){return{getImagePathCallback:["getImagePathCallbackChanged"],startImgSrc:["startImgSrcChanged"],value:["valueChanged"]}}};p.style=g;export{p as ch_checkbox};
//# sourceMappingURL=p-aef36922.entry.js.map