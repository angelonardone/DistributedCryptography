import{r as t,c as e,g as i,h as s,H as o}from"./p-7af91c05.js";import{C as n}from"./p-21f5cc53.js";class c{key;value;constructor(t){this.key=t.key;this.value=t.value}}class a{sessionStorageSupported;constructor(){this.sessionStorageSupported=typeof window.sessionStorage!=="undefined"&&window.sessionStorage!=null}add(t,e){if(this.sessionStorageSupported){sessionStorage.setItem(t,e)}}getAllItems(){const t=new Array;for(let e=0;e<sessionStorage.length;e++){const i=sessionStorage.key(e);const s=sessionStorage.getItem(i);t.push(new c({key:i,value:s}))}return t}getAllValues(){const t=new Array;for(let e=0;e<sessionStorage.length;e++){const i=sessionStorage.key(e);const s=sessionStorage.getItem(i);t.push(s)}return t}get(t){if(this.sessionStorageSupported){const e=sessionStorage.getItem(t);return e}return null}remove(t){if(this.sessionStorageSupported){sessionStorage.removeItem(t)}}clear(){if(this.sessionStorageSupported){sessionStorage.clear()}}}const l=':host{--title-font-family:"Source Sans Pro", sans-serif;--title-text-transform:lowercase;--title-font-weight:bold;--first-list-font-size:14px;--second-list-font-size:14px;--third-list-font-size:14px;--first-list-line-height:1.4em;--second-list-line-height:1.4em;--third-list-line-height:1.4em;--first-list-text-transform:capitalize;--second-list-text-transform:lowercase;--third-list-text-transform:capitalize;--first-list-text-vertical-padding:8px;--second-list-text-vertical-padding:6px;--third-list-text-vertical-padding:4px;--menu-background-color:var(--whiteSmoke);--text-color:var(--black);--item-hover-color:var(--lightGray);--item-active-color:var(--silverGray);--first-list-icon-color:var(--black);--first-list-arrow-color:var(--black);--second-list-arrow-color:var(--black);--footer-line-color:var(--black);--footer-font-size:14px;--indicator-color:var(--black);--scrollbar-track:var(--lightGray);--scrollbar-thumb:var(--darkGray);display:block;}:host #menu{background-color:var(--menu-background-color);font-family:var(--title-font-family);width:240px;position:fixed;height:100vh;inset-inline-start:0;top:0;z-index:5}:host #menu #title{text-transform:var(--title-text-transform);font-weight:var(--title-font-weight);color:var(--text-color);font-size:14px;letter-spacing:0.378px;padding:16px;margin:0;position:relative;z-index:20;width:240px;box-sizing:border-box}:host #menu #title:before{content:"";position:absolute;width:2px;height:10px;background-color:var(--menu-background-color);inset-inline-start:0;height:100%;top:0}:host #menu #main{overflow-y:auto;position:fixed;width:240px;z-index:10}:host #menu .text{color:var(--text-color)}:host #menu #footer{position:fixed;bottom:0;inset-inline-start:0;width:240px;box-sizing:border-box;z-index:20;font-size:var(--footer-font-size)}:host #menu #footer #custom-content{padding:32px 16px 8px 16px;position:relative}:host #menu #footer #custom-content:before{content:"";position:absolute;width:2px;height:10px;background-color:var(--menu-background-color);inset-inline-start:0;height:100%;top:0}:host #menu #footer #collapse-menu{cursor:pointer;height:50px;display:flex;align-items:center;padding:0 16px;transition:var(--menu-background-color) 0.25s;border-top:1px solid var(--footer-line-color);transition:background-color 0.25s;position:relative}:host #menu #footer #collapse-menu:hover{background-color:var(--item-hover-color)}:host #menu #footer #collapse-menu:hover:before{background-color:var(--item-hover-color)}:host #menu #footer #collapse-menu:active{background-color:var(--item-active-color)}:host #menu #footer #collapse-menu:active:before{background-color:var(--item-active-color)}:host #menu #footer #collapse-menu:before{content:"";position:absolute;width:2px;height:10px;background-color:var(--menu-background-color);inset-inline-start:0;height:100%;top:0;transition:background-color 0.25s}:host #menu.collapsed #footer #custom-content{display:none}:host #menu.collapsed #footer #collapse-menu{padding:0 10px}:host #menu.collapsed,:host #menu.collapsed #title,:host #menu.collapsed #footer{inset-inline-start:-202px}:host #menu.collapsing,:host #menu.collapsing #title,:host #menu.collapsing #footer{inset-inline-start:-240px !important;transition:left 0.6s;transition-timing-function:cubic-bezier(0.25, 0.1, 0.25, 1)}:host #menu.collapse-faster,:host #menu.collapse-faster #title,:host #menu.collapse-faster #footer{transition:left 0.3s;transition-timing-function:cubic-bezier(0.25, 0.1, 0.25, 1)}:host #menu.collapsed #collapse-menu{flex-direction:row-reverse}:host #menu.collapsed #collapse-menu ch-icon{transform:rotate(180deg)}:host #menu.collapsed #collapse-menu .collapse-icon{transform:rotate(180deg)}:host #menu,:host #footer{color:var(--text-color)}:host .tooltip{position:fixed;inset-inline-start:50px;opacity:0;transition:opacity 0.25s;background-color:var(--menu-background-color);color:var(--text-color);padding:4px 8px;border-radius:6px;z-index:0}:host .tooltip.visible{opacity:1}:host #indicator{width:2px;background-color:var(--indicator-color);position:fixed;inset-inline-start:0;height:0;transition:top 0.4s, height 0.5s, opacity 0.35s;opacity:1}:host #indicator.speed-zero{transition-duration:0s}:host #indicator.hide{opacity:0}:host ::-webkit-scrollbar{width:6px}:host ::-webkit-scrollbar-track{background:var(--scrollbar-track);border-radius:3px}:host ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:3px}:host ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb);cursor:pointer}:host .hidden-xs{visibility:hidden}:host .visible-xs{visibility:inherit}';const r=l;var h=undefined&&undefined.__decorate||function(t,e,i,s){var o=arguments.length,n=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,i):s,c;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)if(c=t[a])n=(o<3?c(n):o>3?c(e,i,n):c(e,i))||n;return o>3&&n&&Object.defineProperty(e,i,n),n};var d=undefined&&undefined.__metadata||function(t,e){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(t,e)};const u=class{constructor(i){t(this,i);this.itemClicked=e(this,"itemClicked",7);this.collapseBtnClicked=e(this,"collapseBtnClicked",7);this.menuTitle=undefined;this.singleListOpen=false;this.distanceToTop=0;this.collapsible=true;this.activeItemId="";this.activeItem="";this.isCollapsed=undefined;this.indicator=undefined}itemClicked;collapseBtnClicked;get el(){return i(this)}topHeightSpeed=300;speedDivisionValue=400;main;menu;title;footer;collapseButton;componentDidLoad(){if(window.matchMedia("(max-width: 767px)").matches){this.menu.classList.add("hidden-xs")}window.matchMedia("(max-width: 767px)").addEventListener("change",this.handleMatchMedia.bind(this));this.getSidebarState();const t=this.title.offsetHeight;const e=this.footer.offsetHeight;const i=t+e+"px";const s=this.el.querySelectorAll(".collapsable");const o=this.distanceToTop.toString()+"px";this.menu.style.top=o;this.main.style.height=`calc(100vh - ${i} - ${o})`;const n=this.el.querySelectorAll(".item");Array.from(n).forEach((function(t){const e=t.shadowRoot.querySelector(".main-container");t.style.maxHeight=e.offsetHeight+"px"}));const c=this.el.querySelectorAll(".item.uncollapsed");const a=Array.prototype.slice.call(c).reverse();a.forEach((function(t){const e=t.shadowRoot.querySelector(".main-container").offsetHeight;const i=t.querySelector(":scope > ch-sidebar-menu-list");if(i){const s=i.offsetHeight;t.style.maxHeight=e+s+"px"}}));this.indicator=document.createElement("DIV");this.indicator.setAttribute("id","indicator");this.main.appendChild(this.indicator);this.repositionIndicatorAfterMenuUncollapse();Array.from(n).forEach(function(e){e.addEventListener("click",function(i){i.stopPropagation();if(!this.menu.classList.contains("collapsed")){const i=e.getBoundingClientRect().y;const s=e.shadowRoot.querySelector(".main-container").offsetHeight;if(this.singleListOpen&&e.classList.contains("list-one__item")){let i=e;let o=t;while((i=i.previousElementSibling)!=null){const t=i.shadowRoot.querySelector(".main-container");o+=t.offsetHeight}this.indicator.style.top=o+"px";this.indicator.style.height=s+"px"}else{this.indicator.style.top=i+"px";this.indicator.style.height=s+"px"}}}.bind(this))}.bind(this));Array.from(n).forEach(function(t){t.addEventListener("click",function(e){e.stopPropagation();const i=document.querySelector(".item--active");if(i!==null){i.classList.remove("item--active")}t.classList.add("item--active");this.GetCurrentItemIndicatorPos();this.storeSidebarActiveItem(t);this.activeItem=t.id}.bind(this))}.bind(this));if(this.activeItemId!==""&&!this.activeItem){const t=this.el.querySelector("#"+this.activeItemId);t.classList.add("item--active");let e=t.parentElement;if(e.hasAttribute("slot")){e=e.parentElement;this.uncollapseList(e);e.classList.add("uncollapsed");let t=e.parentElement;if(t.hasAttribute("slot")){t=t.parentElement;this.uncollapseList(t);t.classList.add("uncollapsed")}}const i=t.getBoundingClientRect().y;const s=t.shadowRoot.querySelector(".main-container").offsetHeight;this.indicator.style.top=i+"px";this.indicator.style.height=s+"px"}Array.from(s).forEach(function(t){const e=t.shadowRoot.querySelector(".main-container");e.addEventListener("click",function(){if(t.classList.contains("list-one__item")&&this.menu.classList.contains("collapsed")){this.collapseButton.click()}else{this.toggleIcon(t);this.setTransitionSpeed(t);if(t.classList.contains("uncollapsed")){this.uncollapseList(t)}else{this.collapseList(t)}if(t.classList.contains("list-two__item")){const e=t.closest(".list-one__item");const i=t.querySelector(".list-three").offsetHeight;this.updateListItem1TransitionSpeed(e,i);this.updateListItem1MaxHeight(e)}}}.bind(this))}.bind(this));if(this.singleListOpen){const t=document.querySelectorAll(".list-one__item");Array.from(t).forEach(function(t){const e=t.shadowRoot.querySelector(".main-container");e.addEventListener("click",function(){if(!this.menu.classList.contains("collapsed")){const e=document.querySelector(".lastUl1Opened");if(e!==null&&!t.classList.contains("lastUl1Opened")){const t=e.shadowRoot.querySelector(".main-container");t.click()}if(t.classList.contains("uncollapsed")){t.classList.add("lastUl1Opened")}else{t.classList.remove("lastUl1Opened")}}}.bind(this))}.bind(this))}if(this.collapsible){this.collapseButton.addEventListener("click",function(){let t=0;if(this.menu.classList.contains("collapsed")){this.menu.classList.add("collapse-faster");t=300}else{this.menu.classList.remove("collapse-faster");t=600}this.menu.classList.add("collapsing");this.hideIndicator();setTimeout(function(){if(this.menu.classList.contains("collapsed")){this.uncollapseCollapsedLists();this.undoSwitchListOneOrder();this.menu.classList.remove("collapsed");setTimeout(function(){this.repositionIndicatorAfterMenuUncollapse()}.bind(this),50);this.isCollapsed=false;this.collapseMenuHandler();this.storeSidebarState()}else{this.collapseUncollapsedLists1();this.switchListOneOrder();this.menu.classList.add("collapsed");setTimeout(function(){this.repositionIndicatorAfterMenuCollapse()}.bind(this),50);this.isCollapsed=true;this.collapseMenuHandler();this.storeSidebarState()}this.menu.classList.remove("collapsing");setTimeout(function(){this.showIndicator()}.bind(this),400)}.bind(this),t)}.bind(this))}this.getSidebarCollapsedState();const l=document.createElement("DIV");l.classList.add("tooltip");l.style.zIndex="0";this.menu.appendChild(l);Array.from(n).forEach(function(t){const e=t.shadowRoot.querySelector(".main-container");e.addEventListener("mouseenter",function(){if(this.menu.classList.contains("collapsed")){l.classList.add("visible");l.innerHTML=t.childNodes[0].nodeValue;const e=t.getBoundingClientRect().y;l.style.top=e+"px"}}.bind(this));e.addEventListener("mouseleave",function(){if(this.menu.classList.contains("collapsed")){l.classList.remove("visible")}}.bind(this))}.bind(this));this.main.addEventListener("scroll",function(){this.GetCurrentItemIndicatorPos()}.bind(this));let r;document.addEventListener("scroll",function(){const t=document.documentElement;const e=(window.pageYOffset||t.scrollTop)-(t.clientTop||0);if(r===undefined){r=0}const s=Number(this.menu.style.top.split("px")[0]);if(s>0){if(s-(e-r)>0){const t=e-r;this.menu.style.top=s-t+"px";r=e;const o=this.distanceToTop-e;const n=o+"px";this.main.style.height=`calc(100vh - ${i} - ${n})`;this.GetCurrentItemIndicatorPos()}else{this.menu.style.top="0px";this.GetCurrentItemIndicatorPos()}}else if(s==0){if(e<=this.distanceToTop){this.menu.style.top=this.distanceToTop-e+"px";r=e;this.main.style.height=`calc(100vh - ${i} - ${e})`;this.GetCurrentItemIndicatorPos()}}}.bind(this))}handleMatchMedia(t){if(t.matches){this.menu.classList.add("hidden-xs")}else{this.menu.classList.remove("hidden-xs")}}closeSidebar(){const t=window.matchMedia("(max-width: 767px)");if(t.matches){this.menu.className="";this.menu.classList.add("hidden-xs")}}GetCurrentItemIndicatorPos(){let t=null;const e=document.querySelector(".item--active");if(e!==null){const i=e.getBoundingClientRect().y;this.indicator.classList.add("speed-zero");this.indicator.style.top=i+"px";if(t!==null){clearTimeout(t)}t=setTimeout(function(){this.indicator.classList.remove("speed-zero")}.bind(this),50)}}repositionIndicatorAfterMenuCollapse(){const t=this.el.querySelector(".item--active");if(t!==null){const e=t.closest(".list-one__item");if(e!==null){const t=e.shadowRoot.querySelector(".main-container");const i=t.getBoundingClientRect().y;const s=t.offsetHeight;this.indicator.style.top=i+"px";this.indicator.style.height=s+"px"}else{const e=t.getBoundingClientRect().y;const i=t.offsetHeight;this.indicator.style.top=e+"px";this.indicator.style.height=i+"px"}}}repositionIndicatorAfterMenuUncollapse(){const t=this.el.querySelector(".item--active");if(t!==null){const e=t.shadowRoot.querySelector(".main-container");const i=e.getBoundingClientRect().y;const s=e.offsetHeight;this.indicator.style.top=i+"px";this.indicator.style.height=s+"px"}}hideIndicator(){this.indicator.classList.add("hide")}showIndicator(){this.indicator.classList.remove("hide")}collapseUncollapsedLists1(){const t=document.querySelectorAll(".list-one__item.uncollapsed");Array.from(t).forEach((function(t){t.classList.add("speed-zero");t.setAttribute("data-uncollapsed-max-height",t.style.maxHeight);t.style.maxHeight=t.shadowRoot.querySelector(".main-container").offsetHeight+"px"}))}uncollapseCollapsedLists(){const t=document.querySelectorAll(".list-one__item.uncollapsed");Array.from(t).forEach((function(t){t.addEventListener("transitionend",e);function e(i){if(i.propertyName==="max-height"){t.classList.remove("speed-zero");t.removeEventListener("transitionend",e)}}const i=t.getAttribute("data-uncollapsed-max-height");t.style.maxHeight=i;t.removeAttribute("data-uncollapsed-max-height")}))}switchListOneOrder(){const t=document.querySelectorAll(".list-one__item");Array.from(t).forEach((function(t){t.classList.add("switch-order")}))}undoSwitchListOneOrder(){const t=document.querySelectorAll(".list-one__item");Array.from(t).forEach((function(t){t.classList.remove("switch-order")}))}updateListItem1TransitionSpeed(t,e){if(e>this.topHeightSpeed){e=this.topHeightSpeed}t.style.transitionDuration=e/this.speedDivisionValue+"s"}updateListItem1MaxHeight(t){const e=t.shadowRoot.querySelector(".main-container").clientHeight;const i=t.querySelectorAll(":scope > ch-sidebar-menu-list > ch-sidebar-menu-list-item");let s=e;Array.from(i).forEach((function(t){s+=parseInt(t.style.maxHeight.slice(0,-2))}));t.style.maxHeight=s+"px"}toggleIcon(t){if(t.classList.contains("uncollapsed")){t.classList.remove("uncollapsed")}else{t.classList.add("uncollapsed")}}setTransitionSpeed(t){let e=0;const i=t.querySelector("ch-sidebar-menu-list").clientHeight;if(i>this.topHeightSpeed){e=this.topHeightSpeed}else{e=i}t.style.transitionDuration=e/this.speedDivisionValue+"s"}collapseList(t){const e=t.shadowRoot.querySelector(".main-container").offsetHeight;t.style.maxHeight=e+"px";this.storeSidebarCollapsedItem(t)}uncollapseList(t){const e=t.shadowRoot.querySelector(".main-container").clientHeight;const i=t.querySelector("ch-sidebar-menu-list").clientHeight;t.style.maxHeight=e+i+"px";this.storeSidebarUncollapsedItem(t)}storeSidebarActiveItem(t){const e=new a;const i=e.get("active-item");if(i!=""&&i!=null){e.remove("active-item")}e.add("active-item",t.id)}storeSidebarUncollapsedItem(t){const e=new a;if(!t.classList.contains("list-three__item")){e.add(t.id,"uncollapsed")}}storeSidebarCollapsedItem(t){const e=new a;e.remove(t.id)}storeSidebarState(){const t=new a;const e=t.get("isCollapsed");if(e==="false"){t.add("isCollapsed","true")}else{t.add("isCollapsed","false")}}getSidebarState(){const t=new a;const e=t.getAllItems();for(let t=0;t<e.length;t++){let i;switch(true){case e[t].key==="active-item":{i=document.getElementById(e[t].value);if(i){i.classList.add("item--active");this.activeItem=i.id;this.main.scrollTop=100}break}case e[t].value==="uncollapsed":{i=document.getElementById(e[t].key);if(i){i.classList.add("uncollapsed")}break}}}}getSidebarCollapsedState(){const t=new a;const e=t.getAllItems();for(let t=0;t<e.length;t++){switch(true){case e[t].key==="isCollapsed":{if(e[t].value==="true"){this.collapseUncollapsedLists1();this.switchListOneOrder();this.menu.classList.add("collapsed");setTimeout(function(){this.repositionIndicatorAfterMenuCollapse()}.bind(this),50);this.isCollapsed=true;this.collapseMenuHandler()}else{this.isCollapsed=false}}}}}collapseMenuHandler(){this.collapseBtnClicked.emit({isCollapsed:this.isCollapsed})}render(){return s(o,{key:"a98ae58752b441f65b105c325451a130aee7f89f"},s("nav",{key:"58ea46cbba059b7bcd242af948135b814e64ecb3",id:"menu",part:"menu",ref:t=>this.menu=t},s("h1",{key:"46ebb8e31bfa8fa39fcea9c1c09a2db90c8e3b08",id:"title",ref:t=>this.title=t},this.menuTitle),s("main",{key:"4845be4f00511d13181b402e407a982998eaeaf7",id:"main",ref:t=>this.main=t},s("slot",{key:"50ec0eda3ad56d89daa93b82ea76e794069003c4"})),s("footer",{key:"b3022f1dbf85d9557961f25561d117bc2e2d9f5b",id:"footer",ref:t=>this.footer=t},s("div",{key:"78765b0d27004943f3d98f9bea8fc6f890e5bb35",id:"custom-content"},s("slot",{key:"44290e6cdda434d07ec63cf87ed10fe89f1b90b9",name:"footer"})),this.collapsible&&s("div",{key:"e28469a5d8d6ba9251577a4b4ed8ca5252fbb413",id:"collapse-menu",ref:t=>this.collapseButton=t},s("div",{key:"d034ad19c91bd78a083cffb0a162b48af9ab7c31",part:"collapse-menu-icon",class:"collapse-icon"})))))}static get assetsDirs(){return["sidebar-menu-assets"]}};h([n({exclude:".sidebar__toggle-ico"}),d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],u.prototype,"closeSidebar",null);u.style=r;export{u as ch_sidebar_menu};
//# sourceMappingURL=p-3e0e6da2.entry.js.map