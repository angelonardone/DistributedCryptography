import{r as t,g as i,h as e,H as a,c as n,f as s}from"./p-7af91c05.js";import{g as o,a as r}from"./p-ebac9feb.js";import{N as l,h as c,D as h,S as d}from"./p-9db16727.js";import{u as p,t as g,j as v,k as m}from"./p-2cf94d81.js";import{a as u}from"./p-a859514b.js";import{f as b}from"./p-d161cf55.js";import{s as f,r as x,a as _}from"./p-95a1ae9b.js";import"./p-e7a788ef.js";const k=0;const y=t=>t?l.EVEN_LEVEL:l.ODD_LEVEL;const z=':where(button,a){all:unset;display:inline-flex;align-items:center;user-select:none;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{box-sizing:border-box}:host{display:grid;position:relative}:host(.expandable){grid-template-rows:max-content 0fr;transition:grid-template-rows var(--ch-navigation-list-item-expand-collapse-duration) var(--ch-navigation-list-item-expand-collapse-timing-function)}:host(.expandable--expanded){grid-template-rows:max-content 1fr}.indicator{position:absolute;inset-block:0;inset-inline-start:0;inline-size:2px;background-color:currentColor;pointer-events:none}.ch-disabled{pointer-events:none}.caption{display:flex;align-items:center;flex:1}.expandable{display:grid;overflow:hidden;transition:visibility var(--ch-navigation-list-item-expand-collapse-duration) allow-discrete}.expandable--collapsed{visibility:hidden}.expandable-button::before{content:"";display:grid;place-items:center;inline-size:var(--ch-navigation-list-item__expandable-button-size);block-size:var(--ch-navigation-list-item__expandable-button-size);pointer-events:none;order:-2;z-index:1;background-color:currentColor;-webkit-mask:no-repeat center/var(--ch-navigation-list-item__expandable-button-image-size) url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" fill="none"><path d="M16.5 5L8.7 12.7L1 5" stroke="%23000" stroke-width="1.2" stroke-linecap="round"/></svg>\');transition:transform var(--ch-navigation-list-item-expand-collapse-duration) var(--ch-navigation-list-item-expand-collapse-timing-function)}.expandable-button--end::before{order:1}.expandable-button--collapsed-start::before{transform:rotate(-90deg)}.expandable-button--expanded-end::before{transform:rotate(-180deg)}.action{display:flex;align-items:center;gap:var(--ch-navigation-list-item-gap);padding-inline-start:var(--ch-navigation-list-item-indentation);--ch-navigation-list-item-start-img:var(--ch-start-img--base)}.action--navigation-list-collapsed{flex-direction:column;text-align:center}.action.start-img--hover:hover{--ch-navigation-list-item-start-img:var(--ch-start-img--hover)}.action.start-img--active:active{--ch-navigation-list-item-start-img:var(--ch-start-img--active)}.action.start-img--focus:focus{--ch-navigation-list-item-start-img:var(--ch-start-img--focus)}.action.start-img--disabled.ch-disabled{--ch-navigation-list-item-start-img:var(--ch-start-img--disabled)}.pseudo-img--start::after{order:-1;content:"";display:block;inline-size:var(--ch-navigation-list-item__image-size);block-size:var(--ch-navigation-list-item__image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-navigation-list-item__image-size)}.start-img-type--background::after{background:no-repeat center/var(--ch-navigation-list-item__background-image-size) var(--ch-navigation-list-item-start-img)}.start-img-type--mask::after{-webkit-mask:no-repeat center/var(--ch-navigation-list-item__background-image-size) var(--ch-navigation-list-item-start-img);background-color:currentColor}ch-tooltip{--ch-tooltip-separation:var(--ch-navigation-list-item__tooltip-separation);--ch-tooltip-separation-x:var(\n    --ch-navigation-list-item__tooltip-separation-x\n  );--ch-tooltip-separation-y:var(\n    --ch-navigation-list-item__tooltip-separation-y\n  )}';const C=z;let w;const I=class{constructor(i){t(this,i);this.caption=undefined;this.disabled=false;this.expandable=true;this.expandableButton="decorative";this.expandableButtonPosition="start";this.expanded=undefined;this.getImagePathCallback=undefined;this.level=undefined;this.link=undefined;this.model=undefined;this.navigationListExpanded=true;this.selected=false;this.selectedLinkIndicator=false;this.showCaptionOnCollapse="inline";this.startImgSrc=undefined;this.startImgType="background";this.tooltipDelay=100}#t;#i;get el(){return i(this)}getImagePathCallbackChanged(){this.#t=this.#e()}#e=()=>{if(!this.startImgSrc){return undefined}const t=this.getImagePathCallback??w;if(!t){return undefined}const i=t(this.model);return i?p(i,"start"):undefined};#a=(t,i)=>t&&this.showCaptionOnCollapse==="tooltip"?e("ch-tooltip",{key:"tooltip",actionElement:this.#i??null,actionElementAccessibleName:this.caption,blockAlign:"center",inlineAlign:"outside-end",delay:this.tooltipDelay,exportparts:v({[l.CAPTION]:true,[l.NAVIGATION_LIST_COLLAPSED]:true,[l.TOOLTIP]:true,[l.DISABLED]:this.disabled,[l.SELECTED]:this.selected,[l.NOT_SELECTED]:!this.selected,[i]:true},"window")},this.caption):e("span",{key:"caption",class:"caption",part:g({[l.CAPTION]:true,[l.NAVIGATION_LIST_COLLAPSED]:t,[l.DISABLED]:this.disabled,[l.SELECTED]:this.selected,[l.NOT_SELECTED]:!this.selected,[i]:true})},this.caption);#n=(t,i,a,n)=>{const s=!this.navigationListExpanded;const o=this.#t?.classes;const r={action:true,"action--navigation-list-collapsed":s,[h]:this.disabled,[`start-img-type--${this.startImgType??"background"} pseudo-img--start`]:!!this.#t,[o]:!!o,"expandable-button":a,[`expandable-button--expanded-${this.expandableButtonPosition}`]:a&&this.expanded,[`expandable-button--collapsed-${this.expandableButtonPosition}`]:a&&!this.expanded,"expandable-button--end":a&&n==="end"};return this.link?e("a",{key:"hyperlink",role:this.disabled?"link":undefined,"aria-current":this.selected?"page":undefined,"aria-disabled":this.disabled?"true":undefined,class:r,style:this.#t?.styles??undefined,part:g({[l.ACTION]:true,[l.LINK]:true,[l.SELECTED]:this.selected,[l.NOT_SELECTED]:!this.selected,[l.EXPAND_BUTTON]:a,[l.START]:a&&n==="start",[l.END]:a&&n==="end",[l.NAVIGATION_LIST_COLLAPSED]:s,[t]:true,[i]:true}),href:!this.disabled?this.link.url:undefined,rel:!this.disabled?this.link.rel:undefined,target:!this.disabled?this.link.target:undefined,ref:t=>this.#i=t},this.#a(s,i)):e("button",{key:"button",class:r,style:this.#t?.styles??undefined,part:g({[l.ACTION]:true,[l.BUTTON]:true,[l.EXPAND_BUTTON]:a,[l.START]:a&&n==="start",[l.END]:a&&n==="end",[l.NAVIGATION_LIST_COLLAPSED]:s,[t]:true,[i]:true}),disabled:this.disabled,type:"button",ref:t=>this.#i=t},this.#a(s,i))};connectedCallback(){w??=o("getImagePathCallback","ch-navigation-list-render");this.#t=this.#e();this.el.setAttribute("role","listitem");this.el.setAttribute("exportparts",c);this.el.style.setProperty("--level",`${this.level}`)}render(){const t=`level-${this.level}`;const i=this.level%2===0;const n=y(i);const s=this.expandable&&this.navigationListExpanded&&this.expandableButton==="decorative";const o=this.expandableButtonPosition;return e(a,{key:"b1877a1808992226f714e33e2d22dd680f6d0fa4",class:{expandable:this.expandable,"expandable--expanded":this.expanded,selected:this.selected&&this.selectedLinkIndicator}},this.#n(n,t,s,o),this.selected&&this.selectedLinkIndicator&&e("div",{key:"8b7e47e031c12f23ad1a7b7c3317e943be1b4b55",class:"indicator",part:g({[l.INDICATOR]:true,[l.DISABLED]:this.disabled})}),this.expandable&&e("div",{key:"64951bd1e92b57a2991908370066c4f7f07b54ad",role:"list",class:{expandable:true,"expandable--collapsed":!this.expanded},part:g({[l.GROUP]:true,[l.DISABLED]:this.disabled,[l.SELECTED]:this.selected,[l.NOT_SELECTED]:!this.selected,[n]:this.level!==k,[l.START]:s&&o==="start",[l.END]:s&&o==="end",[t]:true})},e("slot",{key:"6688a1a3a242f9e0f0e222b1d3020037c0167857"})))}static get watchers(){return{getImagePathCallback:["getImagePathCallbackChanged"]}}};I.style=C;const j="*,::after,::before{box-sizing:border-box}:host{--ch-navigation-list-collapsed-size:var(\n    --ch-sidebar-inline-size--collapsed,\n    auto\n  );--ch-navigation-list-item-custom-padding-inline-start:0px;--ch-navigation-list-item-expand-collapse-duration:0ms;--ch-navigation-list-item-expand-collapse-timing-function:linear;--ch-navigation-list-item-gap:0px;--ch-navigation-list-item__expandable-button-size:0.875em;--ch-navigation-list-item__expandable-button-image-size:100%;--ch-navigation-list-item__image-size:0.875em;--ch-navigation-list-item__background-image-size:100%;--ch-navigation-list-item__tooltip-separation:0px;--ch-navigation-list-item__tooltip-separation-x:var(\n    --ch-navigation-list-item__tooltip-separation\n  );--ch-navigation-list-item__tooltip-separation-y:var(\n    --ch-navigation-list-item__tooltip-separation\n  );--ch-navigation-list-tab-size:calc(\n    var(--ch-navigation-list-item__image-size) +\n      var(--ch-navigation-list-item__expandable-button-size) +\n      (var(--ch-navigation-list-item-gap) * 2)\n  );display:grid;grid-auto-rows:max-content;overflow:auto}:host(.ch-navigation-list--contain){contain:strict}:host(.ch-navigation-list--collapsed){inline-size:var(--ch-navigation-list-collapsed-size)}::part(item__action){--own-offset:0px;--ch-navigation-list-item-indentation:calc(\n    var(--ch-navigation-list-tab-size) * var(--level) - var(--own-offset) -\n      var(--parent-offset, 0px) +\n      var(--ch-navigation-list-item-custom-padding-inline-start)\n  )}::part(item__action expand-button start){--own-offset:calc(\n    var(--ch-navigation-list-item__expandable-button-size) +\n      var(--ch-navigation-list-item-gap)\n  )}::part(item__action expand-button start level-0){--own-offset:0px}::part(item__action even-level){--parent-offset:var(--parent-offset-odd)}::part(item__action odd-level){--parent-offset:var(--parent-offset-even)}::part(item__group level-0 end){--parent-offset-even:calc(\n    var(--ch-navigation-list-item-gap) +\n      var(--ch-navigation-list-item__expandable-button-size)\n  )}::part(item__group even-level){--parent-offset-even:calc(\n    var(--ch-navigation-list-item__expandable-button-size) +\n      var(--ch-navigation-list-item-gap) + var(--parent-offset-odd, 0px)\n  )}::part(item__group odd-level){--parent-offset-odd:calc(\n    var(--ch-navigation-list-item__expandable-button-size) +\n      var(--ch-navigation-list-item-gap) + var(--parent-offset-even, 0px)\n  )}";const L=j;const $=t=>r("getImagePathCallback","ch-navigation-list-render",(i=>({base:m(t.useGxRender?b(i.startImgSrc,t.gxSettings,t.gxImageConstructor):i.startImgSrc,i.startImgType)})));const P=(t,i)=>!!t.link&&!!i.selectedLink?.link?.url&&i.selectedLink.link.url===t.link.url&&i.selectedLink.id===t.id;const S=(t,i,a,n)=>e("ch-navigation-list-item",{key:t.id??`${a}-${n}`,id:t.id,caption:t.caption,disabled:t.disabled,expandable:t.items!=null,expandableButton:i.expandableButton,expandableButtonPosition:i.expandableButtonPosition,expanded:t.expanded,level:a,link:t.link,model:t,navigationListExpanded:i.expanded,selected:P(t,i),selectedLinkIndicator:i.selectedLinkIndicator,showCaptionOnCollapse:i.showCaptionOnCollapse,startImgSrc:t.startImgSrc,startImgType:t.startImgType,tooltipDelay:i.tooltipDelay},i.expanded&&t.items!=null&&t.items.map(((t,e)=>i.renderItem(t,i,a+1,e))));let A=0;const B="ch-navigation-list-item";const E=class{constructor(i){t(this,i);this.buttonClick=n(this,"buttonClick",7);this.hyperlinkClick=n(this,"hyperlinkClick",7);this.autoGrow=false;this.expandableButton="decorative";this.expandableButtonPosition="start";this.getImagePathCallback=undefined;this.expanded=true;this.expandSelectedLink=false;this.gxImageConstructor=undefined;this.gxSettings=undefined;this.model=undefined;this.renderItem=S;this.selectedLink={link:{url:undefined}};this.selectedLinkIndicator=false;this.showCaptionOnCollapse="inline";this.tooltipDelay=100;this.useGxRender=false}#s;get el(){return i(this)}modelChanged(){if(this.model&&this.expandSelectedLink){this.#o(this.model)}}selectedLinkChanged(){if(this.model&&this.expandSelectedLink){this.#o(this.model)}}buttonClick;hyperlinkClick;#o=t=>{for(let i=0;i<t.length;i++){const e=t[i];if(P(e,this)){e.expanded=true;return true}if(e.items!=null){const t=this.#o(e.items);if(t){e.expanded=true;return true}}}return false};#r=t=>{const i=t.composedPath();const e=i.findIndex((t=>t.tagName?.toLowerCase()==="button"||t.tagName?.toLowerCase()==="a"));if(e===-1){return}const a=i[e+2];if(!a||a.tagName?.toLowerCase()!==B){return}const n=a.model;const o=this.expanded;if(n.link){const i=this.hyperlinkClick.emit({event:t,item:n});if(i.defaultPrevented){t.preventDefault();return}this.selectedLink={id:n.id,link:n.link}}else{const i=this.buttonClick.emit(n);if(i.defaultPrevented){t.preventDefault();return}}if(o&&n.items!=null){n.expanded=!n.expanded;s(this)}};connectedCallback(){this.#s??=`ch-navigation-list-render-${A++}`;u(this.el.shadowRoot.adoptedStyleSheets);if(!o("getImagePathCallback","ch-navigation-list-render")){$(this)}if(this.model&&this.expandSelectedLink){this.#o(this.model)}f(this.#s,{getSubscriberRef:()=>this.el,observerCallback:t=>{this.expanded=t}});_(this.#s);this.el.setAttribute("role","list")}disconnectedCallback(){x(this.#s)}render(){return e(a,{key:"d451ca9721cf57e9b197fb914be9aa715f937776",class:{[d]:true,"ch-navigation-list--collapsed":!this.expanded,"ch-navigation-list--contain":!this.autoGrow},onClick:this.#r},this.model?.map(((t,i)=>this.renderItem(t,this,k,i))))}static get watchers(){return{model:["modelChanged"],selectedLink:["selectedLinkChanged"]}}};E.style=L;export{I as ch_navigation_list_item,E as ch_navigation_list_render};
//# sourceMappingURL=p-e0524dd6.entry.js.map