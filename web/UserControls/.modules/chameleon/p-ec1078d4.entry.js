import{r as t,c as i,g as e,h as s,H as n,f as a}from"./p-7af91c05.js";import{t as o,u as r}from"./p-2cf94d81.js";import{k as c,l,m as h,K as d,n as f,o as u,p as m,s as g,S as p}from"./p-9db16727.js";import{g as b,D as v}from"./p-ebac9feb.js";import{f as _,m as y}from"./p-5f934da7.js";import{r as k}from"./p-23a9d308.js";import{a as x}from"./p-a859514b.js";import"./p-e7a788ef.js";const w=':where(button,a){all:unset;display:inline-flex;align-items:center;user-select:none;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{box-sizing:border-box}:host,.group{display:grid;grid-template-rows:min-content}.action::before{content:"";inline-size:var(--ch-action-list-group__expandable-button-size);block-size:var(--ch-action-list-group__expandable-button-size);background-color:currentColor;-webkit-mask:no-repeat center/var(--ch-action-list-group__expandable-button-image-size) url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" fill="none"><path d="M16.5 5L8.7 12.7L1 5" stroke="%23000" stroke-width="1.2" stroke-linecap="round"/></svg>\')}.action--collapsed::before{transform:rotate(-90deg)}.expandable{display:grid;grid-auto-rows:min-content;position:relative;padding:0;margin:0}.expandable--lazy-loaded{content-visibility:auto;contain-intrinsic-size:auto 100px}.expandable--collapsed{display:none;overflow:hidden}';const C=w;const L="expandable";const z=class{constructor(e){t(this,e);this.loadLazyContent=i(this,"loadLazyContent",7);this.caption=undefined;this.disabled=false;this.downloading=false;this.expandable=undefined;this.expanded=undefined;this.lazyLoad=false;this.metadata=undefined;this.parts=undefined;this.selected=false;this.showDownloadingSpinner=true}#t;get el(){return e(this)}loadLazyContent;async setFocus(){if(this.expandable&&this.#t){this.#t.focus()}}#i=()=>this.expandable?this.expanded??false:true;connectedCallback(){this.el.setAttribute("role","listitem");this.el.setAttribute("part",c.GROUP);this.el.setAttribute("exportparts",l)}render(){const t=!this.lazyLoad;const i=t&&this.#i();return s(n,{key:"0944994f4bbee31eeb223fa845b1c13920f96ced"},this.expandable?s("button",{"aria-controls":t?L:null,"aria-expanded":t?i.toString():null,class:{action:true,"action--collapsed":!i},disabled:this.disabled,part:o({[h.ACTION]:true,[h.SELECTED]:this.selected,[h.NOT_SELECTED]:!this.selected,[h.DISABLED]:this.disabled}),type:"button",ref:t=>this.#t=t},this.caption):s("span",{class:"action",part:o({[h.CAPTION]:true,[h.DISABLED]:this.disabled})},this.caption),t&&s("ul",{key:"c16e98f62ea84cc72a366428240ddcd926e4f057","aria-busy":(!!this.downloading).toString(),"aria-live":this.downloading?"polite":null,class:{expandable:true,"expandable--collapsed":!i,"expandable--lazy-loaded":!this.downloading},part:o({[h.EXPANDABLE]:true,[h.EXPANDED]:i,[h.COLLAPSED]:!i,[h.LAZY_LOADED]:!this.downloading}),id:L},s("slot",{key:"61c9e24f9758d141fadcdb47717b8fad21ed8da7"})))}static get delegatesFocus(){return true}};z.style=C;const I=(t,i,e,n)=>n==="img"&&e&&s("img",{"aria-hidden":"true",class:t,part:i,alt:"",src:e,loading:"lazy"});const V=/\s+/g;const H=(t,i)=>{if(t==null){return}for(let e=0;e<t.length;e++){const s=t[e];if(s.part){i.add(s.part.trim().replaceAll(V,","))}}};const M=(t,i)=>{if(t!=null){H(t.start,i);H(t.center,i);H(t.end,i)}};const $=t=>{const i=new Set;M(t["block-start"],i);M(t["block-end"],i);M(t["inline-caption"],i);M(t["stretch-start"],i);M(t["stretch-end"],i);return i};const A=["block-start","block-end","inline-caption","stretch-start","stretch-end"];const S=(t,i)=>{if(i==null){return false}return i.some((i=>i.action&&i.action.type===t))};const j=(t,i,e)=>{if(e==null){return undefined}let s;if(S(t,e.start)){s={section:i,align:["start"]}}if(S(t,e.center)){if(s){s.align.push("center")}else{s={section:i,align:["center"]}}}if(S(t,e.end)){if(s){s.align.push("end")}else{s={section:i,align:["end"]}}}return s};const Z=(t,i)=>{if(i==null){return undefined}let e=undefined;A.forEach((s=>{const n=j(t,s,i[s]);if(n){e??=[];e.push(n)}}));return e};const D=':where(button,a){all:unset;display:inline-flex;align-items:center;user-select:none;touch-action:manipulation;cursor:pointer}button:disabled{pointer-events:none}*,::after,::before{box-sizing:border-box}:host{display:grid;grid-template-rows:min-content}.action{display:grid;grid-template:"stretch-start block-start stretch-end" max-content "stretch-start inline-caption stretch-end" max-content "stretch-start block-end stretch-end" max-content/max-content 1fr max-content}.align-container{display:grid;grid-auto-flow:column;white-space:break-spaces}.stretch-start{grid-area:stretch-start}.block-start{grid-area:block-start}.inline-caption{grid-area:inline-caption;align-items:center;min-block-size:var(--ch-action-list-item__image-size)}.block-end{grid-area:block-end}.stretch-end{grid-area:stretch-end}.stretch-start,.stretch-end{align-self:stretch}.align-start{display:flex;justify-self:flex-start}.align-center{display:flex;justify-self:center}.align-end{display:flex;justify-self:flex-end}.valign-start{display:flex;align-self:self-start}.valign-center{display:flex;align-self:center}.valign-end{display:flex;align-self:self-end}:host(:not(:hover):not(:focus-within)) .show-on-mouse-hover{display:none}.additional-item{display:inline-grid;grid-auto-columns:max-content;grid-auto-flow:column;align-items:center}.fix::before,.modify::before,.remove::before,.confirm-action::before,.cancel-action::before{content:"";display:inline-block;inline-size:var(--ch-action-list-item__image-size);block-size:var(--ch-action-list-item__image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-action-list-item__image-size);-webkit-mask:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-start-start);background-color:var(--ch-action-list-item__action-color)}.fixed{--ch-start-start:var(--ch-action-list-item__additional-item-fixed-image)}.not-fixed{--ch-start-start:var(--ch-action-list-item__additional-item-not-fixed-image)}.modify{--ch-start-start:var(--ch-action-list-item__additional-item-modify-image)}.remove{--ch-start-start:var(--ch-action-list-item__additional-item-remove-image)}.confirm-action{--ch-start-start:var(--ch-action-list-item__additional-item-confirm-image)}.cancel-action{--ch-start-start:var(--ch-action-list-item__additional-item-cancel-image)}.img{display:inline-block;inline-size:var(--ch-action-list-item__image-size);block-size:var(--ch-action-list-item__image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-action-list-item__image-size)}.img-type--background{background:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-start-start)}.img-type--mask{-webkit-mask:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-start-start);background-color:currentColor}.pseudo-img--start::before,.pseudo-img--end::after,.img{display:inline-block;inline-size:var(--ch-action-list-item__image-size);block-size:var(--ch-action-list-item__image-size);content-visibility:auto;contain-intrinsic-size:auto var(--ch-action-list-item__image-size)}.pseudo-img--start::before,.img--start{--ch-img:var(--ch-start-start)}.pseudo-img--end::after,.img--end{--ch-img:var(--ch-end-img)}.start-img-type--background::before,.end-img-type--background::after{content:"";background:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-img)}.start-img-type--mask::before,.end-img-type--mask::after{content:"";-webkit-mask:no-repeat center/var(--ch-action-list-item__background-image-size) var(--ch-img);background-color:currentColor}.additional-item.not-actionable{--ch-start-start:var(--ch-start-img--base)}.action:active .additional-item.not-actionable.start-img--active{--ch-start-start:var(--ch-start-img--active)}.action:focus .additional-item.not-actionable.start-img--focus{--ch-start-start:var(--ch-start-img--focus)}.action:hover .additional-item.not-actionable.start-img--hover{--ch-start-start:var(--ch-start-img--hover)}.action:disabled .additional-item.not-actionable.start-img--disabled{--ch-start-start:var(--ch-start-img--disabled)}';const B=D;const E={fix:m.ACTION_FIX,modify:m.ACTION_MODIFY,remove:m.ACTION_REMOVE,custom:m.ACTION_CUSTOM};const F=class{constructor(e){t(this,e);this.captionChange=i(this,"captionChange",7);this.fixedChange=i(this,"fixedChange",7);this.remove=i(this,"remove",7);this.itemDragEnd=i(this,"itemDragEnd",7);this.additionalInfo=undefined;this.caption=undefined;this.checkbox=false;this.checked=false;this.customRender=false;this.deleting=false;this.disabled=false;this.downloading=false;this.editable=undefined;this.editing=false;this.fixed=false;this.getImagePathCallback=undefined;this.indeterminate=false;this.metadata=undefined;this.nested=false;this.nestedExpandable=false;this.parts=undefined;this.selectable=false;this.selected=false;this.showDownloadingSpinner=true;this.translations=undefined}#e={fix:()=>this.fixedChange.emit({itemId:this.el.id,value:!this.fixed}),remove:()=>{if(!this.editing){this.deleting=true}},custom:t=>t(),modify:()=>{if(!this.deleting){this.editing=true}}};#s={modify:()=>this.translations.confirmModify,remove:()=>this.translations.confirmDelete};#n={modify:()=>this.translations.cancelModify,remove:()=>this.translations.cancelDelete};#a;#o;#r;#c;get el(){return e(this)}additionalInfoChanged(){this.#l();this.#h()}captionChange;fixedChange;remove;itemDragEnd;#d=(t,i=false)=>()=>{if(!this.editing){return}this.editing=false;const e=this.#c.value;if(i&&e.trim()!==""&&this.caption!==e){this.captionChange.emit({itemId:this.el.id,newCaption:e})}if(t){this.#r.focus()}};#f=t=>{t.stopPropagation();if(t.code!==d.ENTER&&t.code!==d.ESCAPE){return}t.preventDefault();const i=t.code===d.ENTER;this.#d(true,i)()};#u=t=>t.map((t=>t.jsx?t.jsx():this.#m(t)));#m=t=>{const i=t;const e=!!t.imgSrc;const n=e&&t.imgType!=="img";const a=n?g[t.imgType??"background"]:null;const r=n?this.#g(i):null;const c=e&&I("img",t.part?`${m.ADDITIONAL_ITEM} ${m.ADDITIONAL_IMAGE} ${t.part}`:`${m.ADDITIONAL_ITEM} ${m.ADDITIONAL_IMAGE}`,t.imgSrc,t.imgType);const l=i.action;if(l){const e=l.type==="fix";const h=l.type==="custom";return s("button",{key:i.id,"aria-label":i.accessibleName,class:{"additional-item":true,[a]:n&&h,[r?.classes]:n&&h&&!!r,"show-on-mouse-hover":e&&!this.fixed||!e&&l.showOnHover,[l.type]:true,fixed:e&&this.fixed,"not-fixed":e&&!this.fixed},part:o({[m.ADDITIONAL_ITEM]:true,[m.ADDITIONAL_ACTION]:true,[m.DISABLED]:this.disabled,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected,[E[l.type]]:true,[m.FIXED]:e&&this.fixed,[m.NOT_FIXED]:e&&!this.fixed,[t.part]:!!t.part}),style:n&&h?r?.styles:null,disabled:this.disabled,type:"button",onClick:!this.disabled?this.#p(l.type,h?l.callback:undefined):undefined},h&&c,t.caption&&t.caption)}if(t.caption){return s("span",{key:i.id??null,class:{"additional-item not-actionable":true,[a]:!!a,[r?.classes]:!!r},part:o({[m.ADDITIONAL_ITEM]:true,[m.ADDITIONAL_TEXT]:true,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected,[t.part]:!!t.part}),style:n&&r?.styles},c,t.caption)}if(n){return s("div",{"aria-hidden":"true",class:{"additional-item not-actionable":true,[f[t.imgType??"background"]]:true,[r?.classes]:!!r},part:o({[m.ADDITIONAL_ITEM]:true,[m.ADDITIONAL_IMAGE]:true,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected,[t.part]:!!t.part}),style:n&&r?.styles})}if(e){return c}return undefined};#p=(t,i)=>e=>{e.stopPropagation();if(i){i(this.el.id)}else{this.#e[t]()}};#l=()=>{let t=undefined;if(this.additionalInfo){const i=$(this.additionalInfo);if(i.size>0){t=`${u},${Array.from(i).join(",")}`}}this.el.setAttribute("exportparts",t??u)};#h=()=>{this.#o=Z("remove",this.additionalInfo);this.#a=Z("modify",this.additionalInfo)};#b=(t,i,e=false)=>{if(!t){return}const n=`item__${i}`;let a;let o=undefined;if(this.editing&&this.#a!==undefined&&this.#a.some((t=>t.section===i))){a="modify";o=this.#a.find((t=>t.section===i)).align}else if(this.deleting&&this.#o!==undefined&&this.#o.some((t=>t.section===i))){a="remove";o=this.#o.find((t=>t.section===i)).align}return s("div",{key:n,class:`align-container ${i}`,part:n},t.start&&s("div",{key:`${n}-start`,class:e?"align-start valign-start":"align-start",part:`${n} start`},a&&o.includes("start")?this.#v(a):this.#u(t.start)),t.center&&s("div",{key:`${n}-center`,class:e?"align-center valign-center":"align-center",part:`${n} center`},a&&o.includes("center")?this.#v(a):this.#u(t.center)),t.end&&s("div",{key:`${n}-end`,class:e?"align-end valign-end":"align-end",part:`${n} end`},a&&o.includes("end")?this.#v(a):this.#u(t.end)))};#v=t=>[s("button",{"aria-label":this.#s[t](),title:this.#s[t](),class:"confirm-action",part:o({[m.ADDITIONAL_ITEM_CONFIRM]:true,[m.ACTION_ACCEPT]:true,[m.DISABLED]:this.disabled,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected}),disabled:this.disabled,type:"button",onClick:!this.disabled?this.#_(t):undefined}),s("button",{"aria-label":this.#n[t](),title:this.#n[t](),class:"cancel-action",part:o({[m.ADDITIONAL_ITEM_CONFIRM]:true,[m.ACTION_CANCEL]:true,[m.DISABLED]:this.disabled,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected}),disabled:this.disabled,type:"button",onClick:!this.disabled?this.#y:undefined})];#_=t=>i=>{i.stopPropagation();if(t==="modify"){this.#d(true,true)()}else if(t==="remove"){this.remove.emit(this.el.id)}};#y=t=>{t.stopPropagation();this.editing=false;this.deleting=false};#g=t=>{if(!t.imgSrc){return null}const i=this.getImagePathCallback??b("getImagePathCallback","ch-action-list-render")??v;const e=i(t);return e?r(e,"start"):null};connectedCallback(){this.el.setAttribute("role","listitem");this.el.setAttribute("part",c.ITEM);this.#l();this.#h()}render(){const t=this.additionalInfo;const i=!!this.additionalInfo;const e=i&&t["stretch-start"];const a=i&&t["block-start"];const r=i&&t["inline-caption"];const c=i&&t["block-end"];const l=i&&t["stretch-end"];const h=!!this.parts;return s(n,{key:"6178b35a25c32e76ee103166c985ce6ebb587ba3","aria-selected":this.selectable&&this.selected?"true":null},s("button",{key:"3a73aca975b6113e11f21b938685712a6c149c56",class:"action",disabled:this.disabled,part:o({[m.ACTION]:true,[m.NESTED]:this.nested,[m.NESTED_EXPANDABLE]:this.nestedExpandable,[m.SELECTABLE]:this.selectable,[m.NOT_SELECTABLE]:!this.selectable,[m.SELECTED]:this.selectable&&this.selected,[m.NOT_SELECTED]:this.selectable&&!this.selected,[m.DISABLED]:this.disabled}),type:"button",ref:t=>this.#r=t},this.#b(e,"stretch-start",true),this.#b(a,"block-start"),s("div",{key:"item__inline-caption",class:"align-container inline-caption",part:o({"item__inline-caption":true,[m.EDITING]:this.editing,[m.NOT_EDITING]:!this.editing})},this.editing?s("ch-edit",{autoFocus:true,part:h?`${m.EDIT_CAPTION} ${this.parts}`:m.EDIT_CAPTION,disabled:this.disabled,value:this.caption,onKeyDown:!this.disabled?this.#f:undefined,ref:t=>this.#c=t}):this.caption&&s("span",{part:m.CAPTION},this.caption),r&&[r.start&&s("div",{key:"item__inline-caption-start",class:"align-start",part:"item__inline-caption start"},this.#u(r.start)),r.end&&s("div",{key:"item__inline-caption-end",class:"align-end",part:"item__inline-caption end"},this.#u(r.end))]),this.#b(c,"block-end"),this.#b(l,"stretch-end")))}static get delegatesFocus(){return true}static get watchers(){return{additionalInfo:["additionalInfoChanged"]}}};F.style=B;const R="ch-action-list-item";const P="ch-action-list-group";const K=t=>`${R}[id="${t}"]`;const G=t=>`${P}[id="${t}"]`;const O=t=>{t.stopPropagation();return t.composedPath().find((t=>{const i=t.tagName?.toLowerCase();return i===R||i===P}))};const U=(t,i)=>i.findIndex((i=>i.id&&i.id===t.id));const T=t=>t.root??t.parentItem.items;const W=(t,i)=>i.get(t).item;const q=d.F2;const J="ch-action-list-item";const N=t=>t.tagName.toLowerCase()===J;const Q=()=>_().find(N);const X=(t,i,e)=>{const s=i.shadowRoot.querySelector(t.type==="actionable"?K(t.id):G(t.id));const n=y(e);if(t.type==="group"){s.setFocus()}else{s.focus();if(!n){s.click()}}};const Y=(t,i)=>{t.preventDefault();const e=O(t);return e?i.get(e.id):undefined};const tt=t=>t.expandable&&t.expanded!==true;const it=(t,i,e,s,n,a)=>{for(let o=t;0<=o&&o<=i.length;o+=a){const t=i[o];if(t.type==="actionable"&&!t.disabled||t.type==="group"&&!t.disabled&&(t.expandable&&t.id!==e&&a===1||tt(t))){X(t,s,n);return}if(t.type==="group"&&!t.disabled&&!tt(t)){const i=et(a===1?0:t.items.length-1,t.items,s,n,a);if(i){return}if(t.expandable&&a===-1){X(t,s,n);return}}}};function et(t,i,e,s,n){for(let a=t;0<=a&&a<=i.length-1;a+=n){const t=i[a];if(!t.disabled){X(t,e,s);return true}}return false}const st={[d.ARROW_UP]:(t,i,e)=>{const s=Y(e,i);if(!s){return}const n=s.item;if(s.root){const i=s.root;const a=U(n,i);it(a-1,i,n.id,t,e,-1)}else{const a=s.parentItem;const o=i.get(a.id).root;const r=U(n,a.items);const c=et(r-1,a.items,t,e,-1);if(c){return}if(a.expandable){X(a,t,e);return}const l=U(a,o);it(l-1,o,n.id,t,e,-1)}},[d.ARROW_DOWN]:(t,i,e)=>{const s=Y(e,i);if(!s){return}const n=s.item;if(s.root){const i=s.root;const a=U(n,i);it(n.type==="group"&&!tt(n)?a:a+1,i,n.id,t,e,1)}else{const a=s.parentItem;const o=i.get(a.id).root;const r=U(n,a.items);const c=et(r+1,a.items,t,e,1);if(c){return}const l=U(a,o);it(l+1,o,n.id,t,e,1)}},[q]:(t,i,e)=>{const s=Q();if(!s||!s.editable&&!t.editableItems||s.editing||s.deleting||s.disabled){return}e.preventDefault();s.editing=true}};const nt=(t,i)=>e=>{const s=st[e.code];if(s){s(t,i,e)}};const at=(t,i,e,s)=>{const n=e.get(t);if(!n){return undefined}const a=n.item;if(i.type!==a.type){return undefined}for(const t in i){const e=i[t];if(e!==undefined){a[t]=e}}if(i.type==="separator"){return undefined}if(i.selected){s.add(t)}else if(i.selected===false){s.delete(t)}return T(n)};const ot=Object.freeze({confirmDelete:"Confirm delete",cancelDelete:"Cancel delete",confirmModify:"Confirm modification",cancelModify:"Cancel modification"});const rt=(t,i)=>{for(let e=0;e<t.length;e++){const s=t[e];if(s.type==="actionable"&&s.selected){i.add(s.id)}else if(s.type==="group"&&s.items!=null){rt(s.items,i)}}};const ct=(t,i)=>{if(t.size!==i.size){return true}for(const e of t){if(!i.has(e)){return true}}return false};const lt=(t,i)=>{const e=[...t.values()];const s=t.size-1;for(let t=0;t<s;t++){const s=e[t];W(s,i).selected=false}t.clear();t.add(e[s])};const ht=(t,i,e,s)=>{if(s==="single"){if(i.size>1){lt(i,e);return true}if(ct(t,i)){return true}return false}if(ct(t,i)){return true}return false};const dt=(t,i,e,s)=>{if(!t){return}for(let s=0;s<t.length;s++){const n=t[s];e.set(n.id,{item:n,parentItem:i})}s(t)};const ft=(t,i,e)=>{i.clear();if(!t){return}for(let s=0;s<t.length;s++){const n=t[s];if(n.type==="group"){i.set(n.id,{item:n,root:t});dt(n.items,n,i,e)}else if(n.type==="actionable"){i.set(n.id,{item:n,root:t})}}e(t)};const ut='*,::after,::before{box-sizing:border-box}:host{--ch-action-list-item__image-size:0.875em;--ch-action-list-item__background-image-size:100%;--ch-action-list-group__expandable-button-size:0.875em;--ch-action-list-group__expandable-button-image-size:100%;--ch-action-list-item__additional-item-fixed-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9.8 7.36V5.6H9V4H17V5.6H16.2V12L17.8 13.6V15.2H17.64L14.6 12.16V5.6H11.4V8.96L9.8 7.36ZM19.4 18.96L18.36 20L13.64 15.28V20H12.36V15.2H8.2V13.6L9.8 12V11.44L5 6.64L6.04 5.6L19.4 18.96ZM10.44 13.6H11.88L11.16 12.88L10.44 13.6Z"/></svg>\');--ch-action-list-item__additional-item-not-fixed-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 12V5.6H15.8V4H7.8V5.6H8.6V12L7 13.6V15.2H11.16V20H12.44V15.2H16.6V13.6L15 12ZM9.24 13.6L10.2 12.64V5.6H13.4V12.64L14.36 13.6H9.24Z"/></svg>\');--ch-action-list-item__additional-item-remove-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.18998 8.81H16.79V18C16.7927 18.3969 16.6369 18.7785 16.3571 19.0601C16.0774 19.3417 15.6969 19.5 15.3 19.5H8.68001C8.2831 19.5 7.90259 19.3417 7.62287 19.0601C7.34315 18.7785 7.18735 18.3969 7.18998 18V8.81ZM15.31 5.89V5.73C15.3045 5.08221 14.7778 4.56 14.13 4.56H9.85001C9.2022 4.56 8.6755 5.08221 8.67001 5.73V5.89H5.51001V7.39H18.51V5.89H15.31Z"/></svg>\');--ch-action-list-item__additional-item-modify-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5.58 14.38L9.58 18.38L4.77 19.23L5.58 14.38ZM13.31 6.66L17.3 10.65L10.64 17.32L6.64 13.32L13.31 6.66ZM15.95 4.64302C16.3442 4.64302 16.7222 4.80031 17 5.08L18.84 6.94C19.3861 7.51811 19.3861 8.42189 18.84 9L18.39 9.6L14.39 5.6L14.9 5.08C15.1778 4.80031 15.5558 4.64302 15.95 4.64302Z"/></svg>\');--ch-action-list-item__additional-item-confirm-image:url(\'data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 17.42L5 12.42L6.41 11L10 14.59L17.59 7L19 8.42L10 17.42Z"/></svg>\');--ch-action-list-item__additional-item-cancel-image:url(\'data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"/></svg>\');--ch-action-list-item__action-color:currentColor;display:grid;grid-auto-rows:max-content;block-size:100%;overflow:auto;contain:size}.separator{display:grid;block-size:1px;background-color:currentColor}';const mt=ut;const gt=true;const pt={actionable:(t,i,e,n=false,a=false)=>s("ch-action-list-item",{key:t.id,id:t.id,additionalInfo:t.additionalInformation,caption:t.caption,checkbox:t.checkbox??i.checkbox,checked:t.checked??i.checked,disabled:e===true?true:t.disabled??i.disabled,editable:t.editable??i.editableItems,fixed:t.fixed,getImagePathCallback:i.getImagePathCallback,metadata:t.metadata,nested:n,nestedExpandable:a,selectable:i.selection!=="none",selected:t.selected,translations:i.translations}),group:(t,i)=>s("ch-action-list-group",{key:t.id,id:t.id,caption:t.caption,disabled:t.disabled??i.disabled,expandable:t.expandable,expanded:t.expanded,selected:t.selected},t.items?.map((e=>i.renderItem(e,i,t.disabled,true,t.expandable)))),separator:()=>s("div",{role:"separator","aria-hidden":"true",class:"separator",part:"separator"})};const bt=(t,i,e,s,n)=>t.type==="actionable"?pt.actionable(t,i,e,s,n):pt[t.type](t,i);const vt=-1;const _t=0;const yt=t=>{t.sort(((t,i)=>{if(t.type==="actionable"&&i.type==="actionable"){if(t.fixed&&!i.fixed){return vt}if(!t.fixed&&i.fixed){return _t}}else if(t.type==="actionable"&&t.fixed){return vt}else if(i.type==="actionable"&&i.fixed){return _t}if(t.order<i.order){return vt}if(t.order>i.order){return _t}return t.type==="actionable"&&i.type==="actionable"&&t.caption<=i.caption?vt:_t}))};const kt=class{constructor(e){t(this,e);this.selectedItemsChange=i(this,"selectedItemsChange",7);this.itemClick=i(this,"itemClick",7);this.expanded=true;this.waitDropProcessing=false;this.checkbox=false;this.checked=false;this.disabled=false;this.editableItems=gt;this.fixItemCallback=undefined;this.getImagePathCallback=undefined;this.model=[];this.modifyItemCaptionCallback=undefined;this.renderItem=bt;this.removeItemCallback=undefined;this.selection="none";this.sortItemsCallback=yt;this.translations=ot}#k=new Map;#x=undefined;#w=false;get el(){return e(this)}modelChanged(){this.#w=true}selectionChanged(){this.#w=true}selectedItemsChange;itemClick;async addItem(t,i){if(this.#k.get(t.id)){return}if(i){const e=this.#k.get(i);if(!e||e.item.type!=="group"||t.type!=="actionable"){return}e.item.items.push(t);this.#k.set(t.id,{item:t,parentItem:e.item});this.#C(e.item.items)}else{this.model.push(t);this.#k.set(t.id,{item:t,root:this.model});this.#C(this.model)}a(this)}async getItemsInfo(t){return this.#L(t)}async removeItem(t){const i=this.#k.get(t);if(!i){return}if(i.item.type==="group"){const t=i.item.items;t.forEach((t=>{this.#k.delete(t.id)}))}this.#z(i)}#L=t=>{const i=[];t.forEach((t=>{const e=this.#k.get(t);if(e){i.push(e)}}));return i};async updateItemProperties(t,i){const e=new Set(this.#x);const s=at(t,i,this.#k,e);if(s!==undefined){this.#C(s)}if(ht(this.#x,e,this.#k,this.selection)){this.#x=e;this.#I()}a(this)}onCaptionChange(t){if(!this.modifyItemCaptionCallback){return}t.stopPropagation();const i=t.composedPath().find((t=>t.tagName&&t.tagName?.toLowerCase()===R));if(!i){return}const e=t.detail.itemId;const s=this.#k.get(e);const n=s.item;const o=t.detail.newCaption;const r=n.caption;n.caption=o;i.caption=o;this.modifyItemCaptionCallback(e,o).then((()=>{this.#C(T(s));a(this)})).catch((()=>{i.caption=r;n.caption=r}))}onFixedChange(t){const i=t.detail;const e=this.#k.get(i.itemId);const s=e.item;if(!this.fixItemCallback){this.#V(e,s,i.value);return}this.fixItemCallback(s,i.value).then((t=>{if(t){this.#V(e,s,i.value)}}))}#V=(t,i,e)=>{i.fixed=e;this.#C(T(t));a(this)};onRemove(t){const i=this.#k.get(t.detail);if(!this.removeItemCallback){this.#z(i);return}this.removeItemCallback(i.item).then((t=>{if(t){this.#z(i)}}))}#H=t=>W(t,this.#k);#M=t=>{if(t==="none"){this.#$();this.#x=undefined}else{if(!this.#x){this.#x=new Set;rt(this.model??[],this.#x);return}const t=new Set;rt(this.model??[],t);if(ht(this.#x,t,this.#k,this.selection)){this.#x=t;a(this);this.#I()}}};#$=()=>{if(this.#x){this.#x.forEach((t=>{const i=this.#H(t);i.selected=false}));this.#x.clear()}};#A=t=>{const i=O(t);if(!i||i.editing){return}const e=this.#H(i.id);this.#S(e);if(e.type==="group"&&!e.expandable){return}this.itemClick.emit(this.#k.get(e.id))};#S=t=>{if(t.type==="group"&&t.expandable&&!t.disabled){t.expanded=!t.expanded;a(this)}};#j=t=>{const i=O(t);if(!i||i.editing){return}const e=i.id;const s=this.#H(e);const n=y(t);const o=this.#x.has(e);const r=this.selection==="single";if(r){if(!n){this.#S(s)}if(o&&!n){return}const t=[...this.#x.keys()][0];if(t){this.#x.clear();const i=this.#H(t);i.selected=false}if(!o){this.#x.add(e)}s.selected=!o;this.#I();a(this);return}if(n){if(o){this.#x.delete(e)}else{this.#x.add(e)}s.selected=!o}else{this.#S(s);this.#$();this.#x.add(e);s.selected=true}this.#I();a(this)};#I=()=>{const t=this.#L([...this.#x.keys()]);this.selectedItemsChange.emit(t)};#z=t=>{const i=t.root??t.parentItem.items;const e=t.item.id;const s=i.findIndex((t=>t.id===e));if(s>-1){k(i,s)}this.#k.delete(e);a(this)};#C=t=>{if(this.sortItemsCallback){this.sortItemsCallback(t)}};#Z=t=>ft(t,this.#k,this.#C);connectedCallback(){x(this.el.shadowRoot.adoptedStyleSheets);this.#Z(this.model);this.#M(this.selection);this.el.setAttribute("role","list")}componentWillRender(){if(this.#w){this.#w=false;this.#Z(this.model);this.#M(this.selection)}}render(){return s(n,{key:"d3ca6ca382691277efcb674334882e6fd90d199a","aria-multiselectable":this.selection==="multiple"?"true":null,class:p,onClick:this.selection==="none"?this.#A:this.#j,onKeyDown:nt(this.el,this.#k)},this.model?.map((t=>this.renderItem(t,this,false,false,false))))}static get watchers(){return{model:["modelChanged"],selection:["selectionChanged"]}}};kt.style=mt;export{z as ch_action_list_group,F as ch_action_list_item,kt as ch_action_list_render};
//# sourceMappingURL=p-ec1078d4.entry.js.map